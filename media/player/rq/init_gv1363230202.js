/* auto generated by editiondigital :: 2022-03-10 01:46:27 GMT+0  fmdf-1t6712xqe1wpm */
/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")
},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});

;
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);
;
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2014 Rico Sta. Cruz
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
TRANSSPEED=1;;(function(root,factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(root.jQuery);}}(this,function($){$.transit={version:"0.9.12",propertyMap:{marginLeft:'margin',marginRight:'margin',marginBottom:'margin',marginTop:'margin',paddingLeft:'padding',paddingRight:'padding',paddingBottom:'padding',paddingTop:'padding'},enabled:true,useTransitionEnd:false};var div=document.createElement('div');var support={};function getVendorPropertyName(prop){if(prop in div.style)return prop;var prefixes=['Moz','Webkit','O','ms'];var prop_=prop.charAt(0).toUpperCase()+prop.substr(1);for(var i=0;i<prefixes.length;++i){var vendorProp=prefixes[i]+prop_;if(vendorProp in div.style){return vendorProp;}}}
function checkTransform3dSupport(){div.style[support.transform]='';div.style[support.transform]='rotateY(90deg)';return div.style[support.transform]!=='';}
var isChrome=navigator.userAgent.toLowerCase().indexOf('chrome')>-1;support.transition=getVendorPropertyName('transition');support.transitionDelay=getVendorPropertyName('transitionDelay');support.transform=getVendorPropertyName('transform');support.transformOrigin=getVendorPropertyName('transformOrigin');support.filter=getVendorPropertyName('Filter');support.transform3d=checkTransform3dSupport();support.transitionProperty=getVendorPropertyName('transitionProperty');var eventNames={'transition':'transitionend','MozTransition':'transitionend','OTransition':'oTransitionEnd','WebkitTransition':'webkitTransitionEnd','msTransition':'MSTransitionEnd'};var transitionEnd=support.transitionEnd=eventNames[support.transition]||null;for(var key in support){if(support.hasOwnProperty(key)&&typeof $.support[key]==='undefined'){$.support[key]=support[key];}}
div=null;$.cssEase={'_default':'ease','in':'ease-in','out':'ease-out','in-out':'ease-in-out','snap':'cubic-bezier(0,1,.5,1)','easeInCubic':'cubic-bezier(.550,.055,.675,.190)','easeOutCubic':'cubic-bezier(.215,.61,.355,1)','easeInOutCubic':'cubic-bezier(.645,.045,.355,1)','easeInCirc':'cubic-bezier(.6,.04,.98,.335)','easeOutCirc':'cubic-bezier(.075,.82,.165,1)','easeInOutCirc':'cubic-bezier(.785,.135,.15,.86)','easeInExpo':'cubic-bezier(.95,.05,.795,.035)','easeOutExpo':'cubic-bezier(.19,1,.22,1)','easeInOutExpo':'cubic-bezier(1,0,0,1)','easeInQuad':'cubic-bezier(.55,.085,.68,.53)','easeOutQuad':'cubic-bezier(.25,.46,.45,.94)','easeInOutQuad':'cubic-bezier(.455,.03,.515,.955)','easeInQuart':'cubic-bezier(.895,.03,.685,.22)','easeOutQuart':'cubic-bezier(.165,.84,.44,1)','easeInOutQuart':'cubic-bezier(.77,0,.175,1)','easeInQuint':'cubic-bezier(.755,.05,.855,.06)','easeOutQuint':'cubic-bezier(.23,1,.32,1)','easeInOutQuint':'cubic-bezier(.86,0,.07,1)','easeInSine':'cubic-bezier(.47,0,.745,.715)','easeOutSine':'cubic-bezier(.39,.575,.565,1)','easeInOutSine':'cubic-bezier(.445,.05,.55,.95)','easeInBack':'cubic-bezier(.6,-.28,.735,.045)','easeOutBack':'cubic-bezier(.175, .885,.32,1.275)','easeInOutBack':'cubic-bezier(.68,-.55,.265,1.55)'};$.cssHooks['transit:transform']={get:function(elem){return $(elem).data('transform')||new Transform();},set:function(elem,v){var value=v;if(!(value instanceof Transform)){value=new Transform(value);}
if(support.transform==='WebkitTransform'&&!isChrome){elem.style[support.transform]=value.toString(true);}else{elem.style[support.transform]=value.toString();}
$(elem).data('transform',value);}};$.cssHooks.transform={set:$.cssHooks['transit:transform'].set};$.cssHooks.filter={get:function(elem){return elem.style[support.filter];},set:function(elem,value){elem.style[support.filter]=value;}};if($.fn.jquery<"1.8"){$.cssHooks.transformOrigin={get:function(elem){return elem.style[support.transformOrigin];},set:function(elem,value){elem.style[support.transformOrigin]=value;}};$.cssHooks.transition={get:function(elem){return elem.style[support.transition];},set:function(elem,value){elem.style[support.transition]=value;}};}
registerCssHook('scale');registerCssHook('scaleX');registerCssHook('scaleY');registerCssHook('translate');registerCssHook('rotate');registerCssHook('rotateX');registerCssHook('rotateY');registerCssHook('rotate3d');registerCssHook('perspective');registerCssHook('skewX');registerCssHook('skewY');registerCssHook('x',true);registerCssHook('y',true);function Transform(str){if(typeof str==='string'){this.parse(str);}
return this;}
Transform.prototype={setFromString:function(prop,val){var args=(typeof val==='string')?val.split(','):(val.constructor===Array)?val:[val];args.unshift(prop);Transform.prototype.set.apply(this,args);},set:function(prop){var args=Array.prototype.slice.apply(arguments,[1]);if(this.setter[prop]){this.setter[prop].apply(this,args);}else{this[prop]=args.join(',');}},get:function(prop){if(this.getter[prop]){return this.getter[prop].apply(this);}else{return this[prop]||0;}},setter:{rotate:function(theta){this.rotate=unit(theta,'deg');},rotateX:function(theta){this.rotateX=unit(theta,'deg');},rotateY:function(theta){this.rotateY=unit(theta,'deg');},scale:function(x,y){if(y===undefined){y=x;}
this.scale=x+","+y;},skewX:function(x){this.skewX=unit(x,'deg');},skewY:function(y){this.skewY=unit(y,'deg');},perspective:function(dist){this.perspective=unit(dist,'px');},x:function(x){this.set('translate',x,null);},y:function(y){this.set('translate',null,y);},translate:function(x,y){if(this._translateX===undefined){this._translateX=0;}
if(this._translateY===undefined){this._translateY=0;}
if(x!==null&&x!==undefined){this._translateX=unit(x,'px');}
if(y!==null&&y!==undefined){this._translateY=unit(y,'px');}
this.translate=this._translateX+","+this._translateY;}},getter:{x:function(){return this._translateX||0;},y:function(){return this._translateY||0;},scale:function(){var s=(this.scale||"1,1").split(',');if(s[0]){s[0]=parseFloat(s[0]);}
if(s[1]){s[1]=parseFloat(s[1]);}
return(s[0]===s[1])?s[0]:s;},rotate3d:function(){var s=(this.rotate3d||"0,0,0,0deg").split(',');for(var i=0;i<=3;++i){if(s[i]){s[i]=parseFloat(s[i]);}}
if(s[3]){s[3]=unit(s[3],'deg');}
return s;}},parse:function(str){var self=this;str.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(x,prop,val){self.setFromString(prop,val);});},toString:function(use3d){var re=[];for(var i in this){if(this.hasOwnProperty(i)){if((!support.transform3d)&&((i==='rotateX')||(i==='rotateY')||(i==='perspective')||(i==='transformOrigin'))){continue;}
if(i[0]!=='_'){if(use3d&&(i==='scale')){re.push(i+"3d("+this[i]+",1)");}else if(use3d&&(i==='translate')){re.push(i+"3d("+this[i]+",0)");}else{re.push(i+"("+this[i]+")");}}}}
return re.join(" ");}};function callOrQueue(self,queue,fn){if(queue===true){self.queue(fn);}else if(queue){self.queue(queue,fn);}else{self.each(function(){fn.call(this);});}}
function getProperties(props){var re=[];$.each(props,function(key){key=$.camelCase(key);key=$.transit.propertyMap[key]||$.cssProps[key]||key;key=uncamel(key);if(support[key])
key=uncamel(support[key]);if($.inArray(key,re)===-1){re.push(key);}});return re;}
function getTransition(properties,duration,easing,delay){var props=getProperties(properties);if($.cssEase[easing]){easing=$.cssEase[easing];}
var attribs=''+toMS(duration)+' '+easing;if(parseInt(delay,10)>0){attribs+=' '+toMS(delay);}
var transitions=[];$.each(props,function(i,name){transitions.push(name+' '+attribs);});return transitions.join(', ');}
$.fn.transition=$.fn.transit=function(properties,duration,easing,callback){var self=this;var delay=0;var queue=true;var theseProperties=$.extend(true,{},properties);if(typeof duration==='function'){callback=duration;duration=undefined;}
if(typeof duration==='object'){easing=duration.easing;delay=duration.delay||0;queue=typeof duration.queue==="undefined"?true:duration.queue;callback=duration.complete;duration=duration.duration;}
if(typeof easing==='function'){callback=easing;easing=undefined;}
if(typeof theseProperties.easing!=='undefined'){easing=theseProperties.easing;delete theseProperties.easing;}
if(typeof theseProperties.duration!=='undefined'){duration=theseProperties.duration;delete theseProperties.duration;}
if(typeof theseProperties.complete!=='undefined'){callback=theseProperties.complete;delete theseProperties.complete;}
if(typeof theseProperties.queue!=='undefined'){queue=theseProperties.queue;delete theseProperties.queue;}
if(theseProperties.delay){delay=theseProperties.delay;delete theseProperties.delay;}
if(typeof duration==='undefined'){duration=$.fx.speeds._default;}
if(typeof easing==='undefined'){easing=$.cssEase._default;}
duration=toMS(duration*TRANSSPEED);var transitionValue=getTransition(theseProperties,duration,easing,delay);var work=$.transit.enabled&&support.transition;var i=work?(parseInt(duration,10)+parseInt(delay,10)):0;if(i===0){var fn=function(next){self.css(theseProperties);if(callback){callback.apply(self);}
if(next){next();}};callOrQueue(self,queue,fn);return self;}
var oldTransitions={};var run=function(nextCall){var bound=false;var cb=function(){if(bound){self.unbind(transitionEnd,cb);}
if(i>0){self.each(function(){this.style[support.transition]=(oldTransitions[this]||null);});}
if(typeof callback==='function'){callback.apply(self);}
if(typeof nextCall==='function'){nextCall();}};if((i>0)&&(transitionEnd)&&($.transit.useTransitionEnd)){bound=true;self.bind(transitionEnd,cb);}else{self.data('transitTimer',window.setTimeout(cb,i));}
self.each(function(){if(i>0){this.style[support.transition]=transitionValue;}
$(this).css(theseProperties);});};var deferredRun=function(next){this.offsetWidth=this.offsetWidth;run(next);};callOrQueue(self,queue,deferredRun);return this;};$.fn.transitionStop=$.fn.transStop=$.fn.transitStop=function(clearQueue,jumpToEnd){if(clearQueue===undefined){clearQueue=true;}
this.each(function(){var self=$(this);var id=self.data('transitTimer');clearTimeout(id);self.data('transitTimer',null);var properties=this.style[support.transitionProperty];if(properties){properties=properties.replace(/\s*/g,'').split(',');var style=window.getComputedStyle(this),css={};for(var i=0;i<properties.length;i++){css[properties[i]]=this.style[properties[i]];this.style[properties[i]]=style[properties[i]];}
this.offsetWidth;this.style[support.transition]='none';if(clearQueue){self.clearQueue();self.unbind(transitionEnd);};if(jumpToEnd){for(var i=0;i<properties.length;i++)
this.style[properties[i]]=css[properties[i]];var cb=self.data('transitCallback');if(typeof cb==='function')cb();}else if(!clearQueue){self.dequeue();};};});return this;};function registerCssHook(prop,isPixels){if(!isPixels){$.cssNumber[prop]=true;}
$.transit.propertyMap[prop]=support.transform;$.cssHooks[prop]={get:function(elem){var t=$(elem).css('transit:transform');return t.get(prop);},set:function(elem,value){var t=$(elem).css('transit:transform');t.setFromString(prop,value);$(elem).css({'transit:transform':t});}};}
function uncamel(str){return str.replace(/([A-Z])/g,function(letter){return'-'+letter.toLowerCase();});}
function unit(i,units){if((typeof i==="string")&&(!i.match(/^[\-0-9\.]+$/))){return i;}else{return""+i+units;}}
function toMS(duration){var i=duration;if(typeof i==='string'&&(!i.match(/^[\-0-9\.]+/))){i=$.fx.speeds[i]||$.fx.speeds._default;}
return unit(i,'ms');}
$.transit.getTransitionValue=getTransition;return $;}));
;
jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},ease:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeIn:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOut:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOut:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});
;
/*! jQuery UI - v1.11.4 - 2016-01-07
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, slider.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var s=0,n=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return o?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(h=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))})),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var a=!1;e(document).mouseup(function(){a=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),a=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,N=e.extend({},y),M=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?N.left-=d:"center"===n.my[0]&&(N.left-=d/2),"bottom"===n.my[1]?N.top-=c:"center"===n.my[1]&&(N.top-=c/2),N.left+=M[0],N.top+=M[1],a||(N.left=h(N.left),N.top=h(N.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](N,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+M[0],p[1]+M[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-N.left,i=t+m-d,s=v.top-N.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:N.left,top:N.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(N,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n
})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})});
;
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);
;
function nocss_init_anim_play(){if(!Modernizr.rgba)
{$('.body_image').addClass('fallback_bodyImage');if(!Modernizr.generatedcontent)
{$('.intro_header').removeClass('innerElementsHalfSizePosition').addClass('innerElementsHalfSizeMargin');$('.intro_body').removeClass('innerElementsHalfSizePosition').addClass('innerElementsHalfSizeMargin');}}
$('#seo-cover').stop().css({top:'60%',display:'inline-block',opacity:0.0001}).delay(550).transition({'opacity':1,top:'50%'},550,'easeInOut',function(){nocss_anim_end(1);});$('#seo-title').stop().css({top:'60%',display:'inline-block',opacity:0.0001}).delay(1150).transition({'opacity':1,top:'50%'},550,'easeInOut',function(){nocss_anim_end(0);});$('#seo-description').stop().css({top:'60%',display:'inline-block',opacity:0.0001}).delay(1550).transition({'opacity':1,top:'50%'},550,'easeInOut',function(){nocss_anim_end(1);});}
function nocss_anim_end(index){}
;
function ed_atp(actions,targets,params){var arr_actions_events=new Array();if(typeof(actions)==='object'){var arr=actions;actions='';targets='';params='';if((typeof(arr.a)!==undefined)&&(typeof(arr.t)!==undefined)&&(typeof(arr.p)!==undefined)){arr=[arr];}
for(var i=0;i<arr.length;i++){if(typeof(arr[i].a)!==undefined){arr_actions_events.push({'action':arr[i].a,'target':arr[i].t,'params':arr[i].p});}}}
else
{arr_actions_events.push({'action':actions,'target':targets,'params':params});}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{window.ed.ed_atp(arr_actions_events);}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)
{window.CitadelaPlayer.ed_atp(arr_actions_events);}}
function ed_get_current_page_id(){return window.ide.currentPage;}
function ed_get_current_page_index(){var pg=window.ide.currentPage;for(var i in window.eddata.pages){if(window.eddata.pages[i].id==pg){return(i);}}
return(-1);}
function compare_src(a,b){return(a.score-b.score)*(-1);}
function _ed_do_one_page_mobile_search(){var q_lc=window._ed_mobile_search_results_q.toLowerCase();for(var i=0;i<window._ed_mobile_search_results.length;i++){var mp=window._ed_mobile_search_results[i];if(mp.score<0){var presledek=' ';mp.score=0;mp.cnt=0;var mpage=window.eddata.pages_mobile[mp.mobile_page_id];window._ed_mobile_search_results[i].mobile_title=mpage.mobile_titile;var jq=$(mpage.mobile_content);var content=' '+jq.text()+presledek.repeat(80)+mpage.mobile_titile;var content_lc=content.toLowerCase();var qp=mpage.mobile_titile.toLowerCase().indexOf(q_lc);if(qp==0){mp.score+=100;}
if(qp>0){mp.score+=30;}
var re=new RegExp(q_lc,'g');var mtc=content_lc.match(re);if(mtc){mp.score+=mtc.length*1;mp.cnt+=mtc.length;var re=new RegExp(' '+q_lc,'g');var mtc=content_lc.match(re);var containing_text='';if(mtc){mp.score+=mtc.length*11;var fnd=' '+q_lc;}else{var fnd=q_lc;}
var pred=18;var za=40;var content2_lc=presledek.repeat(pred+1)+content_lc+presledek.repeat(za+1);var content2=presledek.repeat(pred+1)+content+presledek.repeat(za+1);var selcon_lc=content2_lc.substr(content2_lc.indexOf(fnd)-pred,fnd.length+pred+za);var selcon=content2.substr(content2_lc.indexOf(fnd)-pred,fnd.length+pred+za);var zac_pos=pred;var end_pos=pred+fnd.length+1
var cnt=0;for(var j=zac_pos;(cnt<8);j--){cnt++;if(selcon_lc.substr(j,1)==' '){zac_pos=j;break;}}
var cnt=0;for(var j=end_pos-1;(cnt<8);j++){cnt++;if(selcon_lc.substr(j,1)==' '){end_pos=j;break;}
if(selcon_lc.substr(j,1)==','){end_pos=j;break;}}
containing_text=selcon.substr(0,zac_pos)+'<b>'+selcon.substring(zac_pos,end_pos)+'</b>'+selcon.substr(end_pos);var cnt=0;for(var j=0;(cnt<12);j++){cnt++;if(containing_text.substr(j,1)==' '){containing_text=containing_text.substr(j);break;}}
var cnt=0;for(var j=containing_text.length;(cnt<8);j--){cnt++;if(containing_text.substr(j,1)==' '){containing_text=containing_text.substr(0,j);break;}}
window._ed_mobile_search_results[i].containing_text=containing_text;}
if(mp.score>0){mp.img='';var img=jq.find('div.image:first');img.each(function(i,obj){var img_url=$(obj).data('url');if(img_url){mp.img=img_url;return;}});}
window._ed_mobile_search_results[i].img=mp.img;window._ed_mobile_search_results[i].score=mp.score;window._ed_mobile_search_results[i].cnt=mp.cnt;setTimeout(function(){_ed_do_one_page_mobile_search();},30);return;}}
window._ed_mobile_search_results.sort(compare_src);var result=[];for(var i=0;i<window._ed_mobile_search_results.length;i++){var mp=window._ed_mobile_search_results[i];if(mp.score>0){var pg_id=0;for(var k=0;k<window.eddata.pages.length;k++){var nmpg=window.eddata.pages[k];if(nmpg.mob_page_id==mp.mobile_page_id){pg_id=nmpg.id;}}
result.push({page_id:pg_id,page_title:mp.mobile_title,img:mp.img,cnt:mp.cnt,"results":[{"text":mp.containing_text,"word":null}]});}}
window.tlbr.displaySearchResults(result);}
function search_edition(q,callback_str){if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile){window._ed_mobile_search_results=[];for(var mpid in eddata.pages_mobile){window._ed_mobile_search_results.push({mobile_page_id:mpid,score:-1,mobile_title:'',containing_text:''});}
window._ed_mobile_search_results_q=q;window._ed_mobile_search_results_callback_str=callback_str;setTimeout(function(){_ed_do_one_page_mobile_search();},30);return;}
if(window.edgl.full_page_text_offline_js&&window.edgl.full_words_offline_js){window.offline_q_text_search=q;offline_do_text_load();}else{var search_url=window.eddata.appearance.search_rq_url
search_url=search_url.replace('[[CALLBACK_FUNCTION]]',callback_str);search_url=search_url.replace('[[SEARCH_QUERY]]',q);var tmpScript=document.createElement('script');tmpScript.type='text/javascript';tmpScript.src=search_url;try{var head=document.getElementsByTagName('head').item(0);head.appendChild(tmpScript);}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 133; column: 447;  :: '+v);}}}
function set_player_size(x,y,w,h,duration){}
function attach_search_results_to_page(page_id,words_array){var pagesObj=null;var ii=0;for(var d in window.eddata.pages)
{if(window.eddata.pages[d].id==page_id)
{pagesObj=window.eddata.pages[d];var arrindex=pagesObj.arrindex;if(!arrindex){arrindex=ii;}}
ii++;}
if(pagesObj!=null)
{window.eddata.pages[arrindex].search_results={active:1,results:words_array};setTimeout('window.eddata.pages['+arrindex.toString()+'].search_results.active=0;',30*1000);if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{window.ed.ed_attach_search_results_to_page(page_id,words_array);}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile){ed_atp('gotopage','',page_id);}}
if(page_id==-1)
{if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{window.ed.ed_attach_search_results_to_page(page_id,null);}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile){window._ed_mobile_search_mark=true;window.tlbr.markSearchResultsMobile(true);}}}
function ed_show_popup(url,type,appendform)
{var isFormPopup=false;if(typeof(url)=='undefined')
{return false;}
if(typeof(type)=='undefined')
{var type='default';}
if(typeof(appendform)!='undefined')
{if(appendform!=null)
{isFormPopup=true;}}
var popupHandled=false;if(isApp()){url=modifySRCUrlForApps(url,'popup');}
if(!isFormPopup)
{if(typeof(window.tlbr)!='undefined')
{if(typeof(window.tlbr.showPopup)!='undefined')
{if(window.tlbr.showPopup(url,type))
{popupHandled=true;}}}
if(!popupHandled)
{show_default_popup(url,type);}}
else
{if(!popupHandled)
{show_default_formpopup(appendform,type);}}}
function ed_changeview(){if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{window.ed.gotoMobileView();}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)
{window.CitadelaPlayer.gotoDesktopView();}}
function ed_hide_popup(){window.allowkeyinteractions=true;var easing='ease-in-out';if(window.initer.isIe9)
{easing="swing";}
$('#ed_links_popup').stop().delay(30).transition({opacity:0.0001},150,easing,function(){$('#ed_links_popup').remove();$('#edition-layers').stop().css({display:'none'});});}
function show_default_popup(url,type){window.allowkeyinteractions=false;var iframe_appended=false;var no_con_str="";var iframe_sandbox='';if(isApp()){iframe_sandbox='sandbox="allow-forms allow-scripts allow-same-origin"';}
if(!window.ed_checkConnectivity()){}
var HTMLSRC='<div id="ed_links_popup" align="left" class="ed_popup '+type+' gpuAcc">';HTMLSRC+='<div class="inner_popup_holder '+type+'">';HTMLSRC+='<div class="ed_popup_frame_holder '+no_con_str+type+'">';HTMLSRC+='<div class="ed_popupclose_button" title="Close" onclick="javascript:ed_hide_popup();"></div>';if(window.ed_checkConnectivity()){HTMLSRC+='<iframe src="" frameborder="0" id="ed_popup_frame" name="ed_popup_frame" width="100%" align="left" class="ed_popup_frame" '+iframe_sandbox+'></iframe>';iframe_appended=true;}else{HTMLSRC+='<img src="'+window.ed_getNoConnImage()+'" align="left" width="100%" style="height:auto;">';}
HTMLSRC+='</div>';HTMLSRC+='</div>';HTMLSRC+='</div>';$('#ed_links_popup').remove();$('#edition-layers').append(HTMLSRC);if(iframe_appended){$('#ed_popup_frame')[0].src=url;}
var easing='ease-in-out';if(window.initer.isIe9)
{easing="swing";}
$('#ed_links_popup').stop().css({opacity:0.0001,display:'block','-webkit-overflow-scrolling':'touch','-moz-overflow-scrolling':'touch','-ms-overflow-scrolling':'touch'}).delay(30).transition({opacity:1},250,easing);$('#edition-layers').stop().css({display:'block'});}
function show_default_formpopup(formobj,type){var no_con_str="";if(!window.ed_checkConnectivity()){}
var HTMLSRC='<div id="ed_links_popup" align="left" class="ed_popup '+type+' gpuAcc">';HTMLSRC+='<div class="inner_popup_holder '+type+'">';HTMLSRC+='<div class="ed_popup_offset_holder '+type+'">';HTMLSRC+='<div class="ed_popup_frame_holder '+no_con_str+type+'">';HTMLSRC+='<div class="ed_popupclose_button" title="Close" onclick="javascript:ed_hide_popup();"></div>';HTMLSRC+='<div class="ed_popup_frame" width="100%" align="left" class="ed_popup_frame">';if(window.ed_checkConnectivity()&&typeof window.eddata.appearance.data_collection_rq_url!="undefined"){HTMLSRC+='<div class="ed_popup_frame_inner" width="100%" align="left" class="ed_popup_frame_innter"></div>';}else{HTMLSRC+='<img src="'+window.ed_getNoConnImage()+'" align="left" width="100%" style="height:auto;">';}
HTMLSRC+='</div>';HTMLSRC+='</div>';HTMLSRC+='</div>';HTMLSRC+='</div>';HTMLSRC+='</div>';$('#ed_links_popup').remove();$('#edition-layers').append(HTMLSRC);$('.ed_popup_frame_inner').append(formobj);var easing='ease-in-out';if(window.initer.isIe9)
{easing="swing";}
$('#ed_links_popup').stop().css({opacity:0.0001,display:'block','-webkit-overflow-scrolling':'touch','-moz-overflow-scrolling':'touch','-ms-overflow-scrolling':'touch'})
$(document).trigger("edSurveyPopupRender",null);$('#ed_links_popup').delay(50).transition({opacity:1},250,easing,function(){$(document).trigger("edSurveyPopupShow",null);});window.setTimeout("window.updateFormPopupHeight();",30);window.setTimeout("window.updateFormPopupHeight();",150);window.setTimeout("window.updateFormPopupHeight();",500);window.setTimeout("window.updateFormPopupHeight();",1000);window.allowkeyinteractions=false;$('#edition-layers').stop().css({display:'block'});}
window.updateFormPopupHeight=function(){try
{$('.inner_popup_holder').css({height:$('.ed_popup_frame_inner').height()+'px'});}catch(e){}}
$(document).on("edResize",function(event){window.updateFormPopupHeight();window.setTimeout("window.updateFormPopupHeight();",500);});window.ed_show_popup=ed_show_popup;function goto_next_page_dev(){if(window.edgl.edition.edition_type=='article'){return false;}
var next_plus=1;if(window.eddata.appearance.edition_style=='facingpages'){next_plus=2;}
var temp_find_obj=window.f.findObjFromWindowPgsByPagenumber(window.ide.currentPage+next_plus);if(temp_find_obj){window.ed.goToPage(temp_find_obj.id);return true;}
return false;}
function get_current_page_dev(){return window.ide.currentPage?window.ide.currentPage:-1;}
function is_facingpages_dev(){return(window.eddata.appearance.edition_style=='facingpages');}
function scroll_down_article_dev(down_pix){if(!down_pix){down_pix=60;}
window.scrollBy(0,down_pix);return Math.round($(window).scrollTop());}
function call_after_load_and_anim_finished_dev(loc){if(window.edgl.argo.indexOf('*edf_printscreen_mode*')>-1){console.log('PAGE_READY_PRINT '+loc);setTimeout(function(){$('.ed_copyright_branding').remove();},100);if(window.last_call_psm_int){clearTimeout(window.last_call_psm_int);}
if(window.anim10stimerend){clearTimeout(window.anim10stimerend);}
window.last_call_psm_int=setTimeout(function(){var temp_find_obj=window.f.findObjFromWindowPgsByPagenumber(window.ide.currentPage);if(temp_find_obj){var pgdiv=document.getElementById("pageHTMLDiv"+temp_find_obj.arrindex);if(pgdiv){var crect=pgdiv.getBoundingClientRect();var whxy=(Math.round(crect.width)-2)+'x'+(Math.round(crect.height)-2)+'+'+(Math.round(crect.left)+1)+'+'+(Math.round(crect.top)+1);console.log('info',{action:'printscreen_ready',page_id:temp_find_obj.id,whxy:whxy,page_wh:window.eddata.head.pageWidth+'x'+window.eddata.head.pageHeight});}}},1000);}}
function call_animplay_finished_dev(loc){if(window.edgl.argo.indexOf('*edf_animexport_mode*')>-1){var temp_find_obj=window.f.findObjFromWindowPgsByPagenumber(window.ide.currentPage);console.log('info',{action:'animplay_finished',page_id:temp_find_obj.id});}}
function call_after_edition_loaded_dev(loc){setTimeout(function(){var temp_find_obj=window.f.findObjFromWindowPgsByPagenumber(window.ide.currentPage);if(temp_find_obj){var pgdiv=document.getElementById("pageHTMLDiv"+temp_find_obj.arrindex);if(pgdiv){var crect=pgdiv.getBoundingClientRect();var whxy=(Math.round(crect.width)-2)+'x'+(Math.round(crect.height)-2)+'+'+(Math.round(crect.left)+1)+'+'+(Math.round(crect.top)+1);console.log('info',{action:'page_ready',page_id:temp_find_obj.id,whxy:whxy,page_wh:window.eddata.head.pageWidth+'x'+window.eddata.head.pageHeight});}}},100);}
function goto_page_id_dev(page_id){if(window.edgl.edition.edition_type=='article'){return false;}
window.ed.goToPage(page_id);return true;}
function offline_do_text_load(){if(typeof(window.idpt)==='undefined'){var script=document.createElement('script');script.onload=function(){offline_do_text_search();};script.src=window.edgl.full_page_text_offline_js;document.head.appendChild(script);}else{offline_do_text_search();}}
function offline_do_text_search(){setTimeout(function(){window.offline_result_text_search=window.idpt.search(window.offline_q_text_search,{expand:true});setTimeout(function(){offline_do_words_load();},500);},300);}
function offline_do_words_load(){if(typeof(window.pqw)==='undefined'){var script2=document.createElement('script');script2.onload=function(){setTimeout(function(){offline_do_words_search();},300);}
script2.src=window.edgl.full_words_offline_js;document.head.appendChild(script2);}else{setTimeout(function(){offline_do_words_search();},300);}}
function offline_do_words_search(){var res_arr_offline=[];for(var o in window.offline_result_text_search){var obj=window.offline_result_text_search[o];var arrsplt0=window.offline_q_text_search.split(" ");arrsplt0.splice(0,0,window.offline_q_text_search);var fnd_text=" ... <b>"+window.offline_q_text_search+"</b> ... ";for(var spli in arrsplt0){var qvv=arrsplt0[spli];var fp=obj.doc.body.toLowerCase().indexOf(qvv.toLowerCase());if(fp>-1){fnd_text=obj.doc.body.substr(fp-26,2*26+qvv.length);fnd_text=fnd_text.toLowerCase().replace(qvv.toLowerCase(),'<b>'+qvv.toLowerCase()+'</b>');for(var ii=0;ii<=9;ii++){if(fnd_text.charCodeAt(ii)<=32){fnd_text=fnd_text.substr(ii,500);break;}}
for(var ii=1;ii<=9;ii++){if(fnd_text.charCodeAt(fnd_text.length-ii)<=32){fnd_text=fnd_text.substr(0,fnd_text.length-ii);break;}}
break;}}
var onesr=window.pqw[obj.doc.id];if(onesr){var arr=onesr.split('|');var curr_pg_sr_obj={"page_id":obj.doc.id,"page_title":obj.doc.title,"results":[]};for(var ib in arr){var obb=arr[ib];var arrb=obb.split('!');var arrsplt=window.offline_q_text_search.split(" ");for(var spli in arrsplt){if(arrsplt[spli].length<2){continue;}
if((arrb[0].toLowerCase().indexOf(arrsplt[spli].toLowerCase())>-1)||(arrsplt[spli].toLowerCase().indexOf(arrb[0].toLowerCase())>-1&&arrb[0].length>3)){curr_pg_sr_obj.results.push({"text":fnd_text,"word":{"page_id":obj.doc.id,"word":arrb[0],"x":arrb[1],"y":arrb[2],"w":arrb[3],"h":arrb[4]}});}}}
if(!curr_pg_sr_obj.results.length){curr_pg_sr_obj.results.push({"text":fnd_text,"word":{"page_id":obj.doc.id,"word":'no',"x":0,"y":0,"w":1,"h":1}});}
res_arr_offline.push(curr_pg_sr_obj);}}
window.tlbr.displaySearchResults(res_arr_offline);}
;
function stats_init(){if(typeof _paq!="undefined"){var add='';if(typeof(window.edgl.webapp)!='undefined'){if(window.edgl.webapp!=''){add='_'+window.edgl.webapp;}}
_paq.push(['setCustomVariable',5,"player",window.edgl.player+add,"page"]);}else{if((window.eddata.head.stand_alone!=1)&&(window.eddata.teaser_mode==0)){edexcept('statinit',' _paq undefined ');}}}
if(typeof window.stats=='undefined'){window.stats=new Object();}
window.stats.var1=-1;window.stats.var2=Array();window.stats.var3=String("#main");window.stats.empty="";window.stats.first_stat=true;window.stats.getPageInfo=function(pgid){var obj={page_id:0,sef:'',title:''};if(typeof(window.eddata.pages)!='undefined'){for(var i in window.eddata.pages){pg=window.eddata.pages[i];if(pg.id==pgid){obj.page_id=pgid;obj.sef=pg.sef;obj.title=pg.tabtitle;obj.tabtitleoriginal=pg.tabtitleoriginal;break;}}}
return(obj);}
window.stats.first_stat_func=function(){if(window.edgl.lvm){if(window.edgl.lvm_allowed){if(typeof(window.edgl.acc_id)!='undefined'){setTimeout(function(){var image=document.createElement("img");image.src='https://request.editiondigital.com/rq/ed_lvm.php?eid='+window.edgl.edition.id+'&aid='+window.edgl.acc_id;},30);}}}
if(typeof _paq!="undefined"&&_paq){setTimeout("_paq.push(['trackEvent', 'bounce_correction', 'plus10sec', 'bounce_correction'])",10000);}}
window.stats.objectToString=function(object){var delimiter_key='=>';var delimiter_nl='|';var string='';for(var element in object){if(object.hasOwnProperty(element)){string+=element+delimiter_key+object[element]+delimiter_nl;}}
return string;}
window.stats.pageview=function(pageId){if(window.stats.first_stat){window.stats.first_stat=false;window.stats.first_stat_func();}
if(typeof _paq!="undefined"){_paq.push(['setDocumentTitle',"/pageid"+pageId]);_paq.push(['trackPageView']);}
if(typeof ga!="undefined"){ga('send','pageview',"/pageid"+pageId);}}
window.stats.event=function(event_category,event_action,statDataObj,event_value){if((event_action+'').toLowerCase()=='ignore'){return;}
if((event_category+'').toLowerCase()=='ignore'){return;}
if(window.stats.first_stat){window.stats.first_stat=false;window.stats.first_stat_func();}
if(typeof(statDataObj)!='undefined'){var replaceDelimiter='**delimit**';var replaceDelimiter2='**delimit2**';if(window.edgl.player=='html5'){statDataObj.mobile=0;}
statDataObj.label=statDataObj.label.replace('|',replaceDelimiter);statDataObj.label=statDataObj.label.replace('=>',replaceDelimiter2);var eventName=window.stats.objectToString(statDataObj);if(typeof _paq!="undefined"){_paq.push(['trackEvent',event_category,''+event_action,''+eventName,event_value]);}
if(typeof ga!="undefined"){var ga_label='';if(typeof(statDataObj.label)!='undefined'&&statDataObj.label.length>1){ga_label+=statDataObj.label+' ';}
if(typeof(statDataObj.label2)!='undefined'&&statDataObj.label2.length>1){ga_label+=statDataObj.label2+' ';}
if(typeof(statDataObj.image)!='undefined'&&statDataObj.image.length>1){ga_label+=statDataObj.image+' ';}
ga('send','event',event_category,''+event_action,''+ga_label.trim(),event_value);}}}
;
if(typeof(jtrace)=='undefined'){function jtrace(){}}
window.JS_VER=10;simple_stringify=function(obj)
{function escapeStr(str)
{str=str.replace(/"/g,"\\\"");return str}
function valToStr(val)
{if(typeof val=='string'){return'"'+escapeStr(val)+'"';}
return String(val);}
var result='';if(isArray(obj))
{result+='[';for(var key=0;key<=obj.length-1;key++)
{if(typeof obj[key]=='object'){result+=simple_stringify(obj[key]);}
else{result+=valToStr(obj[key]);}
result+=',';}
result=result.replace(/,\s*$/,'');result+=']';}
else if(typeof obj=='object')
{result+='{';for(var key in obj)
{if(obj.hasOwnProperty(key))
{result+='"'+key+'":';if(typeof obj[key]=='object'){result+=simple_stringify(obj[key]);}
else{result+=valToStr(obj[key]);}
result+=',';}}
result=result.replace(/,\s*$/,'');result+='}';}
else
{result+=valToStr(obj);}
return result;}
var chooserJS=playerJS={setPublicationDownloadStatus:function(ident,status,progress,total)
{jtrace('chooserJS: setPublicationDownloadStatus ident:'+ident+', status ='+status+', prog:'+progress+', total:'+total);if(!ident){edexcept('webapp.setPublicationDownloadStatus','invalid ident');return;}
if(!status){status='none';}
status=status.toLowerCase();if(!status.isContained('none,downloading,downloaded,waiting,paused'))
{edexcept('webapp.setPublicationDownloadStatus','invalid status '+status);return;}
$(window).trigger('issueDownloadingChanged',[ident,status,progress,total]);},setDebugMode:function()
{jtrace('chooserJS: setDebugMode');window.ED_DEBUG=true;chooser.setDebugMode();},netAvailableChanged:function(newStatus)
{jtrace('chooserJS: netAvailableChanged',newStatus);var value;switch(newStatus)
{}
newStatus=newStatus.isContained('clientError|serverError|Available')?newStatus:'serverError';$('html').attr('data-net_available',newStatus);$('html').trigger('netAvailableChanged',[newStatus]);},issuesDataChanged:function(data)
{jtrace('chooserJS: issuesDataChanged',data);if(data=='serverError'){data=undefined;}
$('html').trigger('contentDataChanged',[data]);},issueDataChanged:function(data)
{jtrace('issueDataChanged data :',data);if(!data.ident){edexcept('chooserJS.issueDataChanged','Invalid data.ident');console.log(data);return;}
if(data=='serverError'){data=undefined;}
$('html').trigger('issueDataChanged',[data]);},showLoader:function()
{jtrace('showLoader');$('html').trigger('chooser.showLoader');},hideLoader:function()
{jtrace('hideLoader');$('html').trigger('chooser.hideLoader');},showError:function(s){}}
if(!window.webapp){window.webapp={};}
webapp.statusBarHeight=webapp.statusBarHeight||0;webapp._lastAppActionCallbackId=0;webapp._appActionCallbacks=[];webapp.appAction=function(data,callback)
{if(typeof data!='object')
{console.log('Error: appAction no data to send!');return;}
if(!data.action)
{console.log('Error: appAction no action!');return;}
try
{jtrace('action',data.action);jtrace('action',data);if(callback)
{jtrace('callback yes')
this._lastAppActionCallbackId++;data.callbackId=this._lastAppActionCallbackId;this._appActionCallbacks.push({callbackId:this._lastAppActionCallbackId,callback:callback});}
var has_webkit=false;if(typeof webkit!="undefined"&&typeof webkit.messageHandlers!="undefined"){has_webkit=true;if(data.data){edexcept(data.action,data.data);}
if(data.value){edexcept(data.action,data.value);}
webkit.messageHandlers.callNativeApp.postMessage(data);}
var has_android=false;if(typeof Android!="undefined")
{has_android=true;var _data=data;if(typeof data=="object"){_data=simple_stringify(_data);}
if(_data.data){edexcept(_data.action,_data.data);}
if(_data.value){edexcept(_data.action,_data.value);}
Android.callNativeApp(_data);}
return true;}
catch(err)
{jtrace('Error: ',err);switch(data.action)
{case'app.getData':if(window.ED_DEBUG)
{var data=jQuery.parseJSON(debugGetData('nexus_footer'));var self=this;setTimeout(function(){chooserJS.issuesDataChanged(data);},700);}
break;}}};webapp.appActionComplete=function(callbackId,result)
{jtrace('arrived ',callbackId)
$.each(this._appActionCallbacks,function(i,item)
{if(item.callbackId!=callbackId){return;}
item.callback(result);});};webapp.downloadIssue=function(ident)
{this.appAction({action:"download",ident:ident});};webapp.togglePauseDownload=function(pause)
{this.appAction({action:'app.toggle_pause_download',pause:pause});jtrace('pause :',pause);if(ED_DEBUG&&!this.isInsideApp())
{clearTimeout(chooser.debugdata.dlTimer);if(pause)
{chooserJS.setPublicationDownloadStatus(chooser.debugdata.download_ident,'paused');}
else
{jtrace('unpause')
chooser.debugdata.dlTimer=setTimeout(function(){chooser.fakeDownloadTimer();},500);}}};webapp.cancelDownload=function(ident)
{this.appAction({action:'app.cancel_download',ident:ident});if(ED_DEBUG&&!this.isInsideApp())
{clearTimeout(chooser.debugdata.dlTimer);chooserJS.setPublicationDownloadStatus(ident,'none');}};webapp.removeDownloadedVersion=function(idents)
{if(typeof idents=='string'){idents=[idents];}
this.appAction({action:'app.remove_downloaded_versions',idents:idents});};if(window.location.search.indexOf('web=1')>-1){webapp.origin="web";}
webapp.appAction({action:'app_please_init_vars'});
;
window.JS_VER=12;if(typeof(jtrace)=='undefined'){function jtrace(){}}
isjan=isJan=function()
{return typeof ED_ARGO=='string'&&ED_ARGO.indexOf('*jan123*')>-1;}
appOs=function()
{switch(String(webapp.frameworkId).toLowerCase())
{case'ios':return'ios';case'iosapp':return'ios';case'android':return'android';}
return''}
attachAppClasses=function()
{var classes=' '+(appOs()?appOs():'not')+'_app';if(webapp.frameworkId&&webapp.frameworkId>0)
{classes+=' app_framework_'+String(webapp.frameworkId).toLowerCase();}
document.documentElement.className+=classes}
setAppHeight=function(){if(webapp.frameworkId&&(String(webapp.frameworkId).toLowerCase()=='ios'||String(webapp.frameworkId).toLowerCase()=='iosapp')){}}
isAppType=function(app_type){if(!app_type||typeof app_type!='string'||!window.webapp){return false;}
if((webapp.frameworkId&&String(webapp.frameworkId).toLowerCase()==app_type.toLowerCase())||(webapp.appFrameworkId&&String(webapp.appFrameworkId).toLowerCase()==app_type.toLowerCase())){return true;}
return false;}
isApp=function(){return isAppType('ios')||isAppType('android');}
modifySRCUrlForApps=function(url,edlinkq_list_key){if(!url){return'';}
var edlinkq_list={'popup':'qwbnhzterqh1','iframe':'qwbnhzterqh2',}
var new_url='';var extra_param='edinlinkq='+edlinkq_list[edlinkq_list_key];var hash_index=url.indexOf('#');var no_post_params=url.indexOf('?')==-1&&url.indexOf('&')==-1;var insert_at=function(index,to_insert,original_string){return original_string.substr(0,index)+to_insert+original_string.substr(index);}
if(hash_index==-1){if(no_post_params){new_url=url+'?'+extra_param;}
else{new_url=url+"&"+extra_param;}}
else{if(no_post_params){new_url=insert_at(hash_index,'?'+extra_param,url);}
else{new_url=insert_at(hash_index,'&'+extra_param,url);}}
return new_url;}
postDataToApp=function(data){try{if(isAppType('ios')){webkit.messageHandlers.callNativeApp.postMessage(data);}
if(isAppType('android')){if(typeof data!="string"){data=simple_stringify(data);}
Android.callNativeApp(data);}}
catch(e){}}
drawAppDebug=function(str){if((window.edgl.argo.indexOf('*debug*')==-1)||typeof str!='string'||!isApp()){return;}
var element=$('#drawAppDebug');if(!element.length){$('body').append('<div id="drawAppDebug"><div class="toggler">Toggle</div><div class="content"></div></div>');element=$('#drawAppDebug');element.on('touchstart',function(e){element.attr('data-fullscreen',!element.attr('data-fullscreen'));});}
element.find('.content').append('<div>'+str+'<br></div>');}
;
window.arrlanguage=new Array();window.arrlanguage['en']={"edition_language":"en","empty_subject":"Subject is empty","empty_body":"Body is empty","fill_in_your_email":"Fill in your e-mail please","fill_in_friend_email":"Fill in your friend's e-mail please","TEXT_searchNotAllowedInPreviewMode":"Search is disabled in preview","TEXT_sharingNotAllowedInPreviewMode":"Sharing is disabled in preview","TEXT_sharingNotAllowedInReviewMode":"Sharing is disabled in review","TEXT_mailsendingNotAllowedInPreviewMode":"Send to friend is disabled in preview","TEXT_mailsendingNotAllowedInReviewMode":"Send to friend is disabled in review","mail_send_error":"There was a problem sending email. Please try again later","mail_send_success":"Mail successfully sent","placeholder_friendsemail":"Friend's e-mail","placeholder_yourname":"Your name","placeholder_youremail":"Your e-mail","form_send_to_friend_title":"Send to friend","form_send_to_friend_send":"Send","toolbar_btn_search_title":"Search","toolbar_btn_share_title":"Share","toolbar_btn_hide_title":"Hide","toolbar_input_placeholder":"Search...","toolbar_btn_back":"< BACK","toolbar_download_progress":"Download progress","toolbar_download_statusnotdownloading":"Ready to download","toolbar_download_statusdownloading":"Downloading ...","toolbar_download_statuspaused":"Download paused","toolbar_download_statusdownloadcomplete":"Download complete","toolbar_download_btncancel":"Cancel","toolbar_download_btnresume":"Resume","toolbar_download_btnpause":"Pause","toolbar_download_btnstart":"Start","toolbar_download_requesterror":"Error requesting download please try again later","toolbar_pages":"Pages","toolbar_contents":"Contents","toolbar_toc":"Table of contents","survey_success_submit":"Successfully submitted","survey_thank_you":"Thank you!","survey_close":"Close","survey_send_form":"Send form","survey_valid_email":"Please enter a valid email","survey_valid_phone":"Please enter a valid phone number","survey_valid_number":"Please enter a valid number","survey_valid_required":"This field is required","survey_submit_err":"Form was not submitted","toolbar_content_hub_btn":"Back to content hub","this_is_a_preview":"This is a preview","gdpr_checkbox":"I have read and consent to the <a href=\"/new-eu-gdpr\" target=\"_blank\">EU General Data Protection Regulation (GDPR)</a>","toolbar_user_bookmarks_add":"Add new bookmark","toolbar_my_bookmarks":"My bookmarks","bookmark_this":"Bookmark this","user_bookmark_name":"Bookmark name (optional)","user_bookmark_comment":"Comment (optional)","user_bookmark_save":"Save bookmark","user_bookmark_Cancel":"Cancel","freehand_close":"Close",}
window.arrlanguage['sl']={"edition_language":"sl","empty_subject":"Ni zadeve","empty_body":"Vsebina je prazna","fill_in_your_email":"Vnesite svoj e-poštni naslov","fill_in_friend_email":"Vnesite prijateljev e-poštni naslov","TEXT_searchNotAllowedInPreviewMode":"Iskanje je onemogočeno v 'Preview'","TEXT_sharingNotAllowedInPreviewMode":"Deljenje je onemogočeno v 'Preview'","TEXT_sharingNotAllowedInReviewMode":"Deljenje je onemogočeno v 'Review'","TEXT_mailsendingNotAllowedInPreviewMode":"Pošlji prijatelju je onemogočeno v 'Preview'","TEXT_mailsendingNotAllowedInReviewMode":"Pošlji prijatelju je onemogočeno v 'Review'","mail_send_error":"Napaka pri pošiljanju, poskusite pozneje","mail_send_success":"E-pošta poslana","placeholder_friendsemail":"Prijateljev e-poštni naslov","placeholder_yourname":"Tvoje ime","placeholder_youremail":"Tvoj e-poštni naslov","form_send_to_friend_title":"Pošlji prijatelju","form_send_to_friend_send":"Pošlji","toolbar_btn_search_title":"Išči","toolbar_btn_share_title":"Deli","toolbar_btn_hide_title":"Skrij","toolbar_input_placeholder":"Išči...","toolbar_btn_back":"< NAZAJ","toolbar_download_progress":"Prenos","toolbar_download_statusnotdownloading":"Pripravljeno za prenos","toolbar_download_statusdownloading":"Prenašam ...","toolbar_download_statuspaused":"Začasno prekinjeneno","toolbar_download_statusdownloadcomplete":"Prenos zaključen","toolbar_download_btncancel":"Prekliči","toolbar_download_btnresume":"Nadaljuj","toolbar_download_btnpause":"Premor","toolbar_download_btnstart":"Začni","toolbar_download_requesterror":"Napaka pri prenosu, prosimo poskusite pozneje","toolbar_pages":"Strani","toolbar_contents":"Vsebine","toolbar_toc":"Kazalo","survey_success_submit":"Uspešno poslano","survey_thank_you":"Hvala!","survey_close":"Zapri","survey_send_form":"Pošlji","survey_valid_email":"Prosim, vnesi veljavni elektronski naslov","survey_valid_phone":"Prosim, vnesi veljavno telefonsko številko","survey_valid_number":"Prosim, vnesi veljavno številko","survey_valid_required":"Obvezen vnos","survey_submit_err":"Obrazec ni bil poslan","toolbar_content_hub_btn":"Nazaj","this_is_a_preview":"To je predogled!","gdpr_checkbox":"Strinjam se z <a href=\"/new-eu-gdpr/si\" target=\"_blank\">EU Splošno uredbo o varstvu podatkov</a>","toolbar_user_bookmarks_add":"Nov zaznamek","toolbar_my_bookmarks":"Moji zaznamki","bookmark_this":"Nov zaznamek","user_bookmark_name":"Ime zaznamka (neobvezno)","user_bookmark_comment":"Komentar (neobvezno)","user_bookmark_save":"Shrani zaznamek","user_bookmark_Cancel":"Prekliči","freehand_close":"Zapri",}
window.arrlanguage['sr']={"edition_language":"sr","empty_subject":"Naslov nije upisan","empty_body":"Sadržaj ne postoji","fill_in_your_email":"Upišite svoju adresu e-pošte","fill_in_friend_email":"Upišite adresu e-pošte prijatelja","TEXT_searchNotAllowedInPreviewMode":"Pretraživanje je onemogućeno u 'Preview' statusu","TEXT_sharingNotAllowedInPreviewMode":"Deljenje je onemogućeno u 'Preview' statusu","TEXT_sharingNotAllowedInReviewMode":"Deljenje je onemogućeno u 'Review' statusu","TEXT_mailsendingNotAllowedInPreviewMode":"Pošalji prijatelju je onemogućeno u 'Preview' statusu","TEXT_mailsendingNotAllowedInReviewMode":"Pošalji prijatelju je onemogućeno u 'Review' statusu","mail_send_error":"Greška prilikom slanja, pokušajte kasnije","mail_send_success":"E-pošta je poslata","placeholder_friendsemail":"Adresa e-pošte prijatelja","placeholder_yourname":"Tvoje ime","placeholder_youremail":"Tvoja adresa e-pošte","form_send_to_friend_title":"Pošalji prijatelju","form_send_to_friend_send":"Pošalji","toolbar_btn_search_title":"Pretraži","toolbar_btn_share_title":"Podeli","toolbar_btn_hide_title":"Sakrij","toolbar_input_placeholder":"Pretraži...","toolbar_btn_back":"< NAZAD","toolbar_download_progress":"Preuzimanje","toolbar_download_statusnotdownloading":"Spremno za preuzimanje","toolbar_download_statusdownloading":"Preuzimam ...","toolbar_download_statuspaused":"Privremeno zaustavljeno","toolbar_download_statusdownloadcomplete":"Preuzimanje je završeno","toolbar_download_btncancel":"Prekini","toolbar_download_btnresume":"Nastavi","toolbar_download_btnpause":"Pauza","toolbar_download_btnstart":"Počni","toolbar_download_requesterror":"Greška prilikom prenosa, molimo pokušajte kasnije","toolbar_pages":"Stranice","toolbar_contents":"Sadržaj","toolbar_toc":"Pregled sadržaja","survey_success_submit":"Uspešno poslato","survey_thank_you":"Hvala!","survey_close":"Zatvori","survey_send_form":"Pošalji","survey_valid_email":"Molimo upišite važeću adresu e-pošte","survey_valid_phone":"Molimo upišite važeći telefonski broj","survey_valid_number":"Molimo unesite pravi broj","survey_valid_required":"Polje je obavezno","survey_submit_err":"Podaci nisu poslati","toolbar_content_hub_btn":"Nazad"}
window.arrlanguage['rs']={"edition_language":"rs","empty_subject":"Наслов није уписан","empty_body":"Садржај не постоји","fill_in_your_email":"Упишите своју адресу е-поште","fill_in_friend_email":"Упишите адресу e-поште пријатеља","TEXT_searchNotAllowedInPreviewMode":"Претраживање је онемогућено у \"Preview\" статусу","TEXT_sharingNotAllowedInPreviewMode":"Дељење је онемогућено у \"Preview\" статусу","TEXT_sharingNotAllowedInReviewMode":"Дељење је онемогућено у \"Review\" статусу","TEXT_mailsendingNotAllowedInPreviewMode":"Пошаљи пријатељу је онемогућено у \"Preview\" статусу","TEXT_mailsendingNotAllowedInReviewMode":"Пошаљи пријатељу је онемогућено у \"Review\" статусу","mail_send_error":"Грешка приликом слања, пробајте касније","mail_send_success":"Е-поштa је послатa","placeholder_friendsemail":"Адреса е-поште пријатеља","placeholder_yourname":"Твоје име","placeholder_youremail":"Твоја aдреса е-поште","form_send_to_friend_title":"Пошаљи пријатељу","form_send_to_friend_send":"Пошаљи","toolbar_btn_search_title":"Претражи","toolbar_btn_share_title":"Подели","toolbar_btn_hide_title":"Сакриј","toolbar_input_placeholder":"Претражи...","toolbar_btn_back":"< НАЗАД","toolbar_download_progress":"Преузимање","toolbar_download_statusnotdownloading":"Спремно за преузимање","toolbar_download_statusdownloading":"Преузимам ...","toolbar_download_statuspaused":"Привремено заустављено","toolbar_download_statusdownloadcomplete":"Преузимање је завршено","toolbar_download_btncancel":"Прекини","toolbar_download_btnresume":"Настави","toolbar_download_btnpause":"Пауза","toolbar_download_btnstart":"Почни","toolbar_download_requesterror":"Грешка приликом преноса, молимо покушајте касније","toolbar_pages":"Странице","toolbar_contents":"Садржај","toolbar_toc":"Преглед садржаја","survey_success_submit":"Успешно  послато","survey_thank_you":"Хвала!","survey_close":"Затвори","survey_send_form":"Пошаљи","survey_valid_email":"Молимо упишите важећу адресу е-поште","survey_valid_phone":"Молимо упишите важећи телефонски бројј","survey_valid_number":"Молимо унесите прави број","survey_valid_required":"Поље је обавезно","survey_submit_err":"Подаци нису послати","toolbar_content_hub_btn":"Назад"}
window.arrlanguage['hr']={"edition_language":"hr","empty_subject":"Predmet nije upisan","empty_body":"Sadržaj ne postoji","fill_in_your_email":"Upišite svoju e-mail adresu","fill_in_friend_email":"Upišite e-mail adresu prijatelja","TEXT_searchNotAllowedInPreviewMode":"Pretraživanje je onemogućeno u 'Preview' modu","TEXT_sharingNotAllowedInPreviewMode":"Djeljenje je onemogućeno u 'Preview' modu","TEXT_sharingNotAllowedInReviewMode":"Djeljenje je onemogućeno u 'Review' modu","TEXT_mailsendingNotAllowedInPreviewMode":"Pošalji prijatelju je onemogućeno u 'Preview' modu","TEXT_mailsendingNotAllowedInReviewMode":"Pošalji prijatelju je onemogućeno u 'Review' modu","mail_send_error":"Pogreška kod slanja, pokušajte kasnije","mail_send_success":"E-mail je poslan","placeholder_friendsemail":"E-mail adresa od prijatelja","placeholder_yourname":"Tvoje ime","placeholder_youremail":"Tvoja e-mail adresa","form_send_to_friend_title":"Pošalji prijatelju","form_send_to_friend_send":"Pošalji","toolbar_btn_search_title":"Pretraži","toolbar_btn_share_title":"Djeli","toolbar_btn_hide_title":"Sakrij","toolbar_input_placeholder":"Traži...","toolbar_btn_back":"< NAZAD","toolbar_download_progress":"Prijenos","toolbar_download_statusnotdownloading":"Spremno za prijenos","toolbar_download_statusdownloading":"Prenosim ...","toolbar_download_statuspaused":"Prijevremeno zaustavljeno","toolbar_download_statusdownloadcomplete":"Prijenos zaključen","toolbar_download_btncancel":"Odustani","toolbar_download_btnresume":"Nastavi","toolbar_download_btnpause":"Pauza","toolbar_download_btnstart":"Započni","toolbar_download_requesterror":"Pogreška kod prijenosa, molimo pokušajte kasnije","toolbar_pages":"Strane","toolbar_contents":"Sadržaji","toolbar_toc":"Sadržaj","survey_success_submit":"Uspješno poslano","survey_thank_you":"Hvala!","survey_close":"Zatvori","survey_send_form":"Pošalji","survey_valid_email":"Molimo, upišite valjanu e-mail adresu","survey_valid_phone":"Molimo, upišite valjani telefonski broj","survey_valid_number":"Molimo, unesite valjani broj","survey_valid_required":"Obavezan unos","survey_submit_err":"Obrazac nije bio poslan","toolbar_content_hub_btn":"Nazad"}
window.arrlanguage['de']={"edition_language":"de","empty_subject":"kein Betreff","empty_body":"kein Inhalt","fill_in_your_email":"Ihre E-Mail-Adresse eintragen","fill_in_friend_email":"Die E-Mail-Adresse Ihres Freundes eintragen","TEXT_searchNotAllowedInPreviewMode":"Das Suchen in 'Preview' unmöglich gemacht","TEXT_sharingNotAllowedInPreviewMode":"Das Teilen in 'Preview' unmöglich gemacht","TEXT_sharingNotAllowedInReviewMode":"Das Teilen in 'Review' unmöglich gemacht","TEXT_mailsendingNotAllowedInPreviewMode":"Das Teilen mit Freunden ist in 'Preview' unmöglich gemacht","TEXT_mailsendingNotAllowedInReviewMode":"Das Teilen mit Freunden ist in 'Review' unmöglich gemacht","mail_send_error":"Fehler beim Senden, bitte versuchen Sie es später nochmals","mail_send_success":"E-Mail gesandt","placeholder_friendsemail":"E-Mail-Adresse des Freundes","placeholder_yourname":"Dein Name","placeholder_youremail":"Deine E-Mail-Adresse","form_send_to_friend_title":"An Freund senden","form_send_to_friend_send":"Senden","toolbar_btn_search_title":"Suchen","toolbar_btn_share_title":"Teilen","toolbar_btn_hide_title":"Verbergen","toolbar_input_placeholder":"Suchen …","toolbar_pages":"Seiten","toolbar_contents":"Inhalt"}
window.arrlanguage['es']={"edition_language":"es","empty_subject":"No hay asuntos","empty_body":"No hay contenido","fill_in_your_email":"Introduzca su dirección de correo electrónico","fill_in_friend_email":"Introduzca la dirección de correo electrónico de su amigo","TEXT_searchNotAllowedInPreviewMode":"No es posible la búsqueda en 'Preview'","TEXT_sharingNotAllowedInPreviewMode":"No es posible compartir en 'Preview'","TEXT_sharingNotAllowedInReviewMode":"No es posible compartir en 'Review'","TEXT_mailsendingNotAllowedInPreviewMode":"No es posible enviar a un amigo en 'Preview'","TEXT_mailsendingNotAllowedInReviewMode":"No es posible enviar a un amigo en 'Review'","mail_send_error":"Error al enviar, intentar más tarde","mail_send_success":"El correo electrónico ha sido enviado","placeholder_friendsemail":"Dirección de correo electrónico de tu amigo","placeholder_yourname":"Tu nombre","placeholder_youremail":"Tu dirección de correo electrónico","form_send_to_friend_title":"Enviar a un amigo","form_send_to_friend_send":"Enviar","toolbar_btn_search_title":"Buscar","toolbar_btn_share_title":"Compartir","toolbar_btn_hide_title":"Esconder","toolbar_input_placeholder":"Buscar…","toolbar_pages":"Páginas","toolbar_contents":"Contenido"}
window.arrlanguage['pt']={"edition_language":"pt","empty_subject":"Sem assunto","empty_body":"Sem conteúdo","fill_in_your_email":"Introduza o seu endereço de correio eletrónico","fill_in_friend_email":"Introduza o endereço de correio eletrónico do seu amigo","TEXT_searchNotAllowedInPreviewMode":"Pesquisar está desativado no modo Visualização","TEXT_sharingNotAllowedInPreviewMode":"Partilhar está desativado no modo Visualização","TEXT_sharingNotAllowedInReviewMode":"Partilhar está desativado no modo Revisão","TEXT_mailsendingNotAllowedInPreviewMode":"Enviar para um amigo está desativado no modo Visualização","TEXT_mailsendingNotAllowedInReviewMode":"Enviar para um amigo está desativado no modo Revisão","mail_send_error":"Erro durante o envio, por favor, tente novamente mais tarde","mail_send_success":"E-mail enviado","placeholder_friendsemail":"Endereço eletrónico do amigo","placeholder_yourname":"O seu nome","placeholder_youremail":"O seu endereço eletrónico","form_send_to_friend_title":"Enviar para um amigo","form_send_to_friend_send":"Enviar","toolbar_btn_search_title":"Pesquisar","toolbar_btn_share_title":"Partilhar","toolbar_btn_hide_title":"Ocultar","toolbar_input_placeholder":"Pesquisar…","toolbar_pages":"Páginas","toolbar_contents":"Conteúdo"}
window.arrlanguage['it']={"edition_language":"it","empty_subject":"Elemento non trovato","empty_body":"Contenuto vuoto","fill_in_your_email":"Inserisci la tua e-mail","fill_in_friend_email":"Inserisci l'e-mail di un amico","TEXT_searchNotAllowedInPreviewMode":"Impossibile cercare in 'Anteprima'","TEXT_sharingNotAllowedInPreviewMode":"Impossibile condividere in 'Anteprima'","TEXT_sharingNotAllowedInReviewMode":"Impossibile condividere in 'Revisione'","TEXT_mailsendingNotAllowedInPreviewMode":"Impossibile inviare a un amico in 'Anteprima'","TEXT_mailsendingNotAllowedInReviewMode":"Impossibile inviare a un amico in 'Revisione'","mail_send_error":"Errore di invio, riprovare più tardi","mail_send_success":"Messaggio inviato","placeholder_friendsemail":"Indirizzo e-mail di un amico","placeholder_yourname":"Tuo nome","placeholder_youremail":"Tuo indirizzo e-mail","form_send_to_friend_title":"Invia a un amico","form_send_to_friend_send":"Invia","toolbar_btn_search_title":"Cerca","toolbar_btn_share_title":"Condividi","toolbar_btn_hide_title":"Nascondi","toolbar_input_placeholder":"Ricerca in corso…","toolbar_pages":"Pagine","toolbar_contents":"Contenuto"}
window.arrlanguage['fr']={"edition_language":"fr","empty_subject":"Aucun objet","empty_body":"Le contenu est vide","fill_in_your_email":"Entrez votre adresse e-mail","fill_in_friend_email":"Entrez l'adresse e-mail de votre ami","TEXT_searchNotAllowedInPreviewMode":"La recherche est impossible dans « Preview »","TEXT_sharingNotAllowedInPreviewMode":"Le partage est impossible dans « Preview »","TEXT_sharingNotAllowedInReviewMode":"Le partage est impossible dans « Review »","TEXT_mailsendingNotAllowedInPreviewMode":"L'envoi à un ami est impossible dans « Preview »","TEXT_mailsendingNotAllowedInReviewMode":"L'envoi à un ami est impossible dans « Review »","mail_send_error":"Une erreur s'est produite pendant l'envoi, réessayez ultérieurement","mail_send_success":"E-mail envoyé","placeholder_friendsemail":"Adresse e-mail de l'ami","placeholder_yourname":"Ton nom","placeholder_youremail":"Ton adresse e-mail","form_send_to_friend_title":"Envoyer à l'ami","form_send_to_friend_send":"Envoyer","toolbar_btn_search_title":"Rechercher","toolbar_btn_share_title":"Partager","toolbar_btn_hide_title":"Cacher","toolbar_input_placeholder":"Rechercher…","toolbar_pages":"Des pages","toolbar_contents":"Contenu"}
window.arrlanguage['bs']={"edition_language":"bs","empty_subject":"Bez predmeta","empty_body":"Sadržaj je prazan","fill_in_your_email":"Utipkajte svoju e-mail adresu","fill_in_friend_email":"Utipkajte prijateljevu e-mail adresu","TEXT_searchNotAllowedInPreviewMode":"Pretraživanje je onemogućeno u 'Preview'","TEXT_sharingNotAllowedInPreviewMode":"Dijeljenje je onemogućeno u 'Preview'","TEXT_sharingNotAllowedInReviewMode":"Dijeljenje je onemogućeno u 'Review'","TEXT_mailsendingNotAllowedInPreviewMode":"Pošalji prijatelju je onemogućeno u 'Preview'","TEXT_mailsendingNotAllowedInReviewMode":"Pošalji prijatelju je onemogućeno u 'Review'","mail_send_error":"Greška prilikom slanja, pokušajte kasnije","mail_send_success":"E-pošta poslana","placeholder_friendsemail":"Prijateljeva e-mail adresa","placeholder_yourname":"Tvoje ime","placeholder_youremail":"Tvoja e-mail adresa","form_send_to_friend_title":"Pošalji prijatelju","form_send_to_friend_send":"Pošalji","toolbar_btn_search_title":"Pretraži","toolbar_btn_share_title":"Dijeli","toolbar_btn_hide_title":"Sakrij","toolbar_input_placeholder":"Pretraži…","toolbar_pages":"Stranice","toolbar_contents":"Sadržaj"}
window.arrlanguage['ru']={"edition_language":"ru","empty_subject":"Нет темы","empty_body":"Пустое сообщение","fill_in_your_email":"Внесите свой адрес электронной почты","fill_in_friend_email":"Внесите адрес электронной почты друга","TEXT_searchNotAllowedInPreviewMode":"В режиме Preview поиск невозможен","TEXT_sharingNotAllowedInPreviewMode":"В режиме Preview распространение невозможно","TEXT_sharingNotAllowedInReviewMode":"В режиме Review распространение невозможно","TEXT_mailsendingNotAllowedInPreviewMode":"Отправь другу не действует в режиме Preview","TEXT_mailsendingNotAllowedInReviewMode":"Отправь другу не действует в режиме Review","mail_send_error":"При отправке сообщения произошла ошибка. Пожалуйста, повторите попытку позже.","mail_send_success":"Письмо отправлено","placeholder_friendsemail":"Адрес электронной почты получателя","placeholder_yourname":"Твое имя","placeholder_youremail":"Твой адрес электронной почты","form_send_to_friend_title":"Отправь другу","form_send_to_friend_send":"Отправить","toolbar_btn_search_title":"Поиск","toolbar_btn_share_title":"Поделись","toolbar_btn_hide_title":"Скрыть","toolbar_input_placeholder":"Поиск…","toolbar_pages":"Страницы","toolbar_contents":"Содержание","toolbar_toc":"Содержание"}
window.arrlanguage['zh']={"edition_language":"zh","empty_subject":"无主题","empty_body":"无内容","fill_in_your_email":"输入您的电子邮件地址","fill_in_friend_email":"输入您的朋友的电子邮件地址","TEXT_searchNotAllowedInPreviewMode":"预览模式无法搜索","TEXT_sharingNotAllowedInPreviewMode":"预览模式无法分享","TEXT_sharingNotAllowedInReviewMode":"评论模式无法分享","TEXT_mailsendingNotAllowedInPreviewMode":"预览模式无法发送给朋友","TEXT_mailsendingNotAllowedInReviewMode":"评论模式无法发送给朋友","mail_send_error":"发送错误，请稍后重试","mail_send_success":"邮件已发送","placeholder_friendsemail":"朋友的电子邮件地址","placeholder_yourname":"您的姓名","placeholder_youremail":"您的电子邮件地址","form_send_to_friend_title":"发送给朋友","form_send_to_friend_send":"发送","toolbar_btn_search_title":"搜索","toolbar_btn_share_title":"分享","toolbar_btn_hide_title":"隐藏","toolbar_input_placeholder":"搜索…","toolbar_pages":"網頁","toolbar_contents":"內容"}
window.arrlanguage['ja']={"edition_language":"ja","empty_subject":"件名なし","empty_body":"本文なし","fill_in_your_email":"メールアドレスを入力してください。","fill_in_friend_email":"友達のメールアドレスを入力してください。","TEXT_searchNotAllowedInPreviewMode":"検索がプレビューモードで無効になっています。","TEXT_sharingNotAllowedInPreviewMode":"共有がプレビューモードで無効になっています。","TEXT_sharingNotAllowedInReviewMode":"共有がレビューモードで無効になっています。","TEXT_mailsendingNotAllowedInPreviewMode":"友達への送信がプレビューモードで無効になっています。","TEXT_mailsendingNotAllowedInReviewMode":"友達への送信がレビューモードで無効になっています。","mail_send_error":"送信中のエラー。後でもう一度お試し下さい。","mail_send_success":"メールの送信","placeholder_friendsemail":"友達のメールアドレス","placeholder_yourname":"名前","placeholder_youremail":"メールアドレス","form_send_to_friend_title":"友達に送信","form_send_to_friend_send":"送信","toolbar_btn_search_title":"検索","toolbar_btn_share_title":"共有","toolbar_btn_hide_title":"非表示","toolbar_input_placeholder":"検索…","toolbar_pages":"ページ","toolbar_contents":"内容"}
window.arrlanguage['ar']={"edition_language":"ar","empty_subject":"لا موضوع","empty_body":"المحتويات فارغة","fill_in_your_email":"أدخل عنوان بريدك الإلكتروني","fill_in_friend_email":"أدخل عنوان بريد صديقك الإلكتروني","TEXT_searchNotAllowedInPreviewMode":"البحث غير ممكن في \"المعاينة \" \" Preview\"","TEXT_sharingNotAllowedInPreviewMode":"المشاركة غير ممكنة في \"المعاينة \" \" Preview\"","TEXT_sharingNotAllowedInReviewMode":"المشاركة غير ممكنة في \"المراجعة\" \" Review \"","TEXT_mailsendingNotAllowedInPreviewMode":"الإرسال إلى صديق غير ممكن في \"المعاينة \" \" Preview\"","TEXT_mailsendingNotAllowedInReviewMode":"الإرسال إلى صديق غير ممكن في \"المراجعة\" \" Review \"","mail_send_error":"خطأ في الإرسال، يرجى المحاولة لاحقاً","mail_send_success":"تم إرسال البريد الإلكتروني","placeholder_friendsemail":"عنوان بريد صديقك الإلكتروني","placeholder_yourname":"اسمك","placeholder_youremail":"عنوان بريدك الإلكتروني","form_send_to_friend_title":"أرسل إلى صديق","form_send_to_friend_send":"أرسل","toolbar_btn_search_title":"ابحث","toolbar_btn_share_title":"شارك","toolbar_btn_hide_title":"اخفي","toolbar_input_placeholder":"ابحث ...","toolbar_btn_back":"تراجع","toolbar_download_progress":"جاري التحميل","toolbar_download_statusnotdownloading":"جاهز للتحميل","toolbar_download_statusdownloading":"تحميل...","toolbar_download_statuspaused":"إيقاف التحميل","toolbar_download_statusdownloadcomplete":"تم التحميل","toolbar_download_btncancel":"إالغاء","toolbar_download_btnresume":"استئناف","toolbar_download_btnpause":"توقف","toolbar_download_btnstart":"بدء","toolbar_download_requesterror":"خطأ في طلب التنزيل ، يرجى إعادة المحاولة لاحقًا","toolbar_pages":"صفحات","toolbar_contents":"محتويات","toolbar_toc":"جدول المحتويات","survey_success_submit":"قدمت بنجاح","survey_thank_you":"شكراً","survey_close":"إغلاق","survey_send_form":"إرسال النموذج","survey_valid_email":"يرجى إدخال البريد الإلكتروني الصحيح","survey_valid_phone":"يرجى إدخال رقم هاتف صالح","survey_valid_number":"من فضلك أدخل رقما صالحا","survey_valid_required":"هذه الخانة مطلوبة","survey_submit_err":"لم يتم تقديم النموذج","toolbar_content_hub_btn":"العودة إلى محور المحتوى","this_is_a_preview":"هذه معاينة","gdpr_checkbox":"لقد قرأت ووافقت على","toolbar_user_bookmarks_add":"إضافة إشارة مرجعية جديدة","toolbar_my_bookmarks":"إشاراتي المرجعية","bookmark_this":"حفظ بالمفضلة","user_bookmark_name":"اسم الإشارة المرجعية (اختياري)","user_bookmark_comment":"تعليق (اختياري)","user_bookmark_save":"حفظ المرجعية","user_bookmark_Cancel":"إلغاء","freehand_close":"إغلاق"}
window.arrlanguage['he']={"edition_language":"he","empty_subject":"אין נושא","empty_body":"אין תוכן","fill_in_your_email":"הזן את כתובת הדוא\"ל שלך","fill_in_friend_email":"הזן את כתובת הדוא\"ל של חברך","TEXT_searchNotAllowedInPreviewMode":"החיפוש מנוטרל במצב תצוגה מקדימה","TEXT_sharingNotAllowedInPreviewMode":"השיתוף מנוטרל במצב תצוגה מקדימה","TEXT_sharingNotAllowedInReviewMode":"השיתוף מנוטרל במצב סקירה","TEXT_mailsendingNotAllowedInPreviewMode":"שלח לחבר מנוטרל במצב תצוגה מקדימה","TEXT_mailsendingNotAllowedInReviewMode":"שלח לחבר מנוטרל במצב סקירה","mail_send_error":"שגיאה בעת שליחה, נסה שנית מאוחר יותר","mail_send_success":"נשלחה הודעת דואר אלקטרוני","placeholder_friendsemail":"כתובת האי מייל של החבר","placeholder_yourname":"שמך","placeholder_youremail":"כתובת האי מייל שלך","form_send_to_friend_title":"שלח לחבר","form_send_to_friend_send":"שלח","toolbar_btn_search_title":"חפש","toolbar_btn_share_title":"שתף","toolbar_btn_hide_title":"הסתר","toolbar_input_placeholder":"חפש","toolbar_pages":"דפים","toolbar_contents":"תוכן"}
window.arrlanguage['da']={"edition_language":"da","empty_subject":"Emnet er tomt","empty_body":"Tekst mangler","fill_in_your_email":"Venligst udfyld email","fill_in_friend_email":"Venligst udfyld din vens email","TEXT_searchNotAllowedInPreviewMode":"Søgning er slået fra i preview","TEXT_sharingNotAllowedInPreviewMode":"Deling er slået fra i preview","TEXT_sharingNotAllowedInReviewMode":"Deling er slået fra i gennemgang","TEXT_mailsendingNotAllowedInPreviewMode":"Send til en ven, er slået fra i preview","TEXT_mailsendingNotAllowedInReviewMode":"Send til en ven, er slået fra i gennemgang","mail_send_error":"Der opstod et problem og mailen kunne ikke sendes. Venligst prøv igen senere.","mail_send_success":"Mailen er sendt","placeholder_friendsemail":"Vens email","placeholder_yourname":"Dit navn","placeholder_youremail":"Din email","form_send_to_friend_title":"Send til en ven","form_send_to_friend_send":"Send","toolbar_btn_search_title":"Søg","toolbar_btn_share_title":"Del","toolbar_btn_hide_title":"Skjul","toolbar_input_placeholder":"Søg...","toolbar_btn_back":"< TILBAGE","toolbar_download_progress":"Download","toolbar_download_statusnotdownloading":"Klar til at downloade","toolbar_download_statusdownloading":"Downloading ...","toolbar_download_statuspaused":"Download pauset","toolbar_download_statusdownloadcomplete":"Download gennemført","toolbar_download_btncancel":"Afbryd","toolbar_download_btnresume":"Genoptag","toolbar_download_btnpause":"Pause","toolbar_download_btnstart":"Start","toolbar_download_requesterror":"Fejl ved anmodning om download. Venligst prøv igen senere","toolbar_pages":"Sider","toolbar_contents":"Din indsendelse blev modtaget","toolbar_toc":"Indholdsfortegnelser","survey_success_submit":"Indsendt","survey_thank_you":"Tak","survey_close":"Luk ned","survey_send_form":"Indsendelses formlar ","survey_valid_email":"Venligst indtast en gyldig email","survey_valid_phone":"Venligst indtast et gyldigt telefonnummer","survey_valid_number":"Venligst indtast et gyldigt nummer","survey_valid_required":"Dette feldt er påkrevet","survey_submit_err":"Formularen blev ikke modtaget","toolbar_content_hub_btn":"Tilbage til indholdsarkiv ","this_is_a_preview":"This is a preview","gdpr_checkbox":"I have read and consent to the <a href=\"/new-eu-gdpr\" target=\"_blank\">EU GDPR</a>"}
window.arrlanguage['sv']={"edition_language":"sv","empty_subject":"Ämne saknas","empty_body":"Text saknas","fill_in_your_email":"Fyll i din e-postadress","fill_in_friend_email":"Fyll i din väns e-postadress","TEXT_searchNotAllowedInPreviewMode":"Sökning är avaktiverad i preview-läge","TEXT_sharingNotAllowedInPreviewMode":"Dela är avaktiverad i preview-läge","TEXT_sharingNotAllowedInReviewMode":"Dela är avaktiverad vid granskning","TEXT_mailsendingNotAllowedInPreviewMode":"Skicka till en vän-funktionen är inte möjlig i preview-läge","TEXT_mailsendingNotAllowedInReviewMode":"Skicka till en vän-funktionen är inte möjlig vid granskning","mail_send_error":"Ett problem uppstod och e-post kunde ej skickas. Vänligen försök senare.","mail_send_success":"E-post är skickad","placeholder_friendsemail":"Väns e-post","placeholder_yourname":"Ditt namn","placeholder_youremail":"Din e-post","form_send_to_friend_title":"Skicka till en vän","form_send_to_friend_send":"Skicka","toolbar_btn_search_title":"Sök","toolbar_btn_share_title":"Dela","toolbar_btn_hide_title":"Dölj","toolbar_input_placeholder":"Sök","toolbar_btn_back":"<TILLBAKA","toolbar_download_progress":"Ladda ner","toolbar_download_statusnotdownloading":"Klar att ladda ner","toolbar_download_statusdownloading":"Laddar ner…","toolbar_download_statuspaused":"Nedladdning pausad","toolbar_download_statusdownloadcomplete":"Nedladdning genomförd","toolbar_download_btncancel":"Avbryt","toolbar_download_btnresume":"Fortsätt","toolbar_download_btnpause":"Paus","toolbar_download_btnstart":"Start","toolbar_download_requesterror":"Fel uppstod vid nedladdning. Vänligen försök senare","toolbar_pages":"Sidor","toolbar_contents":"Innehåll","toolbar_toc":"Innehållsförteckning","survey_success_submit":"Inskickat","survey_thank_you":"Tack så mycket!","survey_close":"Stäng","survey_send_form":"Skicka formulär","survey_valid_email":"Vänligen fyll i e-postadress","survey_valid_phone":"Vänligen fyll i telefonnummer","survey_valid_number":"Vänligen fyll i nummer","survey_valid_required":"Obligatorsikt fält","survey_submit_err":"Formuläret skickads inte in","toolbar_content_hub_btn":"Tillbaka till innehåll"}
if(window.edgl.argo.indexOf('*draw_lang*')!=-1){setTimeout(function(){String.prototype.replaceAll2=function(search,replacement){var target=this;return target.split(search).join(replacement);};var resss='';for(var lv in window.arrlanguage['en']){resss+=lv.replaceAll2("\n"," ").replaceAll2("\r"," ").replaceAll2("\t"," ")+"\t";for(var lng in window.arrlanguage){if(window.arrlanguage[lng][lv]){resss+=window.arrlanguage[lng][lv].replaceAll2("\n"," ").replaceAll2("\r"," ").replaceAll2("\t"," ")+"\t";}else{resss+=""+"\t";}}
resss+="\n";}
var divToAppendTo='body';jQuery(divToAppendTo).append('<textarea id="lng_txa" style="background-color: #c0c0c0;  position:fixed;  top:0;  width:100%;  z-index:100000;" rows="10" cols="80">');jQuery(divToAppendTo).append('</textarea>');jQuery('textarea').val(resss);console.log("\n\n\n"+resss+"\n\n\n");setTimeout(function(){alert('start out');var ta_txt=$('textarea#lng_txa').val();var arr=ta_txt.split("\n");var langs_arr=arr[1].split("\t");var langs_arr_titles=arr[0].split("\t");window.arrlanguage_new={};for(var i=1;i<langs_arr.length;i++){var lang=langs_arr[i].trim();if(lang){if(!window.arrlanguage_new[lang]){window.arrlanguage_new[lang]={};window.arrlanguage_new[lang][langs_arr[0]]=lang;}
for(var k=1;k<arr.length;k++){var curr_trans=arr[k].split("\t");if(curr_trans[i].trim()){window.arrlanguage_new[lang][curr_trans[0].trim()]=curr_trans[i].trim();}}}}
var resp="\n";for(var i=1;i<langs_arr.length;i++){var lang=langs_arr[i].trim();if(lang){resp+="\n\n/ *"+langs_arr_titles[i]+" * /\n"+"window.arrlanguage['"+lang+"'] =  "+"\n"+JSON.stringify(window.arrlanguage_new[lang],undefined,4)+"\n\n";}}
$('textarea#lng_txa').val(resp);console.log(window.arrlanguage_new);},14000);},3000);}
;
window.ed_fixBrokenImage=function(image){$(image).attr("src",window.ed_getNoConnImage());$(image).css("height","auto");}
window.ed_getNoConnImage=function(){var base_p=window.edgl.base_path;if(window.eddata.head.stand_alone==1){base_p="editions/"+window.edgl.edition.edident+"/player/";}
return base_p+"images/no-connection.png?pv="+window.edgl.plversion;}
window.ed_checkConnectivity=function(){if(typeof window.edgl.webconnection!="undefined"){return window.edgl.webconnection;}
window.edgl.webconnection=true;if(window.eddata.head.stand_alone!=1){return window.edgl.webconnection;}
if(isApp()){window.edgl.webconnection=webapp.netAvailable;return window.edgl.webconnection;}
if(typeof navigator.onLine!="undefined"&&navigator.onLine==false){window.edgl.webconnection=false;}
return window.edgl.webconnection;}
hasArgo=function(str)
{if(!window.edgl||!window.edgl.argo){return false}
return(window.edgl.argo.indexOf(str)>-1||window.edgl.argo.indexOf('*'+str+'*')>-1);}
;
(function($){edNavVars={};edPageVars={};inf={};inf.is_chrome=navigator.userAgent.toLowerCase().indexOf('chrome')>-1;ef={};$(document).ready(function()
{if(window.edgl.argo.indexOf('*debug*')>-1){ED_DEBUG=true;}
if(typeof ED_DEBUG=='undefined'){window.ED_DEBUG=false;}
if(typeof ED_USER_DEV_PARAMS=='undefined'){window.ED_USER_DEV_PARAMS='';}});ED_MOUSE={x:0,y:0,clientX:0,clientY:0};$(document).on("tap",function(e){});document.addEventListener('touchstart',function(e)
{if(e.touches&&e.touches.length){ED_MOUSE={x:e.touches[0].pageX,y:e.touches[0].pageY,clientX:e.touches[0].pageX,clientY:e.touches[0].pageY,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}}
else{ED_MOUSE={x:e.pageX,y:e.pageY,clientX:e.pageX,clientY:e.pageY,pageX:e.pageX,pageY:e.pageY}}});document.addEventListener('mousemove',function(e){if(e.touches&&e.touches.length){ED_MOUSE={x:e.touches[0].pageX,y:e.touches[0].pageY,clientX:e.touches[0].pageX,clientY:e.touches[0].pageY,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}}
else{ED_MOUSE={x:e.clientX||e.pageX,y:e.clientY||e.pageY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}},false);ED_KEY_MODIFIERS={};$(document).keydown(function(event){if(event.which=="16"){ED_KEY_MODIFIERS.whift=true;}
if(event.which=="17"||event.which=="91"||event.which=="93"){ED_KEY_MODIFIERS.ctrl=true;}
if(event.which=="18"){ED_KEY_MODIFIERS.alt=true;}
if(event.which=="32"){ED_KEY_MODIFIERS.space=true;}});$(document).keyup(function(event){if(event.which=="16"){ED_KEY_MODIFIERS.shift=false;}
if(event.which=="17"||event.which=="91"||event.which=="93"){ED_KEY_MODIFIERS.ctrl=false;}
if(event.which=="18"){ED_KEY_MODIFIERS.alt=false;}
if(event.which=="32"){ED_KEY_MODIFIERS.space=false;}});ef.getTickCount=function()
{return(new Date()).getTime();}
stopaj=ef.stopaj=function(caption)
{var cas=ef.getTickCount()
if(ef._STOPAJ_TIME&&ef._STOPAJ_LABEL&&ef._STOPAJ_LABEL!='')
{var preteceno=cas-ef._STOPAJ_TIME;console.log(ef._STOPAJ_LABEL+': '+preteceno+' ms');}
ef._STOPAJ_TIME=cas;ef._STOPAJ_LABEL=caption;}
refreshFillHeightDivs=function()
{$('.ed_fill_height').each(function()
{$(this).css({'min-height':$(this).parent().height()});});}
refreshEdStretch=function()
{}
refreshParentHeightDivs=function()
{$('.ed_parent_height').each(function()
{$(this).css({'height':$(this).parent().height()});});}
isMacComputer=function()
{return navigator.platform.toUpperCase().indexOf('MAC')>=0;}
saveCookie=function(cname,cvalue,expireMinutes)
{var d=new Date();expireMinutes=expireMinutes||5;d.setTime(d.getTime()+expireMinutes*60*1000);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires+"; path=/";}
loadCookie=function(cname)
{var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)==0)
{return c.substring(name.length,c.length);}}
return"";}
var check=false,isRelative=true;$.elementFromPoint=function(pageX,pageY)
{if(!document.elementFromPoint)return null;if(pageX==undefined){pageX=ED_MOUSE.pageX;}
if(pageY==undefined){pageY=ED_MOUSE.pageY;}
if(!check)
{var sl;if((sl=$(document).scrollTop())>0)
{isRelative=(document.elementFromPoint(0,$(document).scrollTop()+$(window).height()-1)==null);}
else if((sl=$(document).scrollLeft())>0)
{isRelative=((document.elementFromPoint(sl+$(window).width()-1,0)==null));}
check=(sl>0);}
if(isRelative)
{pageX-=$(document).scrollLeft();pageY-=$(document).scrollTop();}
var result=null;try{result=document.elementFromPoint(pageX,pageY);}catch(e){}
jtrace('* element from point ('+pageX+','+pageY+') isRelative='+isRelative,result);return $(result);}
Object.defineProperty(Object.prototype,'findByProp',{value:function(prop,value,returnIndex)
{var index=undefined;$.each(this,function(i,item)
{if(typeof item[prop]=='string')
{if(item[prop].toLowerCase()==(value+'').toLowerCase())
{jtrace('found');index=i;return false;}}
else
{if(item[prop]==value){index=i;return false;}}});if(returnIndex)
{return index;}
else
{return this[index];}},configurable:true,enumerable:false,writeable:true});Object.defineProperty(String.prototype,'contains',{value:function(subStr,caseSensitive)
{if(caseSensitive===undefined){caseSensitive=false;}
if(caseSensitive)
{return this.indexOf(subStr)>-1;}
else
{return this.toLowerCase().indexOf(subStr.toLowerCase())>-1;}},configurable:true,enumerable:false,writeable:true});Object.defineProperty(String.prototype,'isContained',{value:function(haystack,caseSensitive)
{if(!this){return false;}
if(caseSensitive===undefined){caseSensitive=false;}
if(caseSensitive)
{return haystack.indexOf(this)>-1;}
else
{return haystack.toLowerCase().indexOf(this.toLowerCase())>-1;}},configurable:true,enumerable:false,writeable:true});Object.defineProperty(String.prototype,'containedIn',{value:function(haystack,caseSensitive)
{if(!this){return false;}
if(caseSensitive===undefined){caseSensitive=false;}
if(caseSensitive)
{return haystack.indexOf(this)>-1;}
else
{if(typeof haystack=='string')
{return haystack.toLowerCase().indexOf(this.toLowerCase())>-1;}
else
{var found=false;var needle=this.toLowerCase();$.each(haystack,function(i,item)
{if(item.toLowerCase()==needle){found=true;return false;}});return found;}}},configurable:true,enumerable:false,writeable:true});$.fn.edVisible=function()
{return $(this).css('display')!='none';}
$.fn.describe=function()
{if(!this){return'<undefined>';}
var id=$(this).attr('id');var klas=$(this).attr('class');if(id)
{return'<#'+id+'>';}
else if(klas)
{return'<.'+klas+'>';}
else
{return'<unknown>';}}
deepCopy=$.deepCopyObj=function(obj)
{if(typeof obj=='undefined'){return undefined;}
if(isArray(obj))
{return $.extend(true,[],obj);}
else
{return $.extend(true,{},obj);}}
ED_HIGHEST_Z_INDEX=1000000;$.fn.bringToFront=function()
{ED_HIGHEST_Z_INDEX+=10;$(this).css({'z-index':ED_HIGHEST_Z_INDEX});ED_HIGHEST_Z_INDEX++;$('#toast-container').css({'z-index':ED_HIGHEST_Z_INDEX});ED_HIGHEST_Z_INDEX++;$('#floating_help').css({'z-index':ED_HIGHEST_Z_INDEX});ED_HIGHEST_Z_INDEX++;$('#ed_global_loader').css({'z-index':ED_HIGHEST_Z_INDEX});ED_HIGHEST_Z_INDEX++;$('#ed_global_debug_label').css({'z-index':ED_HIGHEST_Z_INDEX});return $(this);}
$.getNextZIndex=function(){ED_HIGHEST_Z_INDEX+=10;return ED_HIGHEST_Z_INDEX;}
$.fn.sendBehind=function(obj)
{var zIndex=parseIntDef(obj.css('z-index'),1);$(this).css({'z-index':(zIndex-1)});}
$.fn.reverseEach=function(fn)
{var i=this.length;while(i--){fn.call(this[i],i,this[i])}}
$.fn.addAtEnd=function(objs)
{var result=$(this).toArray();objs.each(function(){result.push(this)});return $(result);}
$.fn.isMouseOver=function(tolerance)
{tolerance=tolerance||0;var offset=$(this).offset();return(ED_MOUSE.pageX>=offset.left-tolerance&&ED_MOUSE.pageY>=offset.top-tolerance&&ED_MOUSE.pageX<=offset.left+$(this).outerWidth()+tolerance&&ED_MOUSE.pageY<=offset.top+$(this).outerHeight()+tolerance);}
$.fn.dattr=function(partName1,value)
{if(typeof(value)=='undefined'){return $(this).attr('data-'+partName1);}
else{$(this).attr('data-'+partName1,value)}}
$.fn.isDataSet=function(prop)
{return(typeof($(this).data(prop))!='undefined')}
$.fn.dataFilter=function(dataName,value)
{return $(this).filter(function(){return typeof($(this).data(dataName))!='undefined'&&$(this).data(dataName)==value;});}
$.fn.filterClass=function(clas)
{return $(this).filter(function(){return $(this).hasClass(clas);});}
$.fn.stripClassBeginningWith=function(str,endMatching)
{var x=new RegExp((!endMatching?"\\b":"\\S+")+str+"\\S*",'g');this.attr('class',function(i,c){if(!c)return;return c.replace(x,'');});return this;};$.fn.intersect=function(set2)
{var set1=$(this);var result=$();set2.each(function(){if($(this).is(set1)){result=result.add($(this));}});return result;}
$.fn.rangeUntil=function(element2)
{var first=$(this);var last=element2;if(first.is(last)){return first;}
if(first.index()>last.index())
{first=element2;last=$(this);}
return first.nextUntil(last).add(first).add(last);}
$.fn.removeObjs=function(objects)
{return $(this).filter(function()
{return!objects.is($(this));});}
$.fn.onlyVisible=function()
{return $(this).filter(function(){return $(this).edVisible();});}
$.fn.dataNum=function(dataName,def_val)
{return parseIntDef($(this).data(dataName),def_val);}
$.fn.hasAttr=function(name)
{return typeof($(this).attr(name))!='undefined';}
$.fn.toggleAttr=function(name,condition,value)
{if(value===undefined){value=true;}
if(condition)
{$(this).attr(name,value);}
else
{$(this).removeAttr(name);}
return $(this);}
$.fn.viewportOffset=function()
{var offset=$(this).offset();offset.left-=$(window).scrollLeft();offset.top-=$(window).scrollTop();return offset;}
$.fn.filterWherePointIsInside=function(point,toleranceX,toleranceY)
{toleranceX=toleranceX||0;if(toleranceY===undefined){toleranceY=toleranceX;}
return $(this).filter(function(){var offset=$(this).offset();var right=offset.left+$(this).outerWidth();var bottom=offset.top+$(this).outerHeight();return(point.x>offset.left-toleranceX&&point.x<right+toleranceX&&point.y>offset.top-toleranceY&&point.y<bottom+toleranceY);});}
$.fn.hasClassOrIsChild=function(clas)
{return($(this).hasClass(clas)||$(this).parents('.'+clas).length>0);}
$.fn.isOrIsChildOf=function(objId)
{var obj=$('#'+objId);if(!obj.length){return false;}
return($(this).is(obj)||$(this).parents('#'+objId).length>0);}
$.fn.selfOrParents=function(clas)
{if($(this).hasClass(clas)){return $(this);}
else{return $(this).parents('.'+clas)}}
$.fn.selfOrFind=function(clas)
{if($(this).hasClass(clas)){return $(this);}
else{return $(this).find('.'+clas)}}
$.fn.bounds=function()
{var offset=$(this).offset();return{x:offset?offset.left:0,y:offset?offset.top:0,width:$(this).outerWidth(),height:$(this).outerHeight()}}
$.fn.bgGradient=function(startColor,endColor,start,end)
{if(start===undefined){start='0%';}
if(end===undefined){end='100%';}
if(endColor===undefined){endColor='transparent';}
$(this).css({'background':'linear-gradient(to bottom, '+startColor+' '+start+','+endColor+' '+end+')'});}
$.fn.smartToggleClass=function(clas,condition)
{if(condition&&$(this).hasClass(clas)){return $(this)}
if(!condition&&!$(this).hasClass(clas)){return $(this)}
return $(this).toggleClass(clas,condition);}
$.fn.smartRemoveClass=function(clas)
{if($(this).hasClass(clas)){return $(this).removeClass(clas)}
return $(this);}
$.fn.smartAddClass=function(clas)
{if($(this).length>1)
{$(this).each(function(){if(!$(this).hasClass(clas)){$(this).addClass(clas)}});}
else
{if(!$(this).hasClass(clas)){$(this).addClass(clas);}}
return $(this);}
objLen=function(obj)
{if(typeof obj!='object'){return 0;}
return Object.keys(obj).length;}
isEmptyObj=function(obj){for(var key in obj){if(obj.hasOwnProperty(key)){return false;}}
return true;}
Object.defineProperty(Object.prototype,'toStr',{value:function(){var result='{';for(var p in this){if(this.hasOwnProperty(p)){if(typeof this[p]=='object')
{result+=p+':obj, ';}
else
{result+=p+':'+this[p]+', ';}}}
if(result.length>3){result=result.substring(0,result.length-2);}
result+='}';return result;},writable:true,configurable:true,enumerable:false});Object.defineProperty(Object.prototype,'simpleClear',{value:function()
{for(var p in this)
{if(this.hasOwnProperty(p)){delete this[p];}}},writable:true,configurable:true,enumerable:false});isArray=function(obj)
{return obj&&(obj.constructor===Array);}
filterChanges=function(newData,oldData,propsToKeep)
{function filterObjs(newData,oldData)
{if(typeof oldData!='object'){return newData;}
if(JSON.stringify(newData)==JSON.stringify(oldData)){return false;}
var amIArray=isArray(newData);var count=0;for(var prop in newData)
{if(typeof newData[prop]=='object')
{newData[prop]=filterObjs(newData[prop],oldData[prop]);if(!newData[prop])
{if(amIArray){newData[prop]=undefined;}
else{delete newData[prop];}}
else{count++;}}
else if(oldData[prop]==newData[prop])
{if(propsToKeep.indexOf(prop.toLowerCase())<0)
{if(amIArray){newData[prop]=undefined;}
else{delete newData[prop];}}}
else
{count++;}}
if(count==0){return false;}
if(amIArray)
{for(var i=newData.length-1;i>-1;i--)
{if(newData[i]===undefined){newData.splice(i,1);}}}
return newData;}
if(!newData||!oldData||(typeof newData!='object')||(typeof oldData!='object'))
{return newData;}
if(!propsToKeep){propsToKeep=[];}
for(var i in propsToKeep){propsToKeep[i]=propsToKeep[i].toLowerCase();}
newData=deepCopy(newData);var result=filterObjs(newData,oldData);return result;}
objToSortedArray=function(obj,compareFunc)
{var result=[];for(var i in obj){result.push(obj[i]);}
result.sort(compareFunc);return result;}
copyObj=function(obj)
{if(obj==null){return null;}
if(typeof obj!="object"){return obj;}
if(obj.constructor===Array){return obj.slice();}
var result={};for(var key in obj)
{if(typeof obj[key]!='object')
{result[key]=obj[key];}
else
{result[key]=copyObj(obj[key]);}}
return result;}
Object.defineProperty(Array.prototype,'contains',{value:function(item,caseSensitive)
{if(caseSensitive===undefined){caseSensitive=false;}
if(caseSensitive)
{return this.indexOf(item)>-1;}
else
{if(!caseSensitive&&typeof item=='string'){item=item.toLowerCase();}
for(var i=0;i<=this.length;i++)
{if(!caseSensitive&&typeof this[i]=='string')
{if(this[i].toLowerCase()==item){return true}}
else
{if(this[i]==item){return true}}}}
return false;},configurable:true,enumerable:false,writeable:true});setCheckbox=function(obj,val){$obj=$(obj);var check=false;if(val==true||val==1){check=true;}
$obj.prop('checked',check);}
savePositionsForAnimation=function(objects,limit)
{objects=$(objects);if(!objects.length){return;}
var result=[];var count=0;var visibleOnly=objects.filter(function(){return $(this).edVisible()});if(!visibleOnly.length){return[]}
var prevPos={x:visibleOnly.first().offset().left,y:visibleOnly.first().offset().top}
objects.each(function(i){if(limit&&count>limit){return false;}
var hidden=!$(this).edVisible();var pos={obj:$(this),x:!hidden?$(this).offset().left:prevPos.x,y:!hidden?$(this).offset().top:prevPos.y,hidden:hidden}
result.push(pos);prevPos=pos;count++;});return result;}
animatePositions=function(posArray,opts)
{function animateObj(obj,duration,easing,axe,callback,x,y)
{var newCss={};if(!axe||axe=='x'){newCss.x=x||0;}
if(!axe||axe=='y'){newCss.y=y||0;}
if(obj.hasClass('animate_pos_force_visible')){newCss.opacity=0.01;}
obj.transition(newCss,(duration||300),(easing?easing:'easeOutExpo'),function()
{if($(this).hasClass('animate_pos_force_visible'))
{$(this).removeClass('animate_pos_force_visible').css({x:0,y:0,opacity:1});}
if(typeof callback=='function'){callback();}});}
function animateFlowed(obj,duration,easing,axe,callback,x,y)
{var newCss={};if(!axe||axe=='x'){newCss.x=x||0;}
if(!axe||axe=='y'){newCss.y=y||0;}
if(globalCallback===undefined){globalCallback=true;}
if(obj.hasClass('animate_pos_force_visible')){newCss.opacity=0.01;}
obj.transition(newCss,duration,easing,function()
{if($(this).hasClass('animate_pos_force_visible'))
{$(this).removeClass('animate_pos_force_visible').css({x:0,y:0,opacity:1});}
if(typeof callback=='function'){callback();}});}
if(typeof posArray!='object'||!posArray.length)
{if(opts.callback){opts.callback($());}
return}
var jqueryObjects=$();$.each(posArray,function(i){jqueryObjects=jqueryObjects.add(posArray[i].obj);});var defOpts={duration:300,durationInc:0,durationIncStep:1,maxDuration:1000000,easing:'easeOutExpo',delay:0,firstDirection:'',callback:undefined,flow:false,flowBounds:{x:0,y:0,w:100,height:100},animateHidden:false,}
opts=$.extend(defOpts,opts);var firstVisible;$.each(posArray,function(i,item)
{if($(item.obj).edVisible()){firstVisible=item;return false;}});if(!firstVisible)
{if(opts.callback){opts.callback($());}
return}
var prevPos=firstVisible.obj.offset();var count=0;$.each(posArray,function(i,item)
{var obj=$(item.obj);if(!obj.length){return}
var objHidden=!obj.edVisible();var visibleBeforeSave=!item.hidden;var hideAnimation=objHidden&&visibleBeforeSave;if(opts.animateHidden){obj.transStop();}
if(obj.hasClass('animate_pos_force_visible'))
{obj.removeClass('animate_pos_force_visible').css({x:0,y:0,opacity:1});}
if(hideAnimation&&!opts.flow&&opts.animateHidden)
{obj.addClass('animate_pos_force_visible');}
var offset=obj.offset();if(!objHidden)
{prevPos=offset;if((Math.abs(item.x-offset.left)<3)&&(Math.abs(item.y-offset.top)<3))
{return;}}
var finalX=0;var finalY=0;if(hideAnimation&&!opts.flow&&opts.animateHidden)
{finalX=prevPos.left-offset.left;finalY=prevPos.top-offset.top;}
count++;var startCss={x:item.x-offset.left,y:item.y-offset.top};obj.stop().clearQueue().css(startCss);var duration=Math.min(opts.duration+Math.floor(count/opts.durationIncStep)*opts.durationInc,opts.maxDuration);if(opts.flow)
{if(Math.abs(startCss.y)<=2)
{animateObj(obj,duration,opts.easing,'',globalCallbackIfLast);}
else
{var upwards=startCss.y>=0;var x;var toLeft=opts.flowBounds.x-obj.outerWidth()-offset.left;var toRight=opts.flowBounds.x+opts.flowBounds.width-offset.left;if(upwards){x=toLeft;}
else{x=toRight;}
obj.transition({x:x},duration/2,'easeInCubic',function()
{obj.css({x:upwards?toRight:toLeft,y:0}).transition({x:0},duration/2,'easeOutCubic',globalCallbackIfLast);});}}
else if(opts.firstDirection)
{function doAnimate1()
{var secondDirection=opts.firstDirection=='x'?'y':'x';animateObj(obj,duration/2,opts.easing,opts.firstDirection,function()
{animateObj(obj,duration/2,opts.easing,secondDirection,globalCallbackIfLast)})}
if(opts.delay){setTimeout(function(){doAnimate1()},opts.delay);}
else{doAnimate1()}}
else
{function doAnimate2()
{animateObj(obj,duration,opts.easing,'',globalCallbackIfLast,finalX,finalY);}
if(opts.delay)
{setTimeout(function(){doAnimate2()},opts.delay);}
else
{doAnimate2();}}})
if(!count&&opts.callback){opts.callback(jqueryObjects);}
function globalCallbackIfLast()
{if(typeof opts.callback!='function'){return;}
count--;if(count<=0){opts.callback(jqueryObjects);}}}
layoverCss=function(obj,targetObj,options)
{var defOptions={method:'fit',transformOrigin:'top left',offsetCorrection:{x:0,y:0},}
options=$.extend(defOptions,options);targetObj=$(targetObj);obj=$(obj);if(!targetObj.length){edexcept('wfw.layoverCss','No targetObj');return;}
if(!obj.length){edexcept('wfw.layoverCss','No targetObj');return;}
var viden=obj.edVisible();var viden2=targetObj.edVisible();if(!viden){obj.removeClass('hidden');}
if(!viden2){targetObj.removeClass('hidden');}
obj.css({'transform-origin':options.transformOrigin});var temp1=obj.css('transform');obj.css({x:0,y:0,scaleX:1,scaleY:1});var temp2=targetObj.css('transform');targetObj.css({x:0,y:0,scaleX:1,scaleY:1});var objWidth=obj.width();var objHeight=obj.height();result={x:targetObj.offset().left-(obj.offset().left+
(options.offsetCorrection.x?options.offsetCorrection.x:0)),y:targetObj.offset().top-(obj.offset().top+
(options.offsetCorrection.y?options.offsetCorrection.y:0)),scaleX:targetObj.width()/ obj.width(),scaleY:targetObj.height()/ obj.height()};var origin=(options.transformOrigin+'').split(' ');if(origin.length==2)
{if(origin[0]=='center')
{result.x-=objWidth/2}
else if(origin[0]=='bottom')
{result.x-=objWidth}
if(origin[1]=='center')
{result.y-=objHeight/2}
else if(origin[1]=='right')
{result.y-=objHeight}}
if(options.method=='fit'){result.scaleX=Math.min(result.scaleX,result.scaleY);result.scaleY=result.scaleX;}
else if(options.method=='fill'){result.scaleX=Math.max(result.scaleX,result.scaleY);result.scaleY=result.scaleX;}
if(!viden)obj.addClass('hidden');if(!viden2)targetObj.addClass('hidden');if(obj.parents('html').length){obj.css(temp1);}
if(targetObj.parents('html').length){targetObj.css(temp2);}
return result;}
seamlesslyDetachToBody=function(objs,removePadding)
{objs=$(objs);if(!objs.length){return $();}
objs.each(function(i)
{var offset=$(this).offset();var w=$(this).outerWidth();var h=$(this).outerHeight();var x=0;var y=0;if(removePadding)
{x=parseInt($(this).css('padding-left'))||0;y=parseInt($(this).css('padding-top'))||0;$(this).css({padding:0});}
$(this).detach().appendTo('body').css({position:'absolute',top:offset.top+y,left:offset.left+x,width:w,height:h,margin:0,x:0,y:0}).bringToFront();});return objs;}
jtrace=function(str,extra)
{if(!ED_DEBUG&&!isJan())return;if(typeof str!='object'&&(!str||str=='')){str='\'\'';}
if(typeof str=='object')
{extra=str;str='';}
str=str+'';if(inf&&inf.is_chrome){var barva='#339';var bg='#eef';if(str.indexOf('STATS:')>-1)
{barva='#933';bg='#fee';}
if(extra!==undefined)
{console.log('jan: %c '+str+'  ','background:'+bg+'; color:'+barva+'; padding:3px;',extra)}
else
{console.log('jan: %c '+str+'  ','background:'+bg+'; color:'+barva+'; padding:3px;')}}
else
{if(extra!==undefined)
{console.log('jan: '+str,extra)}
else
{console.log('jan: '+str)}}}
colorLog=function(str,hexColor,hexBackground,extra)
{if(!str||str==''){str='<empty>';}
str=str+'';if(inf&&inf.is_chrome)
{if(extra!==undefined)
{console.log('%c '+str+'  ','background:'+hexBackground+'; color:'+hexColor+'; padding:3px;',extra)}
else
{console.log('%c '+str+'  ','background:'+hexBackground+'; color:'+hexColor+'; padding:3px;')}}
else
{if(extra!==undefined)
{console.log(str,extra)}
else
{console.log(str)}}}
isJan=function()
{return(ED_USER_DEV_PARAMS.contains('*jan*')||String(window.edgl.argo).indexOf('*jan*')>-1);}
isBilly=function()
{return(ED_USER_DEV_PARAMS.indexOf('*billy*')>-1);}
isMrcko=function()
{return(ED_USER_DEV_PARAMS.indexOf('*mrcko*')>-1);}
isAljaz=function()
{return(ED_USER_DEV_PARAMS.indexOf('*aljaz*')>-1);}
isBaki=function()
{return(ED_USER_DEV_PARAMS.indexOf('*baki*')>-1);}
isNejc=function()
{return(ED_USER_DEV_PARAMS.indexOf('*nejc*')>-1);}
edexcept=function(section,message,extra)
{if(typeof message=='object')
{extra=message;message='';}
section=section+'';message=message+'';var msg=('*ERROR in '+section+': '+message+' (handled by eDition) ');if(typeof ED_ENABLE_send_back_edexcept!='undefined'&&ED_ENABLE_send_back_edexcept)
{add_edexcept_to_array({section:section,msg:message});}
if(inf&&inf.is_chrome)
{if(extra!==undefined)
{console.log('%c '+msg,'background:#FF2C2C; color:#FFF9F9; padding:3px;',extra);}
else
{console.log('%c '+msg,'background:#FF2C2C; color:#FFF9F9; padding:3px;');}}
else
{if(extra!==undefined)
{console.log(msg,extra)}
else
{console.log(msg)}}}
edLang=function(str)
{return str}
ef.randomStr=function()
{var adjectives=['Black','Green','Blue','Dark','Light','Wise','Smart'];var nouns=['Ship','House,Fruit','Plant','People','Planets','Moon','Way','Hill','Forest'];return adjectives[Math.floor(Math.random()*words.length)]+' '+nouns[Math.floor(Math.random()*words.length)];}
hasText=function(substr,str)
{return str.toLowerCase().indexOf(substr.toLowerCase())>-1;}
stripChars=function(chars,str)
{if(!str){return'';}
var re=new RegExp('['+chars+']','g');return str.replace(re,'')}
stripAllCharsButThese=function(str,chars)
{if(!str){return'';}
var re=new RegExp('[^'+chars+']','g');return str.replace(re,'')}
replaceStr=function(sub,newStr,str)
{if(!str){return'';}
var re=new RegExp(sub,'g');return str.replace(re,newStr);}
quickToFront=function(obj)
{while(obj&&!obj.is('body')&&obj.length>0)
{obj.addClass('bring_front');if(obj.css('position')=='static'){obj.css({position:'relative'})}
obj=obj.parent();}}
quickToFrontRemove=function(obj)
{while(obj&&obj.length>0)
{obj.removeClass('bring_front');obj=obj.parent();}}
findClosestObj=function(x,y,items)
{var shortestDist=-1;var result={obj:$(),x:0,y:0};items=$(items);items.each(function()
{if($(this).parent('.drop_place_holder')>0)return;var pos=$(this).offset();var x1=pos.left+$(this).width()/2;var y1=pos.top+$(this).height()/2;var dist=ef.sqrDist(x,y,x1,y1);if(shortestDist<0||dist<shortestDist)
{shortestDist=dist;result={obj:$(this),x:x-x1,y:y-y1,dist:Math.sqrt(dist)};}});return result;}
ajaxError=function(response)
{jtrace(typeof(response));if(typeof(response)!='string'){return false;}
return response.indexOf('ed-error')!=-1;}
Number.prototype.round=function(places){return Math.round(this*10*places)/(10*places);}
Number.prototype.secureRound=function(places)
{return Math.round(Math.round(this*10*places)/(10*places)*10*places)/(10*places);}
ef.dist=function(x1,y1,x2,y2)
{return Math.sqrt(Math.pow(x1-x2,2)+Math.pow(y1-y2,2));}
ef.sqrDist=function(x1,y1,x2,y2)
{return Math.pow(x1-x2,2)+Math.pow(y1-y2,2);}
ef.lineAngle=function(pt1,pt2)
{return(Math.atan2((pt2[1]-pt1[1]),(pt2[0]-pt1[0]))*180 / Math.PI)}
rotatePoint=function(pt,centerPt,angle)
{var angle=angle*Math.PI / 180;return{x:(pt.x-centerPt.x)*Math.cos(angle)-(pt.y-centerPt.y)*Math.sin(angle)+centerPt.x,y:(pt.x-centerPt.x)*Math.sin(angle)+(pt.y-centerPt.y)*Math.cos(angle)+centerPt.y};}
unrotatePoint=function(pt,centerPt,angle)
{var angle=-angle*Math.PI / 180;return{x:(pt.x-centerPt.x)*Math.cos(angle)-(pt.y-centerPt.y)*Math.sin(angle)+centerPt.x,y:(pt.x-centerPt.x)*Math.sin(angle)+(pt.y-centerPt.y)*Math.cos(angle)+centerPt.y};}
ef.isInsideRect=function(pt,rect)
{if(!isArray(pt)){pt=[pt.x,pt.y];}
if(!isArray(rect)){rect=[rect.x,rect.y,rect.width,rect.height];}
if(rect[2]<0){rect[2]*=-1;rect[0]-=rect[2];}
if(rect[3]<0){rect[3]*=-1;rect[1]-=rect[3];}
return(pt[0]>=rect[0]&&pt[1]>=rect[1]&&pt[0]<=rect[0]+rect[2]&&pt[1]<=rect[1]+rect[3])}
parseIntDef=ef.parseIntDef=function(str,defValue)
{var result=parseInt(str);if(isNaN(result)){result=defValue}
return result}
parseFloatDef=ef.parseIntDef=function(str,defValue)
{var result=parseFloat(str);if(isNaN(result)){result=defValue}
return result}
ef.isRectInsideRect=function(smallRect,rect)
{if(rect[2]<0){rect[2]*=-1;rect[0]-=rect[2];}
if(rect[3]<0){rect[3]*=-1;rect[1]-=rect[3];}
if(smallRect[2]<0){smallRect[2]*=-1;smallRect[0]-=smallRect[2];}
if(smallRect[3]<0){smallRect[3]*=-1;smallRect[1]-=smallRect[3];}
var result=(smallRect[0]>=rect[0]&&smallRect[1]>=rect[1]&&((smallRect[0]+smallRect[2])<=(rect[0]+rect[2]))&&((smallRect[1]+smallRect[3])<=(rect[1]+rect[3])))
return result}
ef.normalizedRect=function(rect)
{if(rect.width<0){rect.width*=-1;rect.x-=rect.width;}
if(rect.height<0){rect.height*=-1;rect.y-=rect.height;}
return rect;}
ef.fitRect=function(insideR,ousideR,offset)
{if(offset===undefined){offset=true;}
jtrace('offset = '+offset);insideR=ef.normalizedRect(insideR);ousideR=ef.normalizedRect(ousideR);var wScale=ousideR.width/insideR.width;var hScale=ousideR.height/insideR.height;var scale=Math.min(wScale,hScale);var result={};result.width=scale*insideR.width;result.height=scale*insideR.height;result.x=(ousideR.width-result.width)/2+(offset?ousideR.x:0);result.y=(ousideR.height-result.height)/2+(offset?ousideR.y:0);return result;}
ef.fillRect=function(insideR,ousideR,offset)
{if(offset===undefined){offset=true;}
jtrace('offset = '+offset);insideR=ef.normalizedRect(insideR);ousideR=ef.normalizedRect(ousideR);var wScale=ousideR.width/insideR.width;var hScale=ousideR.height/insideR.height;var scale=Math.max(wScale,hScale);var result={};result.width=scale*insideR.width;result.height=scale*insideR.height;result.x=(ousideR.width-result.width)/2+(offset?ousideR.x:0);result.y=(ousideR.height-result.height)/2+(offset?ousideR.y:0);return result;}
increaseRect=function(rect,incVal,vertIncVal)
{if(vertIncVal===undefined){vertIncVal=incVal;}
rect.x-=incVal;rect.width+=incVal*2;rect.y-=vertIncVal;rect.height+=vertIncVal*2;return rect;}
ef.rndColor=function(chars)
{if(typeof(chars)=='undefined')chars='0123456789ABCDEF'
var letters=chars.split('');var str='#';for(var i=0;i<6;i++){str+=letters[Math.floor(Math.random()*letters.length)];}
return str;}
ef.rndInt=function(min,max)
{return Math.floor(Math.random()*(max-min+1)+min)}
$(document).ready(function(){});ed_base64_encode=function(data){var b64='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc='',tmp_arr=[];if(!data){return data;}
data=unescape(encodeURIComponent(data))
do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');var r=data.length%3;return(r?enc.slice(0,r-3):enc)+'==='.slice(r||3);};base64_decode=function(data){var b64='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,dec='',tmp_arr=[];if(!data){return data;}
data+='';do{h1=b64.indexOf(data.charAt(i++));h2=b64.indexOf(data.charAt(i++));h3=b64.indexOf(data.charAt(i++));h4=b64.indexOf(data.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&0xff;o2=bits>>8&0xff;o3=bits&0xff;if(h3==64){tmp_arr[ac++]=String.fromCharCode(o1);}else if(h4==64){tmp_arr[ac++]=String.fromCharCode(o1,o2);}else{tmp_arr[ac++]=String.fromCharCode(o1,o2,o3);}}while(i<data.length);dec=tmp_arr.join('');return decodeURIComponent(escape(dec.replace(/\0+$/,'')));};Date.prototype.getWeekPiwik=function(){var first_day_year=new Date(this.getFullYear(),0,1);var temp_date=new Date(this.getFullYear(),this.getMonth(),this.getDate());var first_day_year_day=first_day_year.getDay();if(first_day_year_day==0){first_day_year_day=7;}
return Math.ceil((((temp_date.getTime()-first_day_year.getTime())/ 86400000)+first_day_year_day)/ 7);}
Date.prototype.getWeek=function(){var first_day_year=new Date(this.getFullYear(),0,1);var temp_date=new Date(this.getFullYear(),this.getMonth(),this.getDate());var first_day_year_day=first_day_year.getDay();first_day_year_day++;return Math.ceil((((temp_date.getTime()-first_day_year.getTime())/ 86400000)+first_day_year_day)/ 7);}
var dateFormat=function()
{var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){val=String(val);len=len||2;while(val.length<len)val="0"+val;return val;};return function(date,mask,utc){var dF=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(date)=="[object String]"&&!/\d/.test(date)){mask=date;date=undefined;}
date=date?new Date(date):new Date;if(isNaN(date))throw SyntaxError("invalid date");mask=String(dF.masks[mask]||mask||dF.masks["default"]);if(mask.slice(0,4)=="UTC:"){mask=mask.slice(4);utc=true;}
var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L / 10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/ 60)*100+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1);});};}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(mask,utc){return dateFormat(this,mask,utc);};edGetOptionsFromDataAttribute=function(data){var data=data.replace(/ /g,'');data=data.toString().split(',');var result={};$.each(data,function(index,single_option){var splitted=single_option.toString().split(':');result[splitted[0]]=splitted[1];});return result;}
$('.input-field input').each(function(){if($(this).attr('placeholder')&&$(this).attr('placeholder').trim()){input_id=$(this).attr('id');$('.input-field label[for="'+input_id+'"]').addClass('active');}});$('.input-field input').on('blur',function(){if($(this).attr('placeholder')&&$(this).attr('placeholder').trim()){input_id=$(this).attr('id');$('.input-field label[for="'+input_id+'"]').addClass('active');}});var currentHighestZindex=9999999;highestZindex=function(){return currentHighestZindex+=1;}
highestZindex2=function(div)
{var result=0;div.children().each(function(){var zIndex=parseInt($(this).css('z-index')||0);if(zIndex>result){result=zIndex;}});result++;return result;}
generateRandomString=function(length,chars){if(typeof chars=='undefined'){var chars='0123456789abcdefghijklmnopqrstuvwxyz';}
var result='';for(var i=length;i>0;--i)result+=chars[Math.round(Math.random()*(chars.length-1))];return result;}
str2int_def=function(strnum,defval){var val=parseInt(strnum+"",10);if(isNaN(val)){return(defval);}else{return(val);}}
rgbToHex=function(r,g,b){return"#"+componentToHex(r)+componentToHex(g)+componentToHex(b);}
hexToRgb=function(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:{r:0,g:0,b:0};}
getTextBetween=function(txt,bef,aft){var startp=txt.indexOf(bef);if(startp<0){return("");}
var endp=txt.indexOf(aft,startp+bef.length);if(endp<0){return("");}
return(txt.substr(startp+bef.length,endp-(startp+bef.length)));}
removeDiacritics=function(str){var a={"Ё":"YO","Й":"I","Ц":"TS","У":"U","К":"K","Е":"E","Н":"N","Г":"G","Ш":"SH","Щ":"SCH","З":"Z","Х":"H","Ъ":"'","ё":"yo","й":"i","ц":"ts","у":"u","к":"k","е":"e","н":"n","г":"g","ш":"sh","щ":"sch","з":"z","х":"h","ъ":"'","Ф":"F","Ы":"I","В":"V","А":"a","П":"P","Р":"R","О":"O","Л":"L","Д":"D","Ж":"ZH","Э":"E","ф":"f","ы":"i","в":"v","а":"a","п":"p","р":"r","о":"o","л":"l","д":"d","ж":"zh","э":"e","Я":"Ya","Ч":"CH","С":"S","М":"M","И":"I","Т":"T","Ь":"'","Б":"B","Ю":"YU","я":"ya","ч":"ch","с":"s","м":"m","и":"i","т":"t","ь":"'","б":"b","ю":"yu"};function cyrilicToLatin(word){return word.split('').map(function(char){return a[char]||char;}).join("");}
str=cyrilicToLatin(str);var defaultDiacriticsRemovalMap=[{'base':'A','letters':/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{'base':'AA','letters':/[\uA732]/g},{'base':'AE','letters':/[\u00C6\u01FC\u01E2]/g},{'base':'AO','letters':/[\uA734]/g},{'base':'AU','letters':/[\uA736]/g},{'base':'AV','letters':/[\uA738\uA73A]/g},{'base':'AY','letters':/[\uA73C]/g},{'base':'B','letters':/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{'base':'C','letters':/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{'base':'D','letters':/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{'base':'DZ','letters':/[\u01F1\u01C4]/g},{'base':'Dz','letters':/[\u01F2\u01C5]/g},{'base':'E','letters':/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{'base':'F','letters':/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{'base':'G','letters':/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{'base':'H','letters':/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{'base':'I','letters':/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{'base':'J','letters':/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{'base':'K','letters':/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{'base':'L','letters':/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{'base':'LJ','letters':/[\u01C7]/g},{'base':'Lj','letters':/[\u01C8]/g},{'base':'M','letters':/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{'base':'N','letters':/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{'base':'NJ','letters':/[\u01CA]/g},{'base':'Nj','letters':/[\u01CB]/g},{'base':'O','letters':/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{'base':'OI','letters':/[\u01A2]/g},{'base':'OO','letters':/[\uA74E]/g},{'base':'OU','letters':/[\u0222]/g},{'base':'P','letters':/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{'base':'Q','letters':/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{'base':'R','letters':/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{'base':'S','letters':/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{'base':'T','letters':/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{'base':'TZ','letters':/[\uA728]/g},{'base':'U','letters':/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{'base':'V','letters':/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{'base':'VY','letters':/[\uA760]/g},{'base':'W','letters':/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{'base':'X','letters':/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{'base':'Y','letters':/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{'base':'Z','letters':/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{'base':'a','letters':/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{'base':'aa','letters':/[\uA733]/g},{'base':'ae','letters':/[\u00E6\u01FD\u01E3]/g},{'base':'ao','letters':/[\uA735]/g},{'base':'au','letters':/[\uA737]/g},{'base':'av','letters':/[\uA739\uA73B]/g},{'base':'ay','letters':/[\uA73D]/g},{'base':'b','letters':/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{'base':'c','letters':/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{'base':'d','letters':/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{'base':'dz','letters':/[\u01F3\u01C6]/g},{'base':'e','letters':/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{'base':'f','letters':/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{'base':'g','letters':/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{'base':'h','letters':/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{'base':'hv','letters':/[\u0195]/g},{'base':'i','letters':/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{'base':'j','letters':/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{'base':'k','letters':/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{'base':'l','letters':/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{'base':'lj','letters':/[\u01C9]/g},{'base':'m','letters':/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{'base':'n','letters':/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{'base':'nj','letters':/[\u01CC]/g},{'base':'o','letters':/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{'base':'oi','letters':/[\u01A3]/g},{'base':'ou','letters':/[\u0223]/g},{'base':'oo','letters':/[\uA74F]/g},{'base':'p','letters':/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{'base':'q','letters':/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{'base':'r','letters':/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{'base':'s','letters':/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{'base':'t','letters':/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{'base':'tz','letters':/[\uA729]/g},{'base':'u','letters':/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{'base':'v','letters':/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{'base':'vy','letters':/[\uA761]/g},{'base':'w','letters':/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{'base':'x','letters':/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{'base':'y','letters':/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{'base':'z','letters':/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];for(var i=0;i<defaultDiacriticsRemovalMap.length;i++){str=str.replace(defaultDiacriticsRemovalMap[i].letters,defaultDiacriticsRemovalMap[i].base);}
return str;}
toAscii=function(str){var clean=str;clean=removeDiacritics(str);clean=clean.replace(/[^a-zA-Z0-9\/_|+ -]/g,"");clean=clean.toLowerCase();clean=clean.trim();return clean;}
calculateSef=function(str,replace_slash){var sef_ret=str;sef_ret=sef_ret.split(/\s+/).join(' ');sef_ret=sef_ret.replace(/ & /g," and ");sef_ret=sef_ret.replace(/&/g," and ");sef_ret=sef_ret.replace(/\?/g,"");sef_ret=sef_ret.replace(/\t/g," ");sef_ret=sef_ret.replace(/ /g,"-");sef_ret=sef_ret.replace(/\+/g,"-");if(typeof replace_slash!="undefined"&&replace_slash==true){sef_ret=sef_ret.replace(/\//g,"-");}
sef_ret=toAscii(sef_ret);while(sef_ret.slice(-1)=="-"){sef_ret=sef_ret.substring(0,sef_ret.length-1);}
while(sef_ret.charAt(0)==='-'){sef_ret=sef_ret.substr(1);}
return sef_ret;}
findParamOfType=function(tip,params)
{for(var i=0;i<params.length;i++)
{if(typeof params[i]==tip){return params[i];}}
return undefined;}
scrollToElement=function(iscroll,item,center,animated,direction)
{if(animated===undefined){animated=true;}
var mask=iscroll?$(iscroll.wrapper):$(window);item=$(item);if(!item.length||!item.edVisible()){return;}
var itemBounds={};itemBounds.left=item.offset().left-(iscroll?mask.offset().left:$('body').scrollLeft());itemBounds.top=item.offset().top-(iscroll?mask.offset().top:$('body').scrollTop());itemBounds.right=itemBounds.left+item.outerWidth();itemBounds.bottom=itemBounds.top+item.outerHeight();var maskDim={width:mask.outerWidth(),height:mask.outerHeight()}
var dx=0;var dy=0;if(center)
{dx=(itemBounds.left+item.outerWidth()/2)-(maskDim.width/2);dy=(itemBounds.top+item.outerHeight()/2)-(maskDim.height/2);}
else
{if(itemBounds.left<0){dx=itemBounds.left;}
else if(itemBounds.right>maskDim.width){dx=itemBounds.right-maskDim.width;}
if(itemBounds.top<0){dy=itemBounds.top;}
else if(itemBounds.bottom>maskDim.height){dy=itemBounds.bottom-maskDim.height;}}
if(iscroll)
{minX=-iscroll.x;minY=-iscroll.y;maxX=(iscroll.scrollerWidth-iscroll.wrapperWidth);maxY=(iscroll.scrollerHeight-iscroll.wrapperHeight);if(minX+dx<0){dx=-minX;}
if(minY+dy<0){dy=-minY;}
if(minX+dx>maxX){dx=maxX-minX;}
if(minY+dy>maxY){dy=maxY-minY;}}
if(direction=='x'){dy=0;}
if(direction=='y'){dx=0;}
if(iscroll)
{iscroll.scrollBy(-dx,-dy,animated?500:0);}
else
{var x=$('body').scrollLeft()+dx;var y=$('body').scrollTop()+dy;if(animated)
{$('body').animate({scrollTop:y,scrollLeft:x},200);}
else
{$('body').scrollTop(y).scrollLeft(x);}}
return{dx:dx,dy:dy}}
$.fn.edPrefs=function(attrName)
{if(attrName===undefined){attrName='edprefs'}
var str=$(this).data(attrName);if(!str){return{};}
var result={};var arr=str.split(',');for(var i in arr)
{var arr2=arr[i].split(':');if(arr2.length==2)
{result[arr2[0]]=arr2[1];}}
return result;}
ED_INTERACTION_DISABLED_COUNT=0;DI_TIMERS={};disableInteraction=function(time,label)
{if(time===undefined){time=300;}
ED_INTERACTION_DISABLED_COUNT++;$('.ed_interaction_stopper').bringToFront().removeClass('hidden');if(label)
{if(DI_TIMERS[label]){enableInteraction(label);}
DI_TIMERS[label]=setTimeout(function(){enableInteraction(label);},time);}
else
{setTimeout(function(){enableInteraction('f0rced2748346');},time);}}
enableInteraction=function(label)
{if(!label){edexcept('glb','enableInteraction without label not allowed');return;}
if(label!='f0rced2748346'&&!DI_TIMERS[label])
{jtrace('label '+label+' not found');return;}
ED_INTERACTION_DISABLED_COUNT--;if(ED_INTERACTION_DISABLED_COUNT<0){ED_INTERACTION_DISABLED_COUNT=0;}
if(ED_INTERACTION_DISABLED_COUNT==0){$('.ed_interaction_stopper').addClass('hidden');}
clearTimeout(DI_TIMERS[label]);DI_TIMERS[label]=undefined;}
interactionEnabled=function()
{return ED_INTERACTION_DISABLED_COUNT==0;}
saveUserPreference=function(section,prefName,value)
{if(typeof(Storage)==="undefined")
{edexcept('global','Browser does not support storage');return false;}
if(!section)
{edexcept('global','Save user pref: section undefined');return false;}
if(!prefName)
{edexcept('global','Save user pref: prefName undefined');return false;}
prefName=prefName.toLowerCase();section=section.toLowerCase();var str='';if(typeof(value)=='object')
{str=JSON.stringify(value);str='#t_obj%'+str;jtrace(str);}
else{str=value;}
if(str)
{localStorage.setItem('edpref_'+section+'_'+prefName,str);}
else
{localStorage.removeItem('edpref_'+section+'_'+prefName);}
return true;}
getUserPreference=function(section,prefName)
{function tryConvertToNum(value)
{var num=parseInt(value);if(!isNaN(num))
{var decimal=parseFloat(value);if(decimal>num){return decimal;}else{return num;}}
return value;}
function myParseArray(str)
{result=[];var startLen='#t_arr%'.length;str=str.substring(startLen,str.length);var result=str.split('%a*');for(var i in result)
{result[i]=tryConvertToNum(result[i]);}
return result;}
if(typeof(Storage)==="undefined")
{edexcept('global','Browser does not support storage');return false;}
if(!section)
{edexcept('global','Save user pref: section undefined');return false;}
if(!prefName)
{edexcept('global','Save user pref: prefName undefined');return false;}
prefName=prefName.toLowerCase();section=section.toLowerCase();var result=localStorage.getItem('edpref_'+section+'_'+prefName);if(!result){return undefined;}
if(result.substring(0,7)=='#t_arr%')
{result=myParseArray(result);}
else if(result.substring(0,7)=='#t_obj%')
{var startLen='#t_obj%'.length;result=result.substring(startLen,result.length);result=JSON.parse(result);}
else
{result=tryConvertToNum(result);}
return result;}
strToKeycode=function(str)
{str=str.toLowerCase();for(var i in ed_keys)
{if(ed_keys[i].str==str){return ed_keys[i].key}}
return-1;}
kaycodeToStr=function(key)
{for(var i in ed_keys)
{if(ed_keys[i].key==key){return ed_keys[i].str}}
return'';}
formatKeyShortcut=function(str)
{str=replaceStr('leftarrow','<i class="mdi-navigation-arrow-back"></i>',str);str=replaceStr('rightarrow','<i class="mdi-navigation-arrow-forward"></i>',str);str=replaceStr('uparrow','<i class="mdi-navigation-arrow-back rotate90" style="display:inline-block"></i>',str);str=replaceStr('downarrow','<i class="mdi-navigation-arrow-back rotate270" style="display:inline-block"></i>',str);str=replaceStr('pageup','Page up',str);str=replaceStr('pagedown','Page down',str);str=replaceStr('plus','%plus%',str);str=replaceStr('minus','%minus%',str);str=replaceStr('ctrl',isMacComputer()?'<span class="mod">&#8984;</span>':'<span class="mod">ctrl</span>',str);str=replaceStr('alt','<span class="mod ico">alt</span>',str);str=replaceStr('shift','<span class="mod ico">&#8679;</span>',str);str=replaceStr('\\+','<span class="plus">+</span>',str);str=replaceStr('%plus%','+',str);str=replaceStr('%minus%','-',str);return str;}
validId=function(id)
{return(id>0);}
isUserEntitledToAnyProject=function(callback)
{if(!typeof callback=='function'){edexcept('isUserEntitledToAnyProject','invalid callback');return;}
$.ajax({url:'/ajax/projects/all_account_projects',data:{},success:function(data,status,jqXHR)
{if(!data||!isArray(data)||!data.length)
{callback(false);}
else
{callback(true);}},error:function()
{edexcept('crdNewFromPdfClicked','ajax all_account_projects error');callback(false);}});}
noPermissionsAlert=function()
{edAlert('Way to go!','It\'s nice to see that you\'re so adventurous but in order to use this functionality you\'ll need a different user account role.<br>'+'This can quickly be resolved if you contact your custodian, who will be able to bump you up.');}
edSaveFile=function(urls,edition_id){if(urls===undefined){return;}
var filename,xhr,id_iframe,iframe,url,create_zip,form,id_form;if(!$.isArray(urls)){urls=[urls];}
if(urls.length>1){create_zip=true;if(!edition_id){return;}}
xhr=new XMLHttpRequest();id_iframe='download_container_iframe';id_form='download_container_form';iframe=$('#'+id_iframe);form=$('#'+id_form);if(!iframe.length){iframe=$('<iframe class="hide" id='+id_iframe+'></iframe>');$('body').append(iframe);}
if(!form.length){form=$('<form class="hide" target="_blank" enctype="multipart/form-data"'+'method="post" id='+id_form+'></form>');$('body').append(form);}
if(!create_zip){form.attr('action',urls[0]+'&get_file=1');form.submit();}
else{url='/download/stored_files/edition/'+edition_id+'?';$.each(urls,function(i,obj){if(i!=0){url+='&'}
url+='requested_files[]='+obj;});iframe.attr('src',url);}}
simple_stringify=function(obj)
{function escapeStr(str)
{str=str.replace(/"/g,"\\\"");return str}
function valToStr(val)
{if(typeof val=='string'){return'"'+escapeStr(val)+'"';}
return String(val);}
var result='';if(isArray(obj))
{result+='[';for(var key=0;key<=obj.length-1;key++)
{if(typeof obj[key]=='object'){result+=simple_stringify(obj[key]);}
else{result+=valToStr(obj[key]);}
result+=',';}
result=result.replace(/,\s*$/,'');result+=']';}
else if(typeof obj=='object')
{result+='{';for(var key in obj)
{if(obj.hasOwnProperty(key))
{result+='"'+key+'":';if(typeof obj[key]=='object'){result+=simple_stringify(obj[key]);}
else{result+=valToStr(obj[key]);}
result+=',';}}
result=result.replace(/,\s*$/,'');result+='}';}
else
{result+=valToStr(obj);}
return result;}
objConstructorName=function(obj)
{var funcNameRegex=/function ([^(]{1,})\(/;var results=(funcNameRegex).exec((obj).constructor.toString());return(results&&results.length>1)?results[1]:"";}
backgroundUrl=function(div)
{var bg=$(div).css('background-image');if(!bg||bg=='none'){return''}
bg=bg.replace(/.*\s?url\([\'\"]?/,'').replace(/[\'\"]?\).*/,'')
return bg;}
KEY_BACKSPACE=8;KEY_SPACE=32;KEY_TAB=9;KEY_ENTER=13;KEY_SHIFT=16;KEY_CTRL=17;KEY_ALT=18;KEY_PAUSE=19;KEY_CAPSLOCK=20;KEY_ESCAPE=27;KEY_PAGEUP=33;KEY_PAGEDOWN=34;KEY_END=35;KEY_HOME=36;KEY_LEFTARROW=37;KEY_UPARROW=38;KEY_RIGHTARROW=39;KEY_DOWNARROW=40;KEY_INSERT=45;KEY_DELETE=46;KEY_0=48;KEY_1=49;KEY_2=50;KEY_3=51;KEY_4=52;KEY_5=53;KEY_6=54;KEY_7=55;KEY_8=56;KEY_9=57;KEY_A=65;KEY_B=66;KEY_C=67;KEY_D=68;KEY_E=69;KEY_F=70;KEY_G=71;KEY_H=72;KEY_I=73;KEY_J=74;KEY_K=75;KEY_L=76;KEY_M=77;KEY_N=78;KEY_O=79;KEY_P=80;KEY_Q=81;KEY_R=82;KEY_S=83;KEY_T=84;KEY_U=85;KEY_V=86;KEY_W=87;KEY_X=88;KEY_Y=89;KEY_Z=90;KEY_META=91;KEY_META_LEFT=91;KEY_META_RIGHT=93;KEY_NUMPAD0=96;KEY_NUMPAD1=97;KEY_NUMPAD2=98;KEY_NUMPAD3=99;KEY_NUMPAD4=100;KEY_NUMPAD5=101;KEY_NUMPAD6=102;KEY_NUMPAD7=103;KEY_NUMPAD8=104;KEY_NUMPAD9=105;KEY_NUMPAD9=107;KEY_NUM_PLUS=107;KEY_NUM_MINUS=109;KEY_F1=112;KEY_F2=113;KEY_F3=114;KEY_F4=115;KEY_F5=116;KEY_F6=117;KEY_F7=118;KEY_F8=119;KEY_F9=120;KEY_F10=121;KEY_F11=122;KEY_F12=123;KEY_PLUS=187;KEY_FF_PLUS=171;KEY_MINUS=189;KEY_FF_MINUS=173;KEY_COMMA=188;KEY_DASH=189;KEY_PERIOD=190;KEY_FORWARD_SLASH=191;KEY_OPEN_BRACKET=219;KEY_BACK_SLASH=220;KEY_CLOSE_BRACKET=221;KEY_SINGLE_QUOTE=222;LEFT_MOUSE_BTN=0;MIDDLE_MOUSE_BTN=1;RIGHT_MOUSE_BTN=2;var ed_keys=[{str:'backspace',key:KEY_BACKSPACE},{str:'space',key:KEY_SPACE},{str:'tab',key:KEY_TAB},{str:'enter',key:KEY_ENTER},{str:'shift',key:KEY_SHIFT},{str:'ctrl',key:KEY_CTRL},{str:'alt',key:KEY_ALT},{str:'pause',key:KEY_PAUSE},{str:'capslock',key:KEY_CAPSLOCK},{str:'escape',key:KEY_ESCAPE},{str:'pageup',key:KEY_PAGEUP},{str:'pagedown',key:KEY_PAGEDOWN},{str:'end',key:KEY_END},{str:'home',key:KEY_HOME},{str:'leftarrow',key:KEY_LEFTARROW},{str:'uparrow',key:KEY_UPARROW},{str:'rightarrow',key:KEY_RIGHTARROW},{str:'downarrow',key:KEY_DOWNARROW},{str:'insert',key:KEY_INSERT},{str:'delete',key:KEY_DELETE},{str:'num_plus',key:KEY_NUM_PLUS},{str:'num_minus',key:KEY_NUM_MINUS},{str:'0',key:KEY_0},{str:'1',key:KEY_1},{str:'2',key:KEY_2},{str:'3',key:KEY_3},{str:'4',key:KEY_4},{str:'5',key:KEY_5},{str:'6',key:KEY_6},{str:'7',key:KEY_7},{str:'8',key:KEY_8},{str:'9',key:KEY_9},{str:'a',key:KEY_A},{str:'b',key:KEY_B},{str:'c',key:KEY_C},{str:'d',key:KEY_D},{str:'e',key:KEY_E},{str:'f',key:KEY_F},{str:'g',key:KEY_G},{str:'h',key:KEY_H},{str:'i',key:KEY_I},{str:'j',key:KEY_J},{str:'k',key:KEY_K},{str:'l',key:KEY_L},{str:'m',key:KEY_M},{str:'n',key:KEY_N},{str:'o',key:KEY_O},{str:'p',key:KEY_P},{str:'q',key:KEY_Q},{str:'r',key:KEY_R},{str:'s',key:KEY_S},{str:'t',key:KEY_T},{str:'u',key:KEY_U},{str:'v',key:KEY_V},{str:'w',key:KEY_W},{str:'x',key:KEY_X},{str:'y',key:KEY_Y},{str:'z',key:KEY_Z},{str:'numpad0',key:KEY_NUMPAD0},{str:'numpad1',key:KEY_NUMPAD1},{str:'numpad2',key:KEY_NUMPAD2},{str:'numpad3',key:KEY_NUMPAD3},{str:'numpad4',key:KEY_NUMPAD4},{str:'numpad5',key:KEY_NUMPAD5},{str:'numpad6',key:KEY_NUMPAD6},{str:'numpad7',key:KEY_NUMPAD7},{str:'numpad8',key:KEY_NUMPAD8},{str:'numpad9',key:KEY_NUMPAD9},{str:'f1',key:KEY_F1},{str:'f2',key:KEY_F2},{str:'f3',key:KEY_F3},{str:'f4',key:KEY_F4},{str:'f5',key:KEY_F5},{str:'f6',key:KEY_F6},{str:'f7',key:KEY_F7},{str:'f8',key:KEY_F8},{str:'f9',key:KEY_F9},{str:'f10',key:KEY_F10},{str:'f11',key:KEY_F11},{str:'f12',key:KEY_F12},{str:'plus',key:KEY_PLUS},{str:'ff_plus',key:KEY_FF_PLUS},{str:'minus',key:KEY_MINUS},{str:'ff_minus',key:KEY_FF_MINUS},{str:'comma',key:KEY_COMMA},{str:'dash',key:KEY_DASH},{str:'period',key:KEY_PERIOD},{str:'forward_slash',key:KEY_FORWARD_SLASH},{str:'open_bracket',key:KEY_OPEN_BRACKET},{str:'back_slash',key:KEY_BACK_SLASH},{str:'close_bracket',key:KEY_CLOSE_BRACKET},{str:'single_quote',key:KEY_SINGLE_QUOTE},];})(jQuery);
;
EDO={};(function(){var tlbr={initisset:false,debugMode:false,debugapptoolbar:false,debugTimeFactor:1,screenSizeFactor:0.3,defaultAnimationTime:400,showButtonWidth:50,arrOfPgs:null,lastChangedValue:-1,actioncnt:0,cookiePolicyName:'',currentPageIndex:-1,allowSearch:true,userBookmarks:undefined,main_pages_max:999,autocallshouldhidenavarros:-1,iscontentdrawstyle:false,exceptesearch:99,mobile_page_id:-1,singlewidthimageportrait:100,singlewidthimagelandscape:140,fadeoutTimeArrowsOnPage:600,allPagesInToc:Array,startingpagewasset:false,delayTimeArrowsOnPage:300,resizinx:0,lastStateArrows:false,tlbrDefaultEasing:'ease-in-out',tlbrDefaultEasingEaseIn:'ease-in',tlbrDefaultEasingEaseOut:'ease-out',lastsearchresultArray:new Array,toastShowTime:2000,TEXT_searchNotAllowedInPreviewMode:'Search is disabled in preview',TEXT_sharingNotAllowedInPreviewMode:'Sharing is disabled in preview',TEXT_sharingNotAllowedInReviewMode:'Sharing is disabled in review',TEXT_mailsendingNotAllowedInPreviewMode:'Send to friend is disabled in preview',TEXT_mailsendingNotAllowedInReviewMode:'Send to friend is disabled in review',iscurrentlysendingemail:false,toolbar:{elem:'',hidden:false,canMove:true},download_thumb_selector:'ed_thumb_downloader123',download_thumb_attr:'data-thumb-downloader',download_thumb_timeout:false,panel:{iscrolls:new Array(),searchIscrol:null,about:{elem:'',hidden:true,canMove:true,width:'400px',height:'100%'},social:{elem:'',hidden:true,canMove:true,width:'400px',height:'100%'},userbookmarks:{elem:'',hidden:true,canMove:true,width:'400px',height:'100%'},freehandbookmarks:{elem:'',hidden:true,canMove:true,width:'auto',height:'200px'},search:{elem:'',hidden:true,canMove:true,width:'400px',height:'100%'},download:{elem:'',hidden:true,canMove:true,width:'400px',height:'100%'},top:{iscrollelem:null,elem:'',hidden:true,canMove:true,width:'100%',height:'200px'},packedmenu:{elem:'',hidden:true,canMove:true,width:'300px',height:'100%'}},isMobileVersion:function(){return window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile},checkAndShowHomeLogo:function(){if(window.eddata.appearance.toolbar_logo_img!='')
{$('#edition-toolbar-home').html('<img class="about_logo" alt="About Logo" src="'+window.eddata.appearance.toolbar_logo_img+'" /><div class="toolbar-selected-panel-arrow home"><div class="inner-arrow"></div></div>');$('#edition-toolbar-home').css({'background-image':'none','padding-left':'0px'});}
else
{$('.toolbar-selected-panel-arrow.home').css({'left':'14px'});}},ie10fix:function(){if((window.initer.isIe10)||(window.initer.isIe9))
{$('.edition-toolbar').css({'height':'40px','overflow':'visible'});}},fixLastPagePropertyInEdData:function(){if(window.eddata.appearance.edition_style=='facingpages')
{var lastpageobj=null;var lastindex=-1;for(var d in window.eddata.pages)
{lastindex=d;}
if(lastindex>0)
{window.eddata.pages[lastindex].islastpage=true;}}},getThumbToLoad:function(forPageObj,return_data_base64){var emptyimage='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';if((typeof(forPageObj.tbthumb)=="undefined")||(forPageObj.tbthumb==""))
{if(typeof(forPageObj.background_color)!='undefined')
{tlbr.iscontentdrawstyle=true;return emptyimage;}}
else
{if(typeof window.thumbs_base64!='undefined'){if(window.thumbs_base64[forPageObj.id]){if(return_data_base64){return window.thumbs_base64[forPageObj.id];}
return forPageObj.id;}}
if(!window.edgl.js_css_files.js_base64thumbs){return forPageObj.tbthumb;}}},setupImageDownloading:function(){setTimeout(function(){tlbr.downloadAllThumbs(tlbr.download_thumb_selector,tlbr.download_thumb_attr);},1000);},downloadAllThumbs:function(class_selector,data_attr){if(window.edgl.argo.indexOf('*test_toolbar_downloading*')!=-1){console.log('downloading all thumbs');}
var elements=$('.'+class_selector);this.downloadIndividualThumb(elements,data_attr);},downloadIndividualThumb:function(elements,data_attr,class_selector){if(window.edgl.argo.indexOf('*test_toolbar_downloading*')!=-1){console.log('downloading individual thumb',[elements,data_attr,class_selector]);}
var empty_image='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';var self=this;var el,src;if(!elements.length){return;}
el=$(elements[0]);src=el.attr(data_attr);if(src.length<7){var pgid_src=parseInt(src,10);if(!isNaN(pgid_src)){var b64_img=window.thumbs_base64[pgid_src];if(b64_img){el.attr('src',b64_img);el.removeAttr(data_attr);el.removeClass(class_selector);elements.splice(0,1);setTimeout(function(){self.downloadIndividualThumb(elements,data_attr,class_selector);},5);return;}}}
if(!src){if(window.edgl.argo.indexOf('*test_toolbar_downloading*')!=-1){console.log('no src img load');}
el.attr('src',empty_image);el.removeAttr(data_attr);el.removeClass(class_selector);elements.splice(0,1);this.downloadIndividualThumb(elements,data_attr,class_selector);}
else{if(window.edgl.argo.indexOf('*test_toolbar_downloading*')!=-1){console.log('src image load');}
$('<img/>').on('load',function(){el.attr('src',src);el.removeAttr(data_attr);el.removeClass(class_selector);elements.splice(0,1);self.downloadIndividualThumb(elements,data_attr,class_selector);}).attr('src',src);}},getCssForDrawingEmptyThumbnail:function(){return'width:1px; height:1px;';},getCssForDrawingThumbnail:function(forpageobj,maxbiggersize,get_width){var resvar='';var shouldBeHeight,shouldBeWidth,setToWidthThumb,setToHeightThumb;var ratio,biggerize,isdefault;if(!forpageobj){return'';}
ratio=window.eddata.head.pageWidth/window.eddata.head.pageHeight;biggerize=140;isdefault=true;if(typeof(maxbiggersize)!='undefined')
{if(maxbiggersize>0)
{biggerize=maxbiggersize;isdefault=false;}}
shouldBeWidth=biggerize;if(ratio>=1)
{shouldBeWidth=biggerize;shouldBeHeight=Math.round(shouldBeWidth/ratio);}
else
{if(isdefault)
{biggerize=100;}
shouldBeHeight=biggerize;shouldBeWidth=Math.round(shouldBeHeight*ratio);}
if(get_width){return shouldBeWidth;}
setToWidthThumb=shouldBeWidth.toString();setToHeightThumb=shouldBeHeight.toString();resvar='width:'+setToWidthThumb.toString()+'px;height:'+setToHeightThumb.toString()+'px;';if((typeof(forpageobj.background_color)!='undefined')&&(forpageobj.background_color!='')){resvar+='background-color:'+forpageobj.background_color+';';}
return resvar;},statsAdd:function(action,label,category){if(typeof(label)=='undefined')
{var label='';}
if(typeof(category)=='undefined')
{var category='Toolbar';}
var currentPageId=-1;for(var d in window.eddata.pages)
{var tmpobj=window.eddata.pages[d];if(tlbr.currentPageIndex==tmpobj.pagenumber)
{currentPageId=tmpobj.id;}}
try
{if((window.tlbr.mobile_page_id>-1)&&(currentPageId==-1))
{for(var d in window.eddata.pages)
{var tmpobj=window.eddata.pages[d];if(window.tlbr.mobile_page_id==tmpobj.id)
{currentPageId=tmpobj.id;}}}}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 1084; column: 163;  :: '+v);console.log("Issue when locating mobile page id");}
if(window.initer.isArticle){currentPageId=1;}
if(currentPageId>-1)
{var statDataObj={category:category,};if(action=='Share'){statDataObj.page_id=currentPageId;}
statDataObj.action=action;statDataObj.label=label;statDataObj.label2='';window.stats.event(category,action,statDataObj,0);}},setCurrentDownloadProgress:function(current,total){var percent=current/total;if(percent<=0)
{percent=0;}
if(percent>=1)
{percent=1;}
$('.ed-progress-download-inner').css({'left':(-100+(percent*100)).toString()+'%'});},initdownloadpnl:function(){$('.ed-progress-title').html(window.initer.getlangword('toolbar_download_statusnotdownloading'));$('.btndownloadstart').html(window.initer.getlangword('toolbar_download_btnstart'));tlbr.setCurrentDownloadProgress(0,50);$('.btndownloadstart').css({'display':'block','opacity':0.001}).transition({'opacity':1},250,window.tlbr.tlbrDefaultEasing);$('.btndownloadcancel').css({'visibility':'hidden'});},cancelDownload:function(){try
{window.webapp.cancelDownload(window.edgl.edition.id);tlbr.initdownloadpnl();}catch(e){tlbr.initdownloadpnl();}},startDownload:function(){var resvar=true;try
{if($('.btndownloadstart').html().indexOf(window.initer.getlangword('toolbar_download_btnstart'))>-1)
{var offline_url="https://cdn-content-ssl.editiondigital.com/rq/make_stand_alone_apps.php?e=15cmcdvqm&gf=0";$('.btndownloadstart').css({'display':'none'});resvar=window.webapp.downloadIssue(window.edgl.edition.id,window.edgl.edition.edident,offline_url);if(resvar)
{window.tlbr.hideDownloadPanel();}}
else if($('.btndownloadstart').html().indexOf(window.initer.getlangword('toolbar_download_btnpause'))>-1)
{resvar=window.webapp.togglePauseDownload(window.edgl.edition.id,true);}
else if($('.btndownloadstart').html().indexOf(window.initer.getlangword('toolbar_download_btnresume'))>-1)
{resvar=window.webapp.togglePauseDownload(window.edgl.edition.id,false);}}catch(e){resvar=false}
if(!resvar){$('.ed-progress-title').html(window.initer.getlangword('toolbar_download_requesterror'));window.setTimeout("window.tlbr.initdownloadpnl();",2000);}},fillDownloadPanel:function(){var addhtml='';addhtml+='<div class="ed-progress-title">'+window.initer.getlangword('toolbar_download_statusnotdownloading')+'</div>';addhtml+='<div class="ed-progress-download"><div class="ed-progress-download-inner"></div></div>';addhtml+='<div class="btndownloadstart ed-tlbrbutton button" onclick="javascript:window.tlbr.startDownload();">'+window.initer.getlangword('toolbar_download_btnstart')+'</div><div class="btndownloadcancel ed-tlbrbutton button" onclick="javascript:window.tlbr.cancelDownload();">'+window.initer.getlangword('toolbar_download_btncancel')+'</div>';$('#ed-download-scrollholder').append(addhtml);},fillAboutUsPanel:function(){var insertHTML='<div class="holder-all-panel-content">';if(window.eddata.appearance.about_logo_img!='')
{insertHTML+='<img alt="About Image" src="'+window.eddata.appearance.about_logo_img+'" class="pnl_about_image" />';}
else
{insertHTML+='<div style="width:100%;heigh:2px;padding-top:16px;"></div>';}
insertHTML+='<div class="about-panel-article fontfamily ed_direction_rtl_ltr ed_rtl_float">'+window.eddata.appearance.about_text+'</div>';if(window.eddata.appearance.enable_follow_us==1&&window.ed_checkConnectivity()==true)
{insertHTML+=' <hr />';insertHTML+=' <div class="about-panel-follow-us-on fontfamily">';insertHTML+='  <h4>'+window.eddata.appearance.follow_us_text+'</h4>';insertHTML+='  <div class="all-about-icons-holder">';for(var d in window.eddata.appearance.channels)
{var currentObj=window.eddata.appearance.channels[d];if(currentObj.title!='Google+'){insertHTML+='<div onclick="javascript:window.tlbr.statsAdd(\'Follow\',\''+currentObj.title+'\',\'Social\');if(isApp()){ postDataToApp({action: \'linkPress\',url:\''+currentObj.url+'\'}); } else { window.open(\''+currentObj.url+'\'); };" title="'+currentObj.title+'" class="follow-us-on-icon icons ico-'+currentObj.name+'"></div>';}}
insertHTML+='  </div>';insertHTML+=' </div>';}
insertHTML+='</div>';insertHTML+='<div class="gradient-upper"></div>';insertHTML+='<div class="gradient-lower"></div>';insertHTML+='<div class="powered-by fontfamily">powered by Edition Digital</div>';insertHTML+='<div class="icon-close-cross" onclick="tlbr.hideAllPanels(400,\'close_clicked\')"><i></i></div>';window.tlbr.panel.about.elem.html(insertHTML);try
{var about_us_iscroll=new eIScroll('#'+window.tlbr.panel.about.elem[0].id,{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:true,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll'});window.tlbr.panel.iscrolls.push(about_us_iscroll);}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 1110; column: 466;  :: '+v);}},shareUrl:function(share_url,title,short_url_usage){if(window.edgl.preview_mode==1)
{window.tlbr.showToastNotification(window.tlbr.TEXT_sharingNotAllowedInPreviewMode)
return;}
if(window.edgl.review_mode==1)
{window.tlbr.showToastNotification(window.tlbr.TEXT_sharingNotAllowedInReviewMode)
return;}
if(window.initer.isArticle){window.tlbr.shareUrlArticle(share_url,title);return;}
var foundObj=null;var sef_current=window.location.hash.replace('#!','');if(window.location.hash!='')
{for(var d in window.eddata.pages)
{var curobj=window.eddata.pages[d];if(curobj.sef==sef_current)
{foundObj=curobj;break;}}}
if(foundObj!=null)
{var winWidth=550;var winHeight=420;var dualScreenLeft=window.screenLeft!=undefined?window.screenLeft:screen.left;var dualScreenTop=window.screenTop!=undefined?window.screenTop:screen.top;var screenWidth=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var screenHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var winLeft=((screenWidth / 2)-(winWidth / 2))+dualScreenLeft;var winTop=((screenHeight / 2)-(winHeight / 2))+dualScreenTop;if(share_url.indexOf('twitter.com')>0&&typeof short_url_usage=="undefined"){if(typeof window.eddata.appearance.short_url_rq_url!="undefined"){var short_url_generator_url=window.eddata.appearance.short_url_rq_url;short_url_generator_url=short_url_generator_url.replace('[[C_PAGE_ID]]',foundObj.id);var socialBookmarks_js_window=window.open("","SocialBookmarks",'top='+winTop+',left='+winLeft+',width='+winWidth+',height='+winHeight+'');socialBookmarks_js_window.document.write("Loading...");var short_url_ret={popup_obj:socialBookmarks_js_window};$.get(short_url_generator_url,function(data){if(typeof data.status!="undefined"&&data.status==1){short_url_ret.short_url=data.short_url;}}).always(function(data){tlbr.shareUrl(share_url,title,short_url_ret);});return;}}
var share_publication_url=window.edgl.edition.url+'#!'+sef_current;if(typeof short_url_usage!="undefined"&&typeof short_url_usage.short_url!="undefined"){share_publication_url=short_url_usage.short_url;}
if(share_url.indexOf('twitter.com')>0)
{share_url=share_url.replace('[[SHARE_URL]]',encodeURIComponent(share_publication_url));share_url=share_url.replace('[[SHARE_TITLE]]',encodeURIComponent(foundObj.tabtitle));}
else
{share_url=share_url.replace('[[SHARE_URL]]',encodeURIComponent(share_publication_url));share_url=share_url.replace('[[SHARE_TITLE]]',encodeURIComponent(foundObj.tabtitle));share_url=share_url.replace('[[PAGE_IMG]]',encodeURIComponent(foundObj.canvas));}
window.tlbr.statsAdd('Share',title,'Social');if(typeof short_url_usage!="undefined"&&typeof short_url_usage.popup_obj!="undefined"){short_url_usage.popup_obj.location.href=share_url;}else{window.open(share_url,"SocialBookmarks",'top='+winTop+',left='+winLeft+',width='+winWidth+',height='+winHeight+'');}}},shareUrlArticle:function(share_url,title){if(!window.edgl||!window.edgl.edition){return;}
if(!window.eddata||!window.eddata.head){return;}
var share_publication_url=window.edgl.edition.url;if(share_url.indexOf('twitter.com')>0&&typeof window.edgl.edition.short_url!="undefined"&&window.edgl.edition.short_url!=""){share_publication_url=window.edgl.edition.short_url;}
share_url=share_url.replace('[[SHARE_URL]]',encodeURIComponent(share_publication_url));share_url=share_url.replace('[[SHARE_TITLE]]',encodeURIComponent(window.eddata.head.edition_title));window.tlbr.statsAdd('Share',title,'Social');var winWidth=550;var winHeight=420;var dualScreenLeft=window.screenLeft!=undefined?window.screenLeft:screen.left;var dualScreenTop=window.screenTop!=undefined?window.screenTop:screen.top;var screenWidth=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var screenHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var winLeft=((screenWidth / 2)-(winWidth / 2))+dualScreenLeft;var winTop=((screenHeight / 2)-(winHeight / 2))+dualScreenTop;window.open(share_url,"SocialBookmarks",'top='+winTop+',left='+winLeft+',width='+winWidth+',height='+winHeight+'');},isValidEmail:function(email){var regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return regex.test(email);},sendEmailToFriend:function(){if(window.edgl.preview_mode==1)
{window.tlbr.showToastNotification(window.tlbr.TEXT_mailsendingNotAllowedInPreviewMode)
return;}
if(window.edgl.review_mode==1)
{window.tlbr.showToastNotification(window.tlbr.TEXT_mailsendingNotAllowedInReviewMode)
return;}
if(!window.tlbr.iscurrentlysendingemail){var subject=$('#edition-subject-email').val();var body=$('#edition-send-to-friend-body').val();window.location.href="mailto:?subject="+subject+"&body="+body;}},afterSendToFriendMail:function(state){window.tlbr.iscurrentlysendingemail=false;if(state=='err')
{alert(window.initer.getlangword('mail_send_error'));}
else
{$('#edition-friends-email').val('');window.tlbr.showToastNotification(window.initer.getlangword('mail_send_success'),"blue");}},updateTocPagesActive:function(){$('.ed-toc-single-page-holder').removeClass('active').removeClass('animated-pagechange-toggle');if($('.ed-toc-pagination-holder'+tlbr.currentPageIndex.toString())[0]!=null)
{$('.ed-toc-pagination-holder'+tlbr.currentPageIndex.toString()).addClass('active').addClass('animated-pagechange-toggle');}
else
{if(window.eddata.appearance.edition_style=='facingpages')
{$('.ed-toc-pagination-holder'+(parseInt(tlbr.currentPageIndex)+1).toString()).addClass('active').addClass('animated-pagechange-toggle');}
else
{var selectIndex=tlbr.currentPageIndex;if(window.eddata.appearance.edition_style!='facingpages')
{var mainPage=selectIndex;for(var d in window.eddata.pages)
{var tmpobj=window.eddata.pages[d];if(tmpobj.subpage==0)
{mainPage=tmpobj.pagenumber;}
if(tlbr.currentPageIndex==tmpobj.pagenumber)
{if(tmpobj.subpage)
{selectIndex=mainPage;$('.ed-toc-pagination-holder'+selectIndex.toString()).addClass('active').addClass('animated-pagechange-toggle');}
break;}}}}}},drawTocPages:function(animate,skip_download_thumbs){$('.edition-toc-contents-button').removeClass('ed-btn-active');$('.edition-toc-pages-button').removeClass('ed-btn-active').addClass('ed-btn-active');if(typeof(animate)=='undefined')
{var animate=false;}
var addHTML='';var addedcount=0;var prevObj=null;var lastMainPageDivName='';for(var d in window.tlbr.arrOfPgs)
{var curobj=window.tlbr.arrOfPgs[d];var img_ww=window.tlbr.getCssForDrawingThumbnail(curobj,undefined,true);var img_ww_sum=img_ww;if(window.eddata.appearance.edition_style=='facingpages')
{var addStyle='';if((((curobj.arrindex)%2)==0)||(curobj.islastpage))
{if((curobj.leftPage==tlbr.currentPageIndex)||(curobj.rightPage==tlbr.currentPageIndex))
{addStyle=' active';}
addStyle=' ed-toc-pagination-holder'+curobj.pagenumber.toString()+addStyle;}
addHTML+='<div class="ed-toc-single-page-holder main-page fontfamily'+addStyle+'">';if((((curobj.arrindex)%2)==0)||(curobj.islastpage))
{try
{var titlemenu=curobj;var tmpobjc=window.tlbr.arrOfPgs[d];if(parseInt(d)>0)
{if(curobj.leftPage>0)
{tmpobjc=window.tlbr.arrOfPgs[curobj.leftPage-1];if((typeof(tmpobjc)!="undefined")&&(tmpobjc!=null))
{titlemenu=tmpobjc;}}}}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 1166; column: 157;  :: '+v);}
var firstTitleSpreads=titlemenu.page_num_tb;var titletodrawforSpreads=titlemenu.tabtitleoriginal;if(titlemenu.leftPage>1)
{if((curobj.islastpage)&&((((curobj.arrindex)%2)==1)))
{}
else
{if(window.eddata.head.rtl){firstTitleSpreads=window.tlbr.arrOfPgs[titlemenu.rightPage-1].page_num_tb+'-'+window.tlbr.arrOfPgs[titlemenu.leftPage-1].page_num_tb;}else{firstTitleSpreads=titlemenu.leftPage.toString()+'-'+titlemenu.rightPage.toString();}}}
if(!titlemenu.is_true_title)
{titletodrawforSpreads='';}
addHTML+='<div class="ed-toc-single-page-title-image">';var emptyimage='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';var addSrc=emptyimage;var styleadditional='';if(prevObj!=null)
{addSrc=window.tlbr.getThumbToLoad(prevObj);styleadditional=window.tlbr.getCssForDrawingThumbnail(prevObj);}
if((curobj.islastpage)&&((((curobj.arrindex)%2)==1)))
{img_ww_sum=img_ww;addHTML+='<img style="'+tlbr.getCssForDrawingEmptyThumbnail()+'" class="ed-toc-image-toolbar spreads right-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+emptyimage+'" onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addHTML+='<img style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar spreads left-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'" onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addHTML+='</div>';}
else if((curobj.islastpage)&&((((curobj.arrindex)%2)==0)))
{img_ww_sum=2*img_ww;addHTML+='<img class="ed-toc-image-toolbar spreads right-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+addSrc+'"  style="'+styleadditional+'"  onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addHTML+='<img style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar spreads left-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'" onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addHTML+='</div>';}
else
{img_ww_sum=img_ww*2;var first_page_src='';if(!prevObj){first_page_src='src="'+emptyimage+'"';img_ww_sum=img_ww;}
var go_page_id_l=curobj.id;var go_page_id_r=curobj.id;if(prevObj){go_page_id_l=prevObj.id;}
addHTML+='<img '+first_page_src+'  class="ed-toc-image-toolbar spreads left-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+addSrc+'" style="'+styleadditional+'" onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+go_page_id_l+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addHTML+='<img  style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar spreads right-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'" onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\',['+go_page_id_r+']);window.tlbr.hideTopPanel();" />';addHTML+=' </div>';}
addHTML+='<div class="ed-toc-single-page-title-holder ed_direction_rtl_ltr" style="width:'+(img_ww_sum)+'px">'
+'<div class="ed-toc-sinle-page-title ed_rtl_float">'
+firstTitleSpreads+' '+titletodrawforSpreads
+'</div><div class="ed-toc-sinle-page-right-pagenum"></div></div>';}
prevObj=curobj;addedcount+=1;}
else
{var title_pg_html='';var subpagesShowenabled=true;var addHTMLStruct=false;var addStyle='';if(curobj.pagenumber==tlbr.currentPageIndex)
{addStyle=' active';}
if(parseInt(curobj.subpage)==1)
{if(!window.eddata.head.rtl){if(curobj.transition!='parallax')
{if(subpagesShowenabled)
{addHTML+='<div class="ed-toc-single-page-holder ed-toc-pagination-holder'+curobj.pagenumber+' fontfamily'+addStyle+'">';addHTML+='<div class="ed-toc-subpg-topoffset"></div>';title_pg_html='<div class="ed-toc-single-page-title-holder ed_direction_rtl_ltr" style="width:'+(img_ww_sum)+'px" ><div class="ed-toc-sinle-page-title ed_rtl_float">'+curobj.page_num_tb+'</div><div class="ed-toc-sinle-page-right-pagenum"></div></div>';addedcount+=1;addHTMLStruct=true;}
else
{if(curobj.pagenumber==tlbr.currentPageIndex)
{addHTML=addHTML.replace(lastMainPageDivName+' ',lastMainPageDivName+' active ');}}}}}
else
{lastMainPageDivName='ed-toc-pagination-holder'+curobj.pagenumber+'';addHTML+='<div class="ed-toc-single-page-holder '+lastMainPageDivName+' main-page fontfamily'+addStyle+'">';if(curobj.hasSubpages)
{}
var titletodrawforSingles=curobj.tabtitleoriginal;if(!curobj.is_true_title)
{titletodrawforSingles='';}
addHTMLStruct=true;addedcount+=1;title_pg_html='<div class="ed-toc-single-page-title-holder ed_direction_rtl_ltr" style="width:'+(img_ww_sum)+'px" ><div class="ed-toc-sinle-page-title ed_rtl_float">'+curobj.page_num_tb+' '+titletodrawforSingles+'</div><div class="ed-toc-sinle-page-right-pagenum"></div></div>';}
if(addHTMLStruct)
{addHTML+='<div class="ed-toc-single-page-title-image"><img style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'"  onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" /></div>';}
if(title_pg_html){addHTML+=title_pg_html;}}
addHTML+='</div>';}
if(animate)
{$('.edition-toc-pages-holder').stop().transition({'opacity':'0.001'},250,window.tlbr.tlbrDefaultEasingEaseIn,function(){tlbr.drawTocPages(false);$('.edition-toc-pages-holder').transition({'opacity':'1'},250,window.tlbr.tlbrDefaultEasingEaseOut);});return false;}
else
{$('.edition-toc-pages-holder').html(addHTML);tlbr.updateTOCPages();}
if(!skip_download_thumbs){tlbr.downloadAllThumbs(tlbr.download_thumb_selector,tlbr.download_thumb_attr);}
if(window.eddata.appearance.toolbar_theme=="custom")
{window.tlbr.setCorrectThemeOrColors();}
var ratio=window.eddata.head.pageWidth/window.eddata.head.pageHeight;if(ratio>=1)
{var wdthset=(addedcount*tlbr.singlewidthimagelandscape)+(addedcount*8)+20+16;}
else
{var currWidth=tlbr.singlewidthimageportrait*ratio;var wdthset=(addedcount*(currWidth))+(addedcount*8)+20;wdthset+=16;}
tlbr.updateTOCPages();if(wdthset<$('#edition-toolbar-top-panel').width())
{$('.edition-toc-pages-holder').css({width:'auto','min-width':wdthset.toString()+'px'});}
else
{$('.edition-toc-pages-holder').css({width:wdthset.toString()+'px'});}
if(window.eddata.head.rtl){window.tlbr.panel.top.iscrollelem.scrollTo(-$(".edition-toc-pages-holder").width(),0);window.tlbr.panel.top.iscrollelem.refresh();}else{window.tlbr.panel.top.iscrollelem.refresh();}},drawTocContents:function(animate,skip_download_thumbs){$('.edition-toc-contents-button').removeClass('ed-btn-active').addClass('ed-btn-active');$('.edition-toc-pages-button').removeClass('ed-btn-active');if(typeof(animate)=='undefined')
{var animate=false;}
window.tlbr.allPagesInToc=new Array();var addHTML='';var addedgapscount=0;var addedcount=0;var is_spreads=(window.eddata.appearance.edition_style=='facingpages');for(var d in window.tlbr.arrOfPgs)
{var curobj=window.tlbr.arrOfPgs[d];var img_ww=window.tlbr.getCssForDrawingThumbnail(curobj,undefined,true);var img_ww_sum=img_ww;if(!is_spreads)
{if(curobj.is_toc==1)
{addHTML+='<div class="ed-toc-single-page-holder fontfamily">';var titletodrawforSingles=curobj.tabtitleoriginal;if(!curobj.is_true_title)
{titletodrawforSingles='';}
addHTML+='<div class="ed-toc-single-page-title-image"><img style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'"  onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" /></div>';addHTML+='<div class="ed-toc-single-page-title-holder ed_direction_rtl_ltr" style="width:'+(img_ww_sum)+'px" ><div class="ed-toc-sinle-page-title ed_rtl_float">'+curobj.page_num_tb+' '+titletodrawforSingles+'</div><div class="ed-toc-sinle-page-right-pagenum"></div></div>';addHTML+='</div>';addedcount+=1;addedgapscount+=1;}}
else
{if(curobj.is_toc==1)
{if(window.tlbr.allPagesInToc.indexOf(curobj.pagenumber)<0)
{addHTML+='<div class="ed-toc-single-page-holder fontfamily">';var nextobj=window.tlbr.findObjFromWindowPgsByPagenumber(curobj.rightPage);var titleMenu=curobj.page_num_tb;if(curobj.pagenumber>1)
{if(window.eddata.head.rtl){if(window.tlbr.arrOfPgs[curobj.rightPage-1]&&window.tlbr.arrOfPgs[curobj.leftPage-1]){titleMenu=window.tlbr.arrOfPgs[curobj.rightPage-1].page_num_tb+'-'+window.tlbr.arrOfPgs[curobj.leftPage-1].page_num_tb;}else if(window.tlbr.arrOfPgs[curobj.rightPage-1]){titleMenu=window.tlbr.arrOfPgs[curobj.rightPage-1].page_num_tb;}else if(window.tlbr.arrOfPgs[curobj.leftPage-1]){titleMenu=window.tlbr.arrOfPgs[curobj.leftPage-1].page_num_tb;}}else{titleMenu=curobj.leftPage+'-'+curobj.rightPage;}}
if((curobj.islastpage)&&(curobj.pagenumber>1)&&(nextobj==null))
{titleMenu=window.tlbr.arrOfPgs[curobj.leftPage-1].page_num_tb;}
var titletodrawforSpreads=curobj.tabtitleoriginal;if(!curobj.is_true_title)
{titletodrawforSpreads='';}
addHTML+='<div class="ed-toc-single-page-title-image">';if(curobj.pagenumber<=1)
{window.tlbr.allPagesInToc.push(curobj.pagenumber);addHTML+=' <img style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'"  onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addedcount+=1;}
else
{window.tlbr.allPagesInToc.push(curobj.leftPage);window.tlbr.allPagesInToc.push(curobj.rightPage);addHTML+=' <img style="'+tlbr.getCssForDrawingThumbnail(curobj)+'" class="ed-toc-image-toolbar spreads left-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(curobj)+'"  onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addedcount+=1;if(nextobj!=null)
{addHTML+=' <img style="'+tlbr.getCssForDrawingThumbnail(nextobj)+'" class="ed-toc-image-toolbar spreads right-page '+tlbr.download_thumb_selector+'" '+tlbr.download_thumb_attr+'="'+window.tlbr.getThumbToLoad(nextobj)+'"  onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\', \'\', ['+curobj.id+',\'statsfalse\']);window.tlbr.hideTopPanel();" />';addedcount+=1;img_ww_sum=img_ww*2;}}
addHTML+='</div>';addHTML+='<div class="ed-toc-single-page-title-holder ed_direction_rtl_ltr" style="width:'+(img_ww_sum)+'px" ><div class="ed-toc-sinle-page-title ed_rtl_float">'+titleMenu+' '+titletodrawforSpreads+'</div><div class="ed-toc-sinle-page-right-pagenum"></div></div>';addedgapscount+=1;addHTML+='</div>';}}}}
if(window.eddata.appearance.toolbar_theme=="custom")
{window.tlbr.setCorrectThemeOrColors();}
if(animate)
{$('.edition-toc-pages-holder').stop().transition({'opacity':'0.001'},250,window.tlbr.tlbrDefaultEasingEaseIn,function(){tlbr.drawTocContents(false);$('.edition-toc-pages-holder').transition({'opacity':'1'},250,window.tlbr.tlbrDefaultEasingEaseOut);});return false;}
else
{$('.edition-toc-pages-holder').html(addHTML);if(!skip_download_thumbs){tlbr.downloadAllThumbs(tlbr.download_thumb_selector,tlbr.download_thumb_attr);}
tlbr.updateTOCPages();}
if(window.eddata.appearance.toolbar_theme=="custom")
{window.tlbr.setCorrectThemeOrColors();}
var ratio=window.eddata.head.pageWidth/window.eddata.head.pageHeight;if(ratio>=1)
{var wdthset=(addedcount*tlbr.singlewidthimagelandscape)+(addedgapscount*8);wdthset+=16;}
else
{var currWidth=tlbr.singlewidthimageportrait*ratio;var wdthset=Math.round((addedcount*(currWidth))+(addedgapscount*8)+1);wdthset+=16;}
$('.edition-toc-pages-holder').css({'min-width':wdthset.toString()+'px',width:wdthset.toString()+'px'});tlbr.updateTOCPages();if(window.eddata.head.rtl){setTimeout(function(){window.tlbr.panel.top.iscrollelem.scrollTo(-$(".edition-toc-pages-holder").width(),0);window.tlbr.panel.top.iscrollelem.refresh();},10);}else{window.tlbr.panel.top.iscrollelem.refresh();}},updateTOCPages:function(){return;},redrawCurrentActiveToc:function(pagenum,pageid){window.tlbr.mobile_page_id=pageid;$('.ed-toc-sectiontitle').removeClass('active');$('.ed-toc-page-current-active'+pagenum.toString()).addClass('active');if(window.edgl.argo.indexOf('*toc_random_color*')>-1){setTimeout(function(){$('.ed-toc-sectiontitle').each(function(){if(!$(this).hasClass('active')){console.log(' ::not active  ')
var new_color='rgba('+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+',0.3)';$(this).css('background-color',new_color);$(this).css('border-style','dashed');$(this).css('border-width','thin');$(this).css('border-color','green');$(this).css('text-align','left');$(this).css('width','100%');}else{$(this).css('text-align','left');$(this).css('width','100%');}});},500);}},validateMobileTocTitle:function(mobile_title,pageid){var resvar='';if(typeof(mobile_title)!='undefined')
{if(mobile_title!='')
{resvar=mobile_title;}}
if(resvar=='')
{for(var d in window.eddata.pages)
{if(window.eddata.pages[d].mob_page_id==pageid)
{resvar=window.eddata.pages[d].title;break;}}}
return resvar;},fillTocPanel:function(){if(tlbr.isMobileVersion())
{if(window.eddata.appearance.enable_panel_toc==0)
{$('#edition-toolbar-share').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('#edition-toolbar-home').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('#edition-toolbar-home').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('#edition-toolbar-search').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('.edition-viewswitch').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');}
else
{var insertHTML='<div class="about-panel-article fontfamily mobile-toc"></div>';insertHTML+='<div class="gradient-upper"></div>';insertHTML+='<div class="gradient-lower"></div>';insertHTML+='<div class="powered-by fontfamily">powered by Edition Digital</div>';window.tlbr.panel.top.elem.html(insertHTML);var TOC_HTML='';var currentSection='';var currentPageIndex=0;for(var d in window.eddata.pages)
{if(window.eddata.pages[d].mob_page_id>0)
{var tmpobjMobile=window.eddata.pages_mobile[window.eddata.pages[d].mob_page_id];var tmpobj=window.eddata.pages[d];if((window.eddata.pages[d].mob_page_id>0)&&(window.eddata.pages[d].mob_page_id!=currentSection)&&(tmpobjMobile.in_toc>0))
{currentPageIndex++;currentSection=window.eddata.pages[d].mob_page_id;TOC_HTML+='<div class="ed-toc-page-current-active'+currentPageIndex.toString()+' ed-toc-sectiontitle" onclick="javascript:window.tlbr.statsAdd(\'TOC select\');ed_atp(\'gotopage\',\'\',\''+tmpobj.id+'\'); setTimeout(function(){window.tlbr.hideTopPanel();}, 300);">'+window.tlbr.validateMobileTocTitle(tmpobjMobile.mobile_titile,currentSection)+'</div>';}}}
$('.mobile-toc').append(TOC_HTML);window.tlbr.redrawCurrentActiveToc(1,-1);var top_iscroll=new eIScroll('#edition-toolbar-top-panel',{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:false,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll'});window.tlbr.panel.top.iscrollelem=top_iscroll;window.tlbr.panel.iscrolls.push(top_iscroll);}}
else
{if(window.eddata.appearance.enable_panel_toc==0)
{$('#edition-toolbar-share').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('#edition-toolbar-home').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('#edition-toolbar-home').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('#edition-toolbar-search').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');$('.edition-viewswitch').removeClass('ed-toc-disabled').addClass('ed-toc-disabled');}
if(window.eddata.appearance.enable_panel_toc==1)
{if(window.tlbr.arrOfPgs!=null)
{var insertHTML='<div id="holder-all-panel-content" class="holder-all-panel-content">';insertHTML+='<div class="edition-toc-pages-holder">';insertHTML+='</div>';insertHTML+='</div>';if((window.eddata.appearance.enable_toc_pages==1)&&(window.eddata.appearance.enable_toc_toc==1))
{insertHTML+='<div class="edition-toc-buttons-holder">';insertHTML+='<div class="button edition-toc-contents-button" onclick="javascript:window.tlbr.drawTocContents(true);">'+window.initer.getlangword('toolbar_contents')+'</div>';insertHTML+='<div class="button edition-toc-pages-button" onclick="javascript:window.tlbr.drawTocPages(true);">'+window.initer.getlangword('toolbar_pages')+'</div>';insertHTML+='</div">';}
else
{if(window.eddata.appearance.enable_toc_pages==1)
{insertHTML+='<div class="edition-toc-buttons-holder">';insertHTML+='<div class="button edition-table-of-contents-label">'+window.initer.getlangword('toolbar_pages')+'</div>';insertHTML+='</div">';}
else
{insertHTML+='<div class="edition-toc-buttons-holder">';insertHTML+='<div class="button edition-table-of-contents-label">'+window.initer.getlangword('toolbar_toc')+'</div>';insertHTML+='</div">';}}
window.tlbr.panel.top.elem.html(insertHTML);if(window.eddata.head.rtl){var top_iscroll=new eIScroll('#holder-all-panel-content',{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:true,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll',invertWheelDirection:'true'});}else{var top_iscroll=new eIScroll('#holder-all-panel-content',{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:true,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll'});}
window.tlbr.panel.top.iscrollelem=top_iscroll;window.tlbr.panel.iscrolls.push(top_iscroll);if(window.eddata.appearance.enable_toc_toc==1)
{window.tlbr.drawTocContents(false,true);}
else if(window.eddata.appearance.enable_toc_pages==1)
{window.tlbr.drawTocPages(false,true);}}}}},fillSharePanel:function(){var preventForMobile=(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile);var text_body=window.eddata.appearance.sharer_email.body;var insertHTML='<div class="holder-all-panel-content social">';insertHTML+=' <div class="about-panel-follow-us-on fontfamily">';insertHTML+='  <div class="all-social-icons-holder">';for(var d in window.eddata.appearance.sharers)
{var currentObj=window.eddata.appearance.sharers[d];if(currentObj.title!='Google Plus'){insertHTML+='<div class="sharer-icon-holder" onclick="javascript:window.tlbr.shareUrl(\''+currentObj.url+'\',\''+currentObj.title+'\');" title="'+currentObj.title+'"><div class="sharer-icon icons ico-'+currentObj.name+'"></div><div class="sharer-title">'+currentObj.title+'</div></div>';}}
insertHTML+='  </div>';if((window.eddata.appearance.sharer_email.enabled==1)&&(!preventForMobile))
{insertHTML+='  <div class="sharer-icon-holder" onclick="javascript:window.tlbr.sendEmailToFriend();"><div class="sharer-icon icons ico-email"></div><div class="sharer-title">'+window.initer.getlangword('form_send_to_friend_title')+'</div></div>';insertHTML+='  <input id="edition-subject-email" type="hidden" maxlength="100" class="send-to-friend-input subject-email fontfamily ed_direction_rtl_ltr" value="'+window.eddata.appearance.sharer_email.subject+'" />';insertHTML+='  <input id="edition-send-to-friend-body" type="hidden" maxlength="300" value="'+text_body+'" />';}
insertHTML+=' </div>';insertHTML+='</div>';insertHTML+='<div class="gradient-upper"></div>';insertHTML+='<div class="gradient-lower sharer-gradient-lower-disabled"></div>';insertHTML+='<div class="powered-by fontfamily">powered by Edition Digital</div>';insertHTML+='<div class="icon-close-cross" onclick="tlbr.hideAllPanels()"><i></i></div>';window.tlbr.panel.social.elem.html(insertHTML);var share_iscroll=new eIScroll('#'+window.tlbr.panel.social.elem[0].id,{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:true,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll'});window.tlbr.panel.iscrolls.push(share_iscroll);if(window.CitadelaPlayer)
{CitadelaPlayer.drawFooter();}},anyUserBookmarksEnabled:function(){return(window.eddata.appearance.show_user_bookmarks!=1||window.eddata.appearance.show_free_annotations!=1)},findObjFromWindowPgsByPagenumber:function(pagenum){var found=false;var resvar=null;try
{if(pagenum>-1)
{try
{resvar=window.eddata.pages[pagenum-1];if(resvar!=null)
{if(resvar.pagenumber==pagenum)
{found=true;}}}catch(e){}
if(!found)
{for(var d in window.eddata.pages)
{var currobj=window.eddata.pages[d];if(currobj.pagenumber==pagenum)
{resvar=currobj;found=true;break;}}}}}catch(e){}
return resvar;},gotopage:function(pagenumber){var gopage=pagenumber;if(!isNaN(pagenumber))
{var pgobj=window.tlbr.findObjFromWindowPgsByPagenumber(pagenumber);gopage=pgobj.id;}
ed_atp('gotopage','',[gopage,statsfalse]);},onpagechange:function(event,to_page_index){window.tlbr.hideAllPanels(400,window.tlbr.exceptesearch);if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{var indx=0;tlbr.currentPageIndex=to_page_index;for(var d in window.tlbr.arrOfPgs)
{var tmpobj=window.tlbr.arrOfPgs[d];indx=indx+1;if(tmpobj.arrindex==(to_page_index-1).toString())
{$("#slider").slider('value',indx);tlbr.lastChangedValue=indx;tlbr.setPageNumber(tmpobj.page_num_tb);}}
window.tlbr.updateTocPagesActive();}},redrawNavigationArrows:function(showthem,rememeberlastState,ifArrowsOnPageDontRedraw){try
{if(typeof(rememeberlastState)=='undefined')
{var rememeberlastState=true;}
if(typeof(ifArrowsOnPageDontRedraw)=='undefined')
{var ifArrowsOnPageDontRedraw=false;}
if(rememeberlastState){tlbr.lastStateArrows=showthem;}
if(tlbr.currentPageIndex>-1)
{var currentSubpgIndex=0;var countSubpagesNow=false;var arrowsAreOnPage=false;var subpageArrowsAreOnPage=false;var indx=0;var subpagescount=1;var isFirstPage=false;var subpageArrowsArePushUp=false;var isLastPage=false;var currPGobj=null;var hasSubpages=false;var mainpageindx=-1;var countsubpagesfromMainPageIndex=-1;var subpagesCurrentPageIndex=0;if(tlbr.currentPageIndex<=1)
{isFirstPage=true;}
var hasNext=false;var chkSearch=null;for(var d in window.tlbr.arrOfPgs)
{var tmpobj=window.tlbr.arrOfPgs[d];if(tmpobj.arrindex==(tlbr.currentPageIndex-1).toString())
{chkSearch=tmpobj;}}
var passObj={arrindex:-9};if(chkSearch==null)
{for(var d in window.eddata.pages)
{var tmpobj=window.eddata.pages[d];if(tmpobj.arrindex==(tlbr.currentPageIndex-1).toString())
{for(c in window.eddata.pages)
{if(tmpobj.mainPageId==window.eddata.pages[c].mainPageId)
{passObj=window.eddata.pages[c];for(t in window.eddata.pages)
{if(window.location.hash.replace('#!','').replace('#','')==window.eddata.pages[t].sef)
{passObj=window.eddata.pages[t];break;}}
break;}}
break;}}}
for(var d in window.tlbr.arrOfPgs)
{var tmpobj=window.tlbr.arrOfPgs[d];indx=indx+1;if(tmpobj.subpage==0)
{hasNext=true;countSubpagesNow=false;currentSubpgIndex=0;mainpageindx=tmpobj.arrindex;}
else
{currentSubpgIndex+=1;if((tmpobj.transition!='fadein')&&(tmpobj.transition!='parallax')&&(countSubpagesNow))
{subpagescount+=1;}}
if((tmpobj.arrindex==(tlbr.currentPageIndex-1).toString())||(passObj.arrindex==tmpobj.arrindex))
{currPGobj=tmpobj;hasNext=false;subpagescount=1;countSubpagesNow=true;subpagesCurrentPageIndex=currentSubpgIndex;countsubpagesfromMainPageIndex=mainpageindx;}}
if(currPGobj!=null)
{if(currPGobj.subpage==0)
{if(subpagescount>1)
{hasSubpages=true;}}
else if((currPGobj.subpage==1)&&(currPGobj.transition!='fadein')&&(currPGobj.transition!='parallax'))
{subpagescount=subpagescount+subpagesCurrentPageIndex;if(subpagescount>1)
{hasSubpages=true;}}
if((currPGobj.ismainparalaxpage)||(currPGobj.isparalaxsubpage))
{hasSubpages=false;subpagescount=0;}
var subpagesHTMLdivs='';var squares=0;var subpgsdrawn=0;var activetmpobj=null;var drawSubpagesVertial=false;for(var d in window.tlbr.arrOfPgs)
{var tmpobj=window.tlbr.arrOfPgs[d];if(tmpobj.subpage==0)
{drawSubpagesVertial=false;}
if((tmpobj.arrindex==countsubpagesfromMainPageIndex))
{drawSubpagesVertial=true;}
if(drawSubpagesVertial)
{if(subpgsdrawn==subpagesCurrentPageIndex)
{activetmpobj=tmpobj;squares++;subpagesHTMLdivs+='<div class="ed-subpage-nav-index-item active"><div class="ed-subpages-icon active"></div></div>';}
else
{squares++;subpagesHTMLdivs+='<div class="ed-subpage-nav-index-item" onclick="javascript:ed_atp(\'gotopage\',\'\',\''+tmpobj.id+'\');"><div class="ed-subpages-icon"></div></div>'}
subpgsdrawn++;}}
var vertical_to_height=($('.ed-toolbar-subpages-vertical-menu').width()*(squares));$('.ed-toolbar-subpages-vertical-menu').css({'height':vertical_to_height.toString()+'px'}).html(subpagesHTMLdivs);if(window.eddata.appearance.subpage_indicator_color!='')
{$('.ed-subpage-nav-index-item .ed-subpages-icon').css({'background-color':window.eddata.appearance.subpage_indicator_color})}
if(window.eddata.appearance.subpage_indicator_active_color!='')
{$('.ed-subpage-nav-index-item .ed-subpages-icon.active').css({'background-color':window.eddata.appearance.subpage_indicator_active_color})}
try
{window.eddata.appearance.arrow_color=window.eddata.appearance.arrow_color.replace(/\ /g,'');window.eddata.appearance.arrow_bg_color=window.eddata.appearance.arrow_bg_color.replace(/\ /g,'');window.eddata.appearance.subpage_indicator_color=window.eddata.appearance.subpage_indicator_color.replace(/\ /g,'');window.eddata.appearance.subpage_indicator_active_color=window.eddata.appearance.subpage_indicator_active_color.replace(/\ /g,'');if(((window.eddata.appearance.arrow_color.indexOf('rgba(')>-1)&&(window.eddata.appearance.arrow_color.replace('.0)',')').indexOf(',0)')>-1))&&((window.eddata.appearance.arrow_bg_color.indexOf('rgba(')>-1)&&(window.eddata.appearance.arrow_bg_color.replace('.0)',')').indexOf(',0)')>-1)))
{$('.ed-arrow-left').removeClass('ed-arrows-not-visible-at-all').addClass('ed-arrows-not-visible-at-all');$('.ed-arrow-right').removeClass('ed-arrows-not-visible-at-all').addClass('ed-arrows-not-visible-at-all');}
if(((window.eddata.appearance.subpage_indicator_color.indexOf('rgba(')>-1)&&(window.eddata.appearance.subpage_indicator_color.replace('.0)',')').indexOf(',0)')>-1))&&((window.eddata.appearance.subpage_indicator_active_color.indexOf('rgba(')>-1)&&(window.eddata.appearance.subpage_indicator_active_color.replace('.0)',')').indexOf(',0)')>-1)))
{$('.ed-toolbar-subpages-vertical-menu').removeClass('ed-arrows-not-visible-at-all').addClass('ed-arrows-not-visible-at-all');}}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 1372; column: 262;  :: '+v);}
if(!hasNext)
{isLastPage=true;}
if(window.eddata.appearance.edition_style=='facingpages')
{try
{var obj=window.tlbr.findObjFromWindowPgsByPagenumber(activetmpobj.rightPage);if(obj!=null)
{if(obj.islastpage)
{isLastPage=true;}}}catch(e){}}
if(typeof(showthem)=='undefined')
{var showthem=true;}
window.tlbr.actioncnt+=1;if(currPGobj!=null)
{}
if(showthem)
{if(currPGobj!=null)
{try
{if(currPGobj.iscroll!=null)
{if(currPGobj.iscroll[0]!=null)
{var actualContainerWidth=window.eddata.head.pageWidth;var actualContainerHeight=window.eddata.head.pageHeight;if(window.eddata.appearance.edition_style=='facingpages')
{actualContainerWidth=actualContainerWidth*2;}
var actualScaledContainerWidth=actualContainerWidth*currPGobj.iscroll[0].scale;var actualScaledContainerHeight=actualContainerHeight*currPGobj.iscroll[0].scale;var publication_left=($('#'+currPGobj.iscrollHolder).width()-actualScaledContainerWidth)/2;var publication_top=($('#'+currPGobj.iscrollHolder).height()-actualScaledContainerHeight)/2;subpageArrowsArePushUp=false;if(publication_left<=90)
{if(window.initer.isNonTouchDesktop)
{$('.ed-arrow-left').removeClass('ed-arrows-on-page').addClass('ed-arrows-on-page');$('.ed-arrow-right').removeClass('ed-arrows-on-page').addClass('ed-arrows-on-page');$('.ed-arrow-left').css({'left':publication_left.toString()+'px'});$('.ed-arrow-right').css({'right':publication_left.toString()+'px'});}
arrowsAreOnPage=true;if(publication_left<50)
{subpageArrowsArePushUp=true;}
if(publication_left<=28)
{subpageArrowsAreOnPage=true;}}
else
{if(window.initer.isNonTouchDesktop)
{$('.ed-arrow-left').removeClass('ed-arrows-on-page');$('.ed-arrow-right').removeClass('ed-arrows-on-page');$('.ed-arrow-left').css({'left':(publication_left-20-$('.ed-arrow-left').width()).toString()+'px'});$('.ed-arrow-right').css({'right':(publication_left-20-$('.ed-arrow-left').width()).toString()+'px'});}
arrowsAreOnPage=false;subpageArrowsAreOnPage=false;}
if(publication_left<=28)
{$('.ed-toolbar-subpages-vertical-menu').removeClass('ed-arrows-on-page').addClass('ed-arrows-on-page');$('.ed-toolbar-subpages-vertical-menu').css({'right':(publication_left).toString()+'px'});}
else
{$('.ed-toolbar-subpages-vertical-menu').removeClass('ed-arrows-on-page');$('.ed-toolbar-subpages-vertical-menu').css({'right':(publication_left-$('.ed-toolbar-subpages-vertical-menu').width()).toString()+'px'});}
if(publication_top>3)
{$('.ed-toolbar-subpages-vertical-menu').css({'bottom':publication_top.toString()+'px'});}
else
{$('.ed-toolbar-subpages-vertical-menu').css({'bottom':'0px'});}}}}catch(e)
{if(window.initer.isNonTouchDesktop)
{$('.ed-arrow-left').css({'left':'0px'});$('.ed-arrow-right').css({'right':'0px'});}}}
if(hasSubpages)
{if(subpageArrowsArePushUp)
{$('.ed-toolbar-subpages-vertical-menu').css({'bottom':'28px'});}
else
{$('.ed-toolbar-subpages-vertical-menu').css({'bottom':'0px'});}
if(subpageArrowsAreOnPage)
{if(!ifArrowsOnPageDontRedraw)
{$('.ed-toolbar-subpages-vertical-menu').css({'display':'inline-block',opacity:1}).delay(window.tlbr.delayTimeArrowsOnPage).transition({'opacity':0.001},window.tlbr.fadeoutTimeArrowsOnPage,window.tlbr.tlbrDefaultEasing,function(){});}
else
{$('.ed-toolbar-subpages-vertical-menu').css({'display':'inline-block'});}}
else
{$('.ed-toolbar-subpages-vertical-menu').css({'display':'inline-block'}).transition({'opacity':1},200,window.tlbr.tlbrDefaultEasing,function(){});}}
else
{$('.ed-toolbar-subpages-vertical-menu').transition({'opacity':0.001,'display':'none'},0,window.tlbr.tlbrDefaultEasing);}
if(window.initer.isNonTouchDesktop)
{if(!isFirstPage)
{$('.ed-arrow-left-oo').css({'display':'block'});if(arrowsAreOnPage)
{if(!ifArrowsOnPageDontRedraw)
{if($('.ed-arrow-left').css('display')=='none')
{$('.ed-arrow-left').css({'display':'inline-block',opacity:1}).delay(window.tlbr.delayTimeArrowsOnPage).transition({'opacity':0.001},600,window.tlbr.tlbrDefaultEasing,function(){});}
else
{$('.ed-arrow-left').delay(350).transition({'opacity':0.001},150,window.tlbr.tlbrDefaultEasing,function(){});}}
else
{$('.ed-arrow-left').css({'display':'inline-block'});}}
else
{if($('.ed-arrow-left').css('display')=='none')
{$('.ed-arrow-left').stop().css({'display':'inline-block',opacity:0.001}).delay(20).transition({'opacity':1},200,window.tlbr.tlbrDefaultEasing,function(){});}
else
{$('.ed-arrow-left').stop().transition({'opacity':1},150,window.tlbr.tlbrDefaultEasing,function(){});}}}
else
{$('.ed-arrow-left-oo').css({'display':'none'});$('.ed-arrow-left').stop().transition({'opacity':0.001},100,window.tlbr.tlbrDefaultEasing);window.setTimeout('if(window.tlbr.actioncnt=='+window.tlbr.actioncnt.toString()+'){$(\'.ed-arrow-left\').css({display:\'none\'});}',110);};if(!isLastPage)
{$('.ed-arrow-right-oo').css({'display':'block'});if(arrowsAreOnPage)
{if(!ifArrowsOnPageDontRedraw)
{if($('.ed-arrow-right').css('display')=='none')
{$('.ed-arrow-right').css({'display':'inline-block',opacity:1}).delay(window.tlbr.delayTimeArrowsOnPage).transition({'opacity':0.001},window.tlbr.fadeoutTimeArrowsOnPage,window.tlbr.tlbrDefaultEasing,function(){});}
else
{$('.ed-arrow-right').delay(350).transition({'opacity':0.001},150,window.tlbr.tlbrDefaultEasing,function(){});}}
else
{$('.ed-arrow-right').css({'display':'inline-block'});}}
else
{if($('.ed-arrow-right').css('display')=='none')
{$('.ed-arrow-right').stop().css({'display':'inline-block',opacity:0.001}).delay(20).transition({'opacity':1},200,window.tlbr.tlbrDefaultEasing,function(){});}
else
{$('.ed-arrow-right').stop().transition({'opacity':1},150,window.tlbr.tlbrDefaultEasing,function(){});}}}
else
{$('.ed-arrow-right-oo').css({'display':'none'});$('.ed-arrow-right').stop().transition({'opacity':0.001},100,window.tlbr.tlbrDefaultEasing);window.setTimeout('if(window.tlbr.actioncnt=='+window.tlbr.actioncnt.toString()+'){$(\'.ed-arrow-right\').css({display:\'none\'});}',110);}}}
else
{if($('.ed-toolbar-subpages-vertical-menu').css('display')!='none')
{$('.ed-toolbar-subpages-vertical-menu').stop().transition({'opacity':0.001,'display':'none'},0,window.tlbr.tlbrDefaultEasing);}
if($('.ed-arrow-right').css('display')!='none')
{$('.ed-arrow-right').stop().transition({'opacity':0.001,'display':'none'},0,window.tlbr.tlbrDefaultEasing);}
if($('.ed-arrow-left').css('display')!='none')
{$('.ed-arrow-left').stop().transition({'opacity':0.001,'display':'none'},0,window.tlbr.tlbrDefaultEasing);}}}}}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 1464; column: 246;  :: '+v);console.log(e.message);}
if(typeof(showthem)!='undefined')
{if(showthem)
{if($('.ed-additional-hide-element').css('display')=='none')
{$('.ed-additional-hide-element').stop().css({'display':'block',opacity:0.001}).transition({'opacity':1},200,window.tlbr.tlbrDefaultEasing,function(){$(this).css({'display':'block'});});}}
else
{if($('.ed-additional-hide-element').css('display')!='none')
{$('.ed-additional-hide-element').stop().transition({'opacity':0.001},200,window.tlbr.tlbrDefaultEasing,function(){if($(this).css('opacity')<0.5){$(this).css({'display':'none'});}});}}}},checkIfShouldHideNavArrows:function(page,forcehidethem){var defaultredrawlastflag=true;if(!window.tlbr.startingpagewasset)
{defaultredrawlastflag=false;}
if(typeof(forcehidethem)=='undefined')
{var forcehidethem=false;}
var obj=window.tlbr.findObjFromWindowPgsByPagenumber(page);if((!obj.scaled)&&(!forcehidethem))
{tlbr.redrawNavigationArrows(true,true,defaultredrawlastflag);}
else
{tlbr.redrawNavigationArrows(false,true,true);}},setCorrectThemeOrColors:function(){if(window.eddata.appearance.toolbar_theme=="light")
{$('#edition-toolbar').removeClass('white-theme').addClass('white-theme');}
if(window.eddata.appearance.toolbar_theme=="custom")
{var color1=window.eddata.appearance.toolbar_theme_color_1;var color2=window.eddata.appearance.toolbar_theme_color_2;var color3=window.eddata.appearance.toolbar_theme_color_3;var color4=window.eddata.appearance.toolbar_theme_color_4;var color5=window.eddata.appearance.toolbar_theme_color_5;var color6=window.eddata.appearance.toolbar_theme_color_6;$('#edition-toolbar-main').css({'color':color4,'background-color':color1});$('#edition-toolbar-main svg,#edition-toolbar-download svg').css({'fill':color4});$('#edition-toolbar-download-inner').css({'border':'2px solid '+color4});$('.edition-viewswitch svg,.edition-viewswitch svg').css({'fill':color4});$('#edition-toolbar-main path').css({'fill':color4});$('.paginationnumberholder').css({'color':color3});$('#page-number').each(function(){this.style.setProperty('color',color4,'important');});$('#slider .ui-widget-header').css({'background-color':color3});$('#slider .edition-toolbar-slider-background').css({'background-color':color4});$('#slider .ui-slider-handle').css({'background-color':color4});$('body').append('<style>#edition-toolbar-packedmenu-panel .items [data-packed-label]:after{color:'+color4+'}</style>')
$('#edition-toolbar-show-gumb').css({'background-color':color2,'color':color4});$('#edition-toolbar-toggle-button').css({'background-color':color2,'color':color4});$('.ed_toolbar_back_btn').css({'background-color':color2,'color':color4});$('#edition-toolbar-hide-arrow').css({'border-right-color':color2});$('#edition-toolbar-hide-arrow').css({'border-right-color':color2,'border-left-color':color2});$('#edition-toolbar-show-arrow').css({'border-right-color':color2,'border-left-color':color2});$('.inner-arrow').css({'border-top-color':color1});$('#edition-toolbar-about-panel, #edition-toolbar-social-panel, #edition-toolbar-userbookmarks-panel, #edition-toolbar-freehandbookmarks-panel, #edition-toolbar-search-panel, #holder-all-panel-content, #edition-toolbar-top-panel, #edition-toolbar-top-panel, #edition-toolbar-packedmenu-panel').css({'background-color':color5});$('.top-panel .holder-all-panel-content').css({'background-color':'transparent'});$('.panel .fontfamily, .panel .sharer-title, .panel p, .ed-progress-title, .panel h1, .panel h2, .panel h3, .panel h4, .panel h5, .panel .search-result-notification, .panel .search-result-page-num, .panel .search-result-page-description').css({'color':color6});$('.ed-progress-download-inner').css({'background-color':color6});$('.theme_bg5').css({'background-color':color5});$('.panel_btn').css({'background-color':color6,color:color5});$('.panel_btn svg path').css({fill:color5});$('#ub_lock_panel svg path').css({fill:color6});$('.panel_btn.minor').css({'background-color':color5,color:color6,'border-color':color6});$('.ed-progress-download').css({'border':'1px solid '+color6});$('.panel .button').css({'border':'1px solid '+color6,'color':color6,'background-color':'transparent'});$('.panel .ed-btn-active').css({'background-color':color6,'color':color5});$('.panel .ed-toc-single-page-title-holder, .panel .ed-toc-single-page-holder, .panel hr').css({'border-color':color6});$('.powered-by').css({'background-color':color5});var gradient_upper=$('.gradient-upper');gradient_upper.css({'background':'-moz-linear-gradient(top, '+color5+' 0%, rgba(255, 255, 255, 0) 100%)'});gradient_upper.css({'background':'-webkit-linear-gradient(top, '+color5+' 0%, rgba(255, 255, 255, 0) 100%)'});gradient_upper.css({'background':'-o-linear-gradient(top, '+color5+' 0%, rgba(255, 255, 255, 0) 100%)'});gradient_upper.css({'background':'-ms-linear-gradient(top, '+color5+' 0%, rgba(255, 255, 255, 0) 100%)'});gradient_upper.css({'background':'linear-gradient(to bottom, '+color5+' 0%, rgba(255, 255, 255, 0) 100%)'});var gradient_lower=$('.gradient-lower');gradient_lower.css({'background':'-moz-linear-gradient(top, rgba(255, 255, 255, 0) 0%, '+color5+' 100%)'});gradient_lower.css({'background':'-webkit-linear-gradient(top, rgba(255, 255, 255, 0) 0%, '+color5+' 100%)'});gradient_lower.css({'background':'-o-linear-gradient(top, rgba(255, 255, 255, 0) 0%, '+color5+' 100%)'});gradient_lower.css({'background':'-ms-linear-gradient(top, rgba(255, 255, 255, 0) 0%, '+color5+' 100%)'});gradient_lower.css({'background':'linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, '+color5+' 100%)'});}
if(window.eddata.appearance.arrow_bg_color!='')
{$('.ed-arrow-ico-big').css({'background-color':window.eddata.appearance.arrow_bg_color});}
if(window.eddata.appearance.arrow_color!='')
{$('.ed-ico-right,.ed-ico-left').css({'border-color':window.eddata.appearance.arrow_color});}},setCorretSvgGraphics:function(){},setBrandingIcon:function(){if(window.initer.shouldLoadPlayer!=window.initer.optionLoadPlayerMobile)
{$('.ed_copyright_branding').remove();if(!isApp()&&(window.edgl.eddevp.indexOf('*powered-by-hidden*')<0)){$('.edition-player').append('<div class="ed_copyright_branding"  title="Powered by Edition Digital" onclick="if(isApp()){ postDataToApp({action: \'linkPress\',url:\'https://www.editiondigital.com\'}); } else { window.open(\'https://www.editiondigital.com\'); }" ></div>');}}},setCookie:function(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires;},getCookie:function(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length);}
return"";},setCookiePolicy:function(){if(window.eddata.appearance.cookie_policy=="opt-in")
{tlbr.cookiePolicyName='ed-c-policy-agree'+window.edgl.edition.id.toString();if(window.tlbr.getCookie(window.tlbr.cookiePolicyName)!='1')
{$('.ed_cookie_policy_notification').remove();$('.edition-player').append('<div class="ed_cookie_policy_notification"><div class="cookie-icon" onclick="javascript:window.tlbr.toggleCookiesMsg();"></div><div class="ed-cookie-content">We use cookies to create best user experience for our customers. Full details can be found <span class="cookies-additiona-info" onclick="if(isApp()){ postDataToApp({action: \'linkPress\',url:\'https://live.editiondigital.com/cookie-policy-for-edition-digital\'}); } else { window.open(\'/cookie-policy-for-edition-digital\'); }">here</span> or <span class="ed-hide-cookies-txt" onclick="javascript:window.tlbr.toggleCookiesMsg(true);">hide</span> this message.<div class="ed-cookies-close" onclick="javascript:window.tlbr.toggleCookiesMsg();"></div></div></div>');}}},toggleCookiesMsg:function(removebutton){if(typeof(removebutton)=='undefined')
{var removebutton=false;}
if($('.ed-cookie-content').css('display')=='none')
{$('.ed-cookie-content').stop().css({'display':'block'}).transition({x:'330px'},250,window.tlbr.tlbrDefaultEasing);}
else
{if(removebutton)
{$('.ed-cookie-content').stop().css({'display':'block'}).transition({x:'0px'},250,window.tlbr.tlbrDefaultEasing,function(){$(this).css({'display':'none'})});window.tlbr.setCookie(window.tlbr.cookiePolicyName,'1',365);$('.cookie-icon').stop().transition({opacity:'0'},250,window.tlbr.tlbrDefaultEasing);$('.ed_cookie_policy_notification').stop().transition({opacity:'0'},250,window.tlbr.tlbrDefaultEasing,function(){$('.ed_cookie_policy_notification').remove();});}
else
{$('.ed-cookie-content').stop().css({'display':'block'}).transition({x:'0px'},250,window.tlbr.tlbrDefaultEasing,function(){$(this).css({'display':'none'})});}}},setLangVars:function(){tlbr.TEXT_searchNotAllowedInPreviewMode=window.initer.getlangword('TEXT_searchNotAllowedInPreviewMode');tlbr.TEXT_sharingNotAllowedInPreviewMode=window.initer.getlangword('TEXT_sharingNotAllowedInPreviewMode');tlbr.TEXT_sharingNotAllowedInReviewMode=window.initer.getlangword('TEXT_sharingNotAllowedInReviewMode');tlbr.TEXT_mailsendingNotAllowedInPreviewMode=window.initer.getlangword('TEXT_mailsendingNotAllowedInPreviewMode');tlbr.TEXT_mailsendingNotAllowedInReviewMode=window.initer.getlangword('TEXT_mailsendingNotAllowedInReviewMode');$('.toolbar-lang-share-title').html(window.initer.getlangword('toolbar_btn_share_title'));$('.toolbar-lang-search-title').html(window.initer.getlangword('toolbar_btn_search_title'));$('.toolbar-lang-hide-title').html(window.initer.getlangword('toolbar_btn_hide_title'));$('.ed-search-input').attr("placeholder",window.initer.getlangword('toolbar_input_placeholder'));},clearstartingpagebit:function(immediate){if(typeof(immediate)=="undefined")
{var immediate=false;}
if(!immediate)
{}
else
{window.tlbr.startingpagewasset=true;}},isInApptoolbar:function(){return isApp();},drawAppAditionalItems:function(){if(!isApp()){return;}
if(appOs()=='ios'){$('#edition-toolbar').addClass('ed-in-app-toolbar');$('#edition-toolbar-inner').prepend('<div class="ed_toolbar_back_btn toolbarbackbtn" onclick="javascript:window.webapp.appAction({ action:\'app.goBack\' });">'+window.initer.getlangword('toolbar_btn_back')+'</div>');}},updateAppDownloadStatus:function(id,status,progress,total){if(window.edgl.edition.id==id)
{if((status.toLowerCase()=='downloading')||(status.toLowerCase()=='waiting'))
{$('.ed-progress-title').html(window.initer.getlangword('toolbar_download_statusdownloading'));$('.btndownloadstart').html(window.initer.getlangword('toolbar_download_btnpause'));$('.btndownloadcancel').css({'visibility':'visible'});}
else if(status.toLowerCase()=='paused')
{$('.ed-progress-title').html(window.initer.getlangword('toolbar_download_statuspaused'));$('.btndownloadstart').html(window.initer.getlangword('toolbar_download_btnresume'));$('.btndownloadcancel').css({'visibility':'visible'});}
else if(status.toLowerCase()=='downloaded'){$('.ed-progress-title').html(window.initer.getlangword('toolbar_download_statusdownloadcomplete'));$('.btndownloadstart').css({'display':'none'});$('.btndownloadcancel').css({'visibility':'hidden'});}
tlbr.setCurrentDownloadProgress(parseFloat(progress),parseFloat(total));}},init:function(){tlbr.setupImageDownloading();window.tlbr.fixLastPagePropertyInEdData();window.tlbr.setLangVars();window.tlbr.setBrandingIcon();window.tlbr.setCookiePolicy();window.tlbr.ie10fix();window.tlbr.isInApptoolbar();if((window.eddata.appearance.sharers.length<=0)&&((window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)))
{window.eddata.appearance.enable_panel_share_and_use=0;}
String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1);}
if(window.eddata.appearance.toolbar_enabled!=1)
{$('#edition-toolbar').removeClass("toolbarDisabled").addClass("toolbarDisabled");$('#edition-player').removeClass("toolbarDisabled").addClass("toolbarDisabled");return false;}
if(window.initer.isIe9)
{window.tlbr.tlbrDefaultEasing='swing';window.tlbr.tlbrDefaultEasingEaseOut='swing';window.tlbr.tlbrDefaultEasingEaseIn='swing';}
$(document).on("edResize",function(event){window.tlbr.resizeToolbarContentsEvent();});if($('.ed-toolbar-subpages-vertical-menu')[0]==null)
{$('#edition-bg').append('<div class="ed-toolbar-subpages-vertical-menu"></div>');}
var editionToolbarHtml='<style>	\n	\/* JQUERY UI SLIDER CUSTOM OVERRIDES BY IVAN *\/\n	\/* TODO: MOVE TO APPROPRIATE PLACE *\/\n	#slider.ui-slider-horizontal{\n		height:15px;\n		border:none;\n		background: none;\n	}\n	#slider.ui-slider-horizontal .ui-slider-handle{\n		\/\/top:-6px;\n		top: 4px;\n		outline:none;\n	}\n	.ui-widget-content{\n		background:#ddd;	\n	}\n	.ui-widget-header{\n		background:#767676;	\n	}\n	\n	.ui-corner-all, .ui-corner-bottom, .ui-corner-right, .ui-corner-br {\n		border-bottom-right-radius: 8px;\n	}\n	.ui-corner-all, .ui-corner-bottom, .ui-corner-left, .ui-corner-bl {\n		border-bottom-left-radius: 8px;\n	}\n	.ui-corner-all, .ui-corner-top, .ui-corner-right, .ui-corner-tr {\n		border-top-right-radius: 8px;\n	}\n	.ui-corner-all, .ui-corner-top, .ui-corner-left, .ui-corner-tl {\n		border-top-left-radius: 8px;\n	}\n	.ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default{\n		border:none;	\n		background-color:#ddd;\n	}\n	#slider.ui-slider .ui-slider-handle{\n		width:16px;\n		height:16px;\n		cursor:pointer;	\n	}\n	#edition-toolbar-slider{\n		padding-top:10px;	\n	}\n	#slider .edition-toolbar-slider-background{\n		position: absolute;\n		top: 10px;\n		background-color: #ddd;\n		width: 100%;\n		height: 2px;\n		border-top-right-radius: 8px;\n		border-bottom-right-radius: 8px;\n		border-bottom-left-radius: 8px;\n		border-top-left-radius: 8px;\n	}\n	#slider{\n		cursor: pointer;\n		padding-top: 10px;\n	}\n	#slider .ui-slider-range{\n		height: 2px;\n		top: 10px;\n		border-top-right-radius: 8px;\n		border-bottom-right-radius: 8px;\n		border-bottom-left-radius: 8px;\n		border-top-left-radius: 8px;\n	}\n	#edition-toolbar-slider{\n		padding-top: 0px;\n	}\n	\n<\/style>\n\n<a id=\"edition-toolbar-content-hub\" class=\"hidden\">hub<\/a>\n\n<div id=\"edition-toolbar-about-panel\" class=\"panel left-panel\"><\/div>\n<div id=\"edition-toolbar-social-panel\" class=\"panel left-panel\"><\/div>\n\n<!-- =========================== USER BOOKMARKS PANEL ======================== -->\n\n<div id=\"edition-toolbar-userbookmarks-panel\" class=\"panel left-panel\">\n	\n	<div id=\"ub_lock_panel\">\n		<i class=\"ub_lock_on hidden\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20\" height=\"28\" viewBox=\"0 0 28.35 28\"><path d=\"M20.18,10a2,2,0,0,1,2,2V22a2,2,0,0,1-2,2h-12a2,2,0,0,1-2-2V12a2,2,0,0,1,2-2h1V8a5,5,0,0,1,10,0v2Zm-2.91,0V8a3,3,0,0,0-.91-2.18A3.09,3.09,0,0,0,13,5.15a3,3,0,0,0-1,.67A3,3,0,0,0,11.08,8v2Zm-3.09,9a1.89,1.89,0,0,0,1.4-.58,2,2,0,0,0,0-2.81,2,2,0,0,0-2.19-.44,1.71,1.71,0,0,0-.62.44,2,2,0,0,0,0,2.81,1.69,1.69,0,0,0,.62.43A2,2,0,0,0,14.18,19Z\" fill=\"#333\"\/><\/svg><\/i>\n		<i class=\"ub_lock_off\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"20\" height=\"28\" viewBox=\"0 0 28.35 28\"><path d=\"M20.18,10a2,2,0,0,1,2,2V22a2,2,0,0,1-2,2h-12a2,2,0,0,1-2-2V12a2,2,0,0,1,2-2h9.09V8a3,3,0,0,0-.91-2.18,3.07,3.07,0,0,0-4.36,0A3,3,0,0,0,11.08,8H9.18a5,5,0,0,1,10,0v2Zm0,12V12h-12V22Zm-6-3a1.9,1.9,0,0,1-1.41-.58,2,2,0,1,1,2.81,0A1.89,1.89,0,0,1,14.18,19Z\" fill=\"#333\"\/><\/svg><\/i>\n	<\/div>\n	\n	<div id=\"ub_form\" class=\"userbookmarks_inner hidden\">\n		<h4 class=\"bookmark_this\">Bookmark this<\/h4>\n		<input id=\"ub_title\" type=\"text\" name=\"ub_title\" class=\"ed_direction_rtl_ltr\" placeholder=\"Bookmark name (optional)\">\n		<textarea id=\"ub_comment\" name=\"ub_comment\" class=\"ed_direction_rtl_ltr\" placeholder=\"Comment (optional)\"><\/textarea>\n	<\/div>\n	\n	<div id=\"ub_list_holder\" class=\"userbookmarks_inner theme_bg5\">\n		<div class=\"holder-all-panel-content\">\n		\n			<div id=\"ub_save_btns\" class=\"hidden\" style=\"position:absolute; z-index: 1\">\n				<div id=\"ub_save_btn\" class=\"panel_btn\">Save Bookmark<\/div>\n				<div id=\"ub_cancel_save_btn\" class=\"panel_btn minor\">Cancel<\/div>\n			<\/div>\n			\n			<div id=\"addbookmarks_btn\" class=\"panel_btn\"><div class=\"svg_icon\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"28.35\" height=\"28\" viewBox=\"0 0 28.35 28\"><path d=\"M20.12,4.38a2.29,2.29,0,0,1,1.64.67,2.42,2.42,0,0,1,.68,1.61V25.05l-8-3.45-8,3.45,0-18.39A2.27,2.27,0,0,1,7,5.05a2.17,2.17,0,0,1,1.61-.67Z\" fill=\"#dedddd\"\/><\/svg><\/div><div class=\'bookmark_add_btn_title\'>Add new bookmark<\/div><\/div>\n			\n			<h4 class=\"bookmarks_title\">My bookmarks<\/h4>\n			<ul id=\"userbookmarks_list\">\n				<li class=\"proto hidden\">\n					<p class=\"ub_num\">12<\/p>\n					<p class=\"ub_title\">testing bookmark<\/p>\n					<p class=\"ub_description\">Here it goes Here it goes Here it goes Here it goes Here it goes Here it goes Here it goes Here it goes Here it goes Here it goes<\/p>\n				<\/li>\n			<\/ul>\n		\n		<\/div>\n	<\/div>\n	\n<\/div>\n\n<!-- =========================== FREEHAND BOOKMARKS PANEL ======================== -->\n\n<div id=\"edition-toolbar-freehandbookmarks-panel\" class=\"panel top-panel\">\n	<div class=\"pencil\" data-color=\"#000\"><i style=\"background-color:#000; border-color:#000\"><\/i><\/div>\n	<div class=\"pencil\" data-color=\"#007FFF\"><i style=\"background-color:#007FFF; border-color:#007FFF\"><\/i><\/div>\n	<div class=\"pencil last_selected\" data-color=\"#FF003F\"><i style=\"background-color:#FF003F; border-color:#FF003F\"><\/i><\/div>\n	<div class=\"pencil\" data-color=\"#FFFF00\" data-opacity=\"0.2\" data-width=\"20\" data-cap=\"square\"  data-blendmode=\"multiply\"><i style=\"background-color:#FFFF00; border-color:#FFFF00\"><\/i><\/div>\n	<div class=\"pencil\" data-color=\"#EFE9DB\" data-width=\"20\" data-cap=\"square\"><i style=\"background-color:#EFE9DB; border-color:#EFE9DB\"><\/i><\/div>\n	<div id=\"fb_erase\" data-color=\"#000\" data-iseraser=\"true\" data-opacity=\"0.2\" data-width=\"5\" class=\"svg_icon toolbar_btn pencile_btn\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"28.35\" height=\"28\" viewBox=\"0 0 28.35 28\"><path d=\"M25.3,9.47l-5-5a2.73,2.73,0,0,0-3.87,0L7.09,13.89a2.72,2.72,0,0,0,0,3.86l5,5a2.72,2.72,0,0,0,3.86,0l9.38-9.38A2.73,2.73,0,0,0,25.3,9.47ZM15.14,20.7a1.68,1.68,0,0,1-2.38,0L9.11,17.05a1.68,1.68,0,0,1,0-2.38l4-4,6,6Z\" fill=\"#333\"\/><path d=\"M15.28,24.52H3a1,1,0,0,1,0-2H15.28a1,1,0,0,1,0,2Z\" fill=\"#333\"\/><\/svg><\/div>\n	<div class=\"pencil pen_support toolbar_btn\" id=\"fb_pen\" ><label><input type=\"checkbox\" value=\"pen\" id=\"fb_pen_support\"><span class=\"pen_switch\"><\/span><\/label><\/div>\n	<div id=\"fb_finish\" class=\"panel_btn minor\">Close<\/div>\n<\/div>\n\n<!-- =========================== FREEHAND BOOKMARKS PANEL ======================== -->\n\n<div id=\"edition-toolbar-packedmenu-panel\" class=\"panel right-panel hidden\">\n	<div class=\"items\"><\/div>\n	<div class=\"icon-close-cross\" onclick=\"tlbr.hideAllPanels()\"><i><\/i><\/div>\n<\/div>\n\n<!-- ======================================================================== -->\n\n<!--SEARCH PANEL -->\n<div id=\"edition-toolbar-search-panel\" class=\"panel right-panel handle_touches\">\n	<div id=\"ed-search-scrollholder\" class=\"ed-search-scrollholder\">\n		<form id=\"ed-search-form-wrapper\" action=\"#\">\n			<!-- jan, input should be wrapped with <form action> to show \'search\' on ios keybrd  -->\n			<input type=\"search\" id=\"ed-search-input\" name=\"ed-search-input\" placeholder=\"Search...\" onfocus=\"javascript:window.tlbr.onfocusinput(true);\" onblur=\"javascript:window.tlbr.onfocusinput(false);\" class=\"ed-search-input fontfamily ed_direction_rtl_ltr\" onkeypress=\"if(event.keyCode == 13){window.tlbr.executeSearch(this.value);}\"\/>\n		<\/form>\n		<div class=\"ed-search-result\"><\/div>\n	<\/div>\n	<div class=\"loading hidden\"><\/div>\n	<div class=\"gradient-upper\"><\/div>\n	<div class=\"gradient-lower\"><\/div>\n	<div class=\"powered-by fontfamily\">powered by Edition Digital<\/div>\n	<div class=\"icon-close-cross\" onclick=\"tlbr.hideAllPanels()\"><i><\/i><\/div>\n<\/div>\n<!--SEARCH PANEL -->\n<!--DOWNLOAD PANEL -->\n<div id=\"edition-toolbar-download-panel\" class=\"panel right-panel\">\n	<div id=\"ed-download-scrollholder\" class=\"ed-download-scrollholder\">		\n	<\/div>\n	<div class=\"gradient-upper\"><\/div>\n	<div class=\"gradient-lower\"><\/div>\n	<div class=\"powered-by fontfamily\">powered by Edition Digital<\/div>\n<\/div>\n<!--DOWNLOAD PANEL -->\n<div id=\"edition-toolbar-top-panel\" class=\"panel top-panel\"><\/div>\n\n<!--<div id=\"edition-toolbar-show-holder\" class=\"edition-toolbar-element\">\n	<div id=\"edition-toolbar-show-gumb\" class=\"edition-toolbar-shadow edition-toolbar-toggle-showhide\">\n		<svg id=\"ed_svg_menu\" name=\"ed_svg_menu\" class=\"ed-svg-icons menu-icon\" fill=\"#DDDDDD\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\"><g><path d=\"M5.2,7.5h18v2h-18V7.5z M5.2,14.5v-2h18v2H5.2z M5.2,19.5v-2h18v2H5.2z\"\/><\/g><\/svg>\n	<\/div>\n	<div id=\"edition-toolbar-show-arrow\"><\/div>\n<\/div>-->\n\n\n<div class=\"ed-arrow-left\" onclick=\"javascript:this.style.display=\'none\';ed_atp(\'gotopage\',\'\',[\'prev\',\'statsCategorySet_IGNORE\']);\"><div class=\"ed-arrow-ico-big\"><div class=\"inner-arrow-icon ed-ico-left\"><\/div><\/div><\/div>\n<div class=\"ed-arrow-right\" onclick=\"javascript:this.style.display=\'none\';ed_atp(\'gotopage\',\'\',[\'next\',\'statsCategorySet_IGNORE\']);\"><div class=\"ed-arrow-ico-big\"><div class=\"inner-arrow-icon ed-ico-right\"><\/div><\/div><\/div>\n\n<div style=\"display:none\" class=\"ed-arrow-left-oo\" onclick=\"ed_atp(\'gotopage\',\'\',[\'prev\',\'statsCategorySet_IGNORE\']);\"><div class=\"ed-arrow-ico-big\"><div class=\"inner-arrow-icon ed-ico-left\"><\/div><\/div><\/div>\n<div style=\"display:none\" class=\"ed-arrow-right-oo\" onclick=\"ed_atp(\'gotopage\',\'\',[\'next\',\'statsCategorySet_IGNORE\']);\"><div class=\"ed-arrow-ico-big\"><div class=\"inner-arrow-icon ed-ico-right\"><\/div><\/div><\/div>\n\n\n<div id=\"edition-toolbar-main\" class=\"edition-toolbar-shadow\">\n\n	<div id=\"edition-toolbar-inner\" class=\"mobile-hidden\">\n		\n		<div id=\"ed-toolbar-left\" class=\"ed-toolbar-left edition-toolbar-element edition-toolbar-icon-parent\">\n		\n			<!-- <div id=\"edition-toolbar-mobile-toggle-pages-toc\">\n				<svg id=\"ed_svg_toc_mobile\" name=\"ed_svg_toc_mobile\" class=\"ed-svg-icons ed-svg-toc-mobile\" fill=\"#DDDDDD\"  version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\"><g><path d=\"M6.2,9.4v-4h4v4H6.2z M6.2,15.4v-4h4v4H6.2z M6.2,21.4v-4h4v4H6.2z M12.2,9.4v-4h4v4H12.2z M12.2,15.4v-4h4 v4H12.2z M12.2,21.4v-4h4v4H12.2z M18.2,5.5h4v4h-4V5.5z M18.2,15.4v-4h4v4H18.2z M18.2,21.4v-4h4v4H18.2z\"\/><\/g><\/svg>\n				<svg id=\"ed_svg_toc_mobile\" name=\"ed_svg_toc_mobile\" class=\"ed-svg-icons ed-svg-toc-mobile\" fill=\"#DDDDDD\"  version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\"><g><path d=\"M6.2,9.4v-4h4v4H6.2z M6.2,15.4v-4h4v4H6.2z M6.2,21.4v-4h4v4H6.2z M12.2,9.4v-4h4v4H12.2z M12.2,15.4v-4h4 v4H12.2z M12.2,21.4v-4h4v4H12.2z M18.2,5.5h4v4h-4V5.5z M18.2,15.4v-4h4v4H18.2z M18.2,21.4v-4h4v4H18.2z\"\/><\/g><\/svg>\n				<div class=\"toolbar-selected-panel-arrow show_pages_mobile\">                        	\n					<div class=\"inner-arrow\"><\/div><\/div>\n				<\/div> -->\n				\n				<div id=\"edition-toolbar-home\" data-packed-label=\"About\" class=\"edition-toolbar-element edition-toolbar-icon\">\n				<svg id=\"ed_svg_about\" name=\"ed_svg_about\" class=\"ed-svg-icons-about-icon\" fill=\"#DEDDDD\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\"><g><path d=\"M14.2,4.3c1.4,0,2.7,0.3,3.9,0.8s2.3,1.2,3.2,2.1s1.6,2,2.1,3.2s0.8,2.5,0.8,3.9c0,1.4-0.3,2.7-0.8,3.9\n			s-1.2,2.3-2.1,3.2s-2,1.6-3.2,2.1s-2.5,0.8-3.9,0.8s-2.7-0.3-3.9-0.8S8,22.3,7.1,21.4s-1.6-2-2.1-3.2s-0.8-2.5-0.8-3.9\n			c0-1.4,0.3-2.7,0.8-3.9s1.2-2.3,2.1-3.2s2-1.6,3.2-2.1S12.8,4.3,14.2,4.3z M14.2,22.3c1.1,0,2.1-0.2,3.1-0.6s1.8-1,2.5-1.7\n			c0.7-0.7,1.3-1.6,1.7-2.5s0.6-2,0.6-3.1c0-1.1-0.2-2.1-0.6-3.1s-1-1.8-1.7-2.5C19.1,8,18.3,7.4,17.3,7s-2-0.6-3.1-0.6\n			S12.1,6.6,11.1,7S9.3,8,8.6,8.7c-0.7,0.7-1.3,1.6-1.7,2.5s-0.6,2-0.6,3.1c0,1.1,0.2,2.1,0.6,3.1s1,1.8,1.7,2.5\n			c0.7,0.7,1.6,1.3,2.5,1.7S13.1,22.3,14.2,22.3z M13.2,11.4v-2h2v2H13.2z M13.2,19.3v-6h2v6H13.2z\"\/><\/g><\/svg>\n				<div class=\"toolbar-selected-panel-arrow home\"><div class=\"inner-arrow\"><\/div><\/div>\n			<\/div>\n			\n			<div id=\"edition-toolbar-share\" class=\"edition-toolbar-element edition-toolbar-icon-parent unpackable\"><div class=\"image edition-toolbar-icon share\">\n				<svg  id=\"ed_svg_share\" name=\"ed_svg_share\" class=\"ed-svg-icons\" fill=\'#DDDDDD\' version=\'1.1\' id=\'Layer_1\' xmlns=\'http:\/\/www.w3.org\/2000\/svg\' xmlns:xlink=\'http:\/\/www.w3.org\/1999\/xlink\' x=\'0px\' y=\'0px\' viewBox=\'0 0 28.4 28.4\' enable-background=\'new 0 0 28.4 28.4\' xml:space=\'preserve\'><g><path d=\'M20.2,17.5c0.4,0,0.8,0.1,1.1,0.2s0.7,0.4,0.9,0.6s0.5,0.6,0.6,0.9s0.2,0.7,0.2,1.1c0,0.4-0.1,0.8-0.2,1.1\n				s-0.4,0.7-0.6,0.9c-0.3,0.3-0.6,0.5-0.9,0.6s-0.7,0.2-1.1,0.2s-0.8-0.1-1.1-0.2s-0.7-0.4-0.9-0.6c-0.3-0.3-0.5-0.6-0.6-0.9\n				s-0.2-0.7-0.2-1.1c0-0.1,0-0.2,0-0.4s0-0.2,0.1-0.3l-7.1-4.2c-0.1,0.1-0.3,0.2-0.4,0.3s-0.3,0.2-0.5,0.3c-0.2,0.1-0.4,0.1-0.5,0.2\n				s-0.4,0.1-0.6,0.1c-0.4,0-0.8-0.1-1.2-0.2s-0.7-0.4-0.9-0.7c-0.3-0.3-0.5-0.6-0.7-0.9s-0.2-0.8-0.2-1.2s0.1-0.8,0.2-1.2\n				s0.4-0.7,0.7-0.9c0.3-0.3,0.6-0.5,0.9-0.7s0.8-0.2,1.2-0.2c0.2,0,0.4,0,0.6,0.1s0.4,0.1,0.5,0.2c0.2,0.1,0.3,0.2,0.5,0.3\n				s0.3,0.2,0.4,0.3l7.1-4.1c0-0.1-0.1-0.2-0.1-0.3s0-0.2,0-0.4c0-0.4,0.1-0.8,0.2-1.2s0.4-0.7,0.7-0.9c0.3-0.3,0.6-0.5,0.9-0.7\n				s0.8-0.2,1.2-0.2s0.8,0.1,1.2,0.2s0.7,0.4,0.9,0.7c0.3,0.3,0.5,0.6,0.7,0.9s0.2,0.8,0.2,1.2c0,0.4-0.1,0.8-0.2,1.2s-0.4,0.7-0.7,1\n				c-0.3,0.3-0.6,0.5-0.9,0.6s-0.8,0.2-1.2,0.2c-0.2,0-0.4,0-0.6-0.1S19.2,9.3,19,9.2c-0.2-0.1-0.3-0.2-0.5-0.3s-0.3-0.2-0.4-0.3\n				l-7.1,4.1c0,0.1,0.1,0.2,0.1,0.3s0,0.2,0,0.4s0,0.2,0,0.4s0,0.2-0.1,0.3l7.1,4.1c0.1-0.1,0.3-0.2,0.4-0.3s0.3-0.2,0.5-0.2\n				c0.2-0.1,0.3-0.1,0.5-0.2S20,17.5,20.2,17.5z\' \/><\/g><\/svg>		\n			<\/div><!-- <span class=\"toolbar-lang-share-title\">Share<\/span> --><div class=\"toolbar-selected-panel-arrow social\"><div class=\"inner-arrow\"><\/div><\/div><\/div>\n			\n			<!-- jan, 19.2.2018 user bookmarks -->\n			<div id=\"edition-toolbar-userbookmarks\" data-packed-label=\"User bookmarks\" class=\"edition-toolbar-element edition-toolbar-icon-parent\"><div class=\"image edition-toolbar-icon userbookmarks\">\n				<svg  id=\"ed_svg_userbookmarks\" name=\"ed_svg_userbookmarks\" class=\"ed-svg-icons\" fill=\'#DDDDDD\' version=\'1.1\' id=\'Layer_1\' xmlns=\'http:\/\/www.w3.org\/2000\/svg\' xmlns:xlink=\'http:\/\/www.w3.org\/1999\/xlink\' x=\'0px\' y=\'0px\' viewBox=\'0 0 28.4 28.4\' enable-background=\'new 0 0 28.4 28.4\' xml:space=\'preserve\'><g><path d=\'M7.15,24,9,16,2.81,10.6,11,9.91l3.19-7.53,3.2,7.53,8.17.69L19.34,16l1.86,8-7-4.23Z\' \/><\/path><\/g><\/svg>        \n			<\/div><div class=\"toolbar-selected-panel-arrow userbookmarks\"><div class=\"inner-arrow\"><\/div><\/div><\/div>\n		\n			\n			<!-- jan, 5.3.2018 freehand bookmarks -->\n			<div id=\"edition-toolbar-freehandbookmarks\" data-packed-label=\"Freehand bookmarks\" class=\"edition-toolbar-element edition-toolbar-icon-parent\"><div class=\"image edition-toolbar-icon freehandbookmarks\">\n				<svg  id=\"ed_svg_freehandbookmarks\" name=\"ed_svg_freehandbookmarks\" class=\"ed-svg-icons\" fill=\'#DDDDDD\' version=\'1.1\' id=\'Layer_1\' xmlns=\'http:\/\/www.w3.org\/2000\/svg\' xmlns:xlink=\'http:\/\/www.w3.org\/1999\/xlink\' x=\'0px\' y=\'0px\' viewBox=\'0 0 28.4 28.4\' enable-background=\'new 0 0 28.4 28.4\' xml:space=\'preserve\'><g><path d=\"M8.57,15a3,3,0,0,1,4-.2,3.32,3.32,0,0,1,.71,4.11c-1.54,3-5.73,2.69-7.61.19C8.13,19.1,7.32,16.25,8.57,15ZM24.39,4.76c.86.87-.37,1.78-.94,2.34l-3.12,3.12-4.9,4.9-2.76-2.77L18.6,6.42c.95-.94,1.86-1.94,2.84-2.84C22.64,2.49,23.57,3.91,24.39,4.76Z\" fill=\"#dedddd\"\/><path d=\"M9.05,26.5c-2.41,0-5.74-.84-7.09-3.09a1.52,1.52,0,0,1,.92-2.29c.8-.18,1.2.28,1.7.78A6,6,0,0,0,8.7,23.49c2,.08,3.2-1,4.86-1.81A8.47,8.47,0,0,1,20,21.14c.74.26,1.39.69,2.11,1,.94.42,2.36.1,3.06.94a1.52,1.52,0,0,1-.63,2.37,4.89,4.89,0,0,1-2.92-.28c-1-.33-1.82-1-2.81-1.28a5.58,5.58,0,0,0-3.47.24c-.95.38-1.76,1-2.68,1.5A7.93,7.93,0,0,1,9.05,26.5Z\" fill=\"#dedddd\"\/><\/g><\/svg>        \n			<\/div><div class=\"toolbar-selected-panel-arrow freehandbookmarks\"><div class=\"inner-arrow\"><\/div><\/div><\/div>\n			\n		<\/div>\n		\n		\n		<!-- ==================== CENTERED ELEMENTS ====================== -->\n		\n		<div id=\"edition-toolbar-pagerange\" class=\"ed-toolbar-center edition-toolbar-element edition-toolbar-icon-parent\">\n			<div id=\"edition-toolbar-pageoutput\" class=\"edition-toolbar-icon-nochild unpackable\">\n				\n				<div id=\"edition-toolbar-pageoutput-right-side\" class=\"edition-toolbar-icon-nochild\">\n					<div class=\"image\">\n						<svg id=\"ed_svg_toc\" name=\"ed_svg_toc\" class=\"ed-svg-icons\" fill=\"#DDDDDD\"  version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\"><g><path d=\"M6.2,9.4v-4h4v4H6.2z M6.2,15.4v-4h4v4H6.2z M6.2,21.4v-4h4v4H6.2z M12.2,9.4v-4h4v4H12.2z M12.2,15.4v-4h4 v4H12.2z M12.2,21.4v-4h4v4H12.2z M18.2,5.5h4v4h-4V5.5z M18.2,15.4v-4h4v4H18.2z M18.2,21.4v-4h4v4H18.2z\"\/><\/g><\/svg>\n					<\/div>      \n					<div class=\"toolbar-selected-panel-arrow toc\">                  \n						<div class=\"inner-arrow\"><\/div>\n					<\/div>   \n				<\/div>\n				\n				<div class=\"paginationnumberholder\">\n					<span id=\"page-number\">1<\/span><span>&nbsp;\/&nbsp;<\/span><span id=\"page-count\">124<\/span>\n				<\/div>             \n			<\/div>            \n			<div id=\"edition-toolbar-slider\">\n				<div id=\"slider\">\n					<div class=\"edition-toolbar-slider-background\">\n					<\/div>\n				<\/div>            \n			<\/div>\n			<!-- THUMBNAILS -->\n			<div class=\"edition-slider-thumbs\">\n				<div class=\"edition-slider-thumbs-holder\">\n					<div class=\"edition-slider-backgrond edition-slider-thumb-1-parent\">\n						<img class=\"edition-slider-thumb-1 edition-slider-thumb previous\" alt=\"Previous page thumbnail\" \/>\n						<img class=\"edition-slider-thumb-1-right edition-slider-thumb edition-slider-thumb-spreads previousspreads\" alt=\"Previous page thumbnail\" \/>                        \n					<\/div>\n					<div class=\"edition-slider-backgrond edition-slider-thumb-2-parent\">\n						<img class=\"edition-slider-thumb-2 edition-slider-thumb current\" alt=\"Current page thumbnail\" \/>\n						<img class=\"edition-slider-thumb-2-right edition-slider-thumb edition-slider-thumb-spreads currentspreads\" alt=\"Current page thumbnail\" \/>  \n					<\/div>\n					<div class=\"edition-slider-backgrond edition-slider-thumb-3-parent\">                \n						<img class=\"edition-slider-thumb-3 edition-slider-thumb next\" alt=\"Next page thumbnail\" \/>\n						<img class=\"edition-slider-thumb-3-right edition-slider-thumb edition-slider-thumb-spreads nextspreads\" alt=\"Next page thumbnail\" \/>                          \n					<\/div>\n				<\/div>\n			<\/div>\n		<\/div>\n		\n		<!-- ====================== RIGHT ELEMENTS ======================= -->\n\n\n		<div id=\"edition-toolbar-right\" class=\"ed-toolbar-right\">\n			<!--<div id=\"edition-toolbar-toggle-group\">\n				<div id=\"edition-toolbar-toggle-button\" class=\"edition-toolbar-element edition-toolbar-toggle-showhide\"><span class=\"toolbar-lang-hide-title\">Hide<\/span><\/div>\n				<div id=\"edition-toolbar-hide-arrow\"><\/div>\n			<\/div>-->\n			<!-- DOWNLOAD PUBLICATION -->\n			<div id=\"edition-toolbar-download\" data-packed-label=\"Download\">            \n				<svg id=\"edition-toolbar-download-inner\" version=\"1.1\" style=\"fill:#DDDDDD;\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 24 24\" style=\"enable-background:new 0   0 24 24;\" xml:space=\"preserve\"><g><path  d=\"M6.1,17h11.8v1.5H6.1V17z M15,12.6l-3,3l-3-3h2.2V5.2h1.5v7.4H15z\"\/><\/g><\/svg>\n				<div class=\"toolbar-selected-panel-arrow download\"><div class=\"inner-arrow\"><\/div><\/div>\n			<\/div>\n			<!-- SEARCH -->\n			<div id=\"edition-toolbar-search\" data-packed-label=\"Search\">\n				<div id=\"edition-toolbar-search-inner\" class=\"edition-toolbar-element edition-toolbar-icon-parent\">\n					<div class=\"image edition-toolbar-icon\">\n						<svg id=\"ed_svg_search\" name=\"ed_svg_search\" class=\"ed-svg-icons\" fill=\"#DDDDDD\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\"><g><path d=\"M17.7,15.4l5,5l-1.5,1.5l-5-5v-0.8l-0.3-0.3c-0.3,0.2-0.6,0.4-0.9,0.6s-0.7,0.4-1,0.5\n								c-0.4,0.1-0.7,0.2-1.1,0.3s-0.8,0.1-1.2,0.1c-0.9,0-1.7-0.2-2.5-0.5s-1.5-0.8-2.1-1.4c-0.6-0.6-1-1.3-1.4-2.1s-0.5-1.6-0.5-2.5\n								c0-0.9,0.2-1.7,0.5-2.5s0.8-1.5,1.4-2.1c0.6-0.6,1.3-1,2.1-1.4s1.6-0.5,2.5-0.5c0.9,0,1.8,0.2,2.5,0.5s1.5,0.8,2.1,1.4\n								c0.6,0.6,1.1,1.3,1.4,2.1s0.5,1.6,0.5,2.5c0,0.4,0,0.8-0.1,1.2s-0.2,0.8-0.3,1.1c-0.1,0.4-0.3,0.7-0.5,1s-0.4,0.6-0.6,0.9l0.3,0.3\n								H17.7z M11.7,15.4c0.6,0,1.2-0.1,1.8-0.4c0.5-0.2,1-0.6,1.4-1s0.7-0.9,1-1.4s0.4-1.1,0.4-1.8c0-0.6-0.1-1.2-0.4-1.7s-0.6-1-1-1.4\n								s-0.9-0.7-1.4-1s-1.1-0.4-1.8-0.4c-0.6,0-1.2,0.1-1.7,0.4s-1,0.6-1.4,1s-0.7,0.9-1,1.4s-0.4,1.1-0.4,1.7c0,0.6,0.1,1.2,0.4,1.8\n								s0.6,1,1,1.4s0.9,0.7,1.4,1C10.5,15.3,11.1,15.4,11.7,15.4z\"\/><\/g><\/svg>\n					<\/div>\n				<!-- <span class=\"toolbar-lang-search-title\">Search<\/span> --><div class=\"toolbar-selected-panel-arrow search\"><div class=\"inner-arrow\"><\/div><\/div><\/div>\n			<\/div>\n			<!-- CHANGE VIEW TO MOBILE AND BACK -->\n			<!-- CHANGE VIEW TO MOBILE -->\n			<div class=\"edition-viewswitch ed-switch-to-article edition-toolbar-icon\" data-packed-label=\"Reader mode\">\n				<svg id=\"edition-toolbar-switch-to-article\" version=\"1.1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\"\n					 viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\">\n					<g>\n						<path fill=\"#DEDDDD\" d=\"M5.1,5.4h18v2h-18V5.4z M5.1,11.4v-2h18v2H5.1z M5.1,15.4v-2h18v2H5.1z M5.1,19.3v-2h18v2H5.1z M5.1,23.4\n							v-2h10v2H5.1z\"\/>\n					<\/g>\n				<\/svg>          \n			<\/div>\n			<!-- CHANGE VIEW TO DESKTOP -->\n			<div class=\"edition-viewswitch ed-switch-to-desktop edition-toolbar-icon\" data-packed-label=\"Desktop mode\">\n				<svg id=\"edition-toolbar-switch-to-desktop\" version=\"1.1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" x=\"0px\" y=\"0px\"\n					 viewBox=\"0 0 28.4 28.4\" enable-background=\"new 0 0 28.4 28.4\" xml:space=\"preserve\">\n				<g>\n					<path fill=\"#DEDDDD\" d=\"M22.3,20.4h4c0,1.1-0.9,2-2,2h-20c-1.1,0-2-0.9-2-2h4c-1.1,0-2-0.9-2-2v-11c0-1.1,0.9-2,2-2h16\n						c1.1,0,2,0.9,2,2l0,11C24.3,19.5,23.4,20.4,22.3,20.4z M6.3,7.3v11h16v-11H6.3z M14.3,21.4c1.3,0,1.3-2,0-2S13,21.4,14.3,21.4z\"\/>\n				<\/g>\n				<\/svg>      \n			<\/div> \n			\n			<!--\n			<div id=\"edition-toolbar-freehandbookmarks\" data-packed-label=\"Freehand bookmarks\" class=\"edition-toolbar-element edition-toolbar-icon-parent\"><div class=\"image edition-toolbar-icon freehandbookmarks\">\n				<svg  id=\"ed_svg_freehandbookmarks\" name=\"ed_svg_freehandbookmarks\" class=\"ed-svg-icons\" fill=\'#DDDDDD\' version=\'1.1\' id=\'Layer_1\' xmlns=\'http:\/\/www.w3.org\/2000\/svg\' xmlns:xlink=\'http:\/\/www.w3.org\/1999\/xlink\' x=\'0px\' y=\'0px\' viewBox=\'0 0 28.4 28.4\' enable-background=\'new 0 0 28.4 28.4\' xml:space=\'preserve\'><g><path d=\"M8.57,15a3,3,0,0,1,4-.2,3.32,3.32,0,0,1,.71,4.11c-1.54,3-5.73,2.69-7.61.19C8.13,19.1,7.32,16.25,8.57,15ZM24.39,4.76c.86.87-.37,1.78-.94,2.34l-3.12,3.12-4.9,4.9-2.76-2.77L18.6,6.42c.95-.94,1.86-1.94,2.84-2.84C22.64,2.49,23.57,3.91,24.39,4.76Z\" fill=\"#dedddd\"\/><path d=\"M9.05,26.5c-2.41,0-5.74-.84-7.09-3.09a1.52,1.52,0,0,1,.92-2.29c.8-.18,1.2.28,1.7.78A6,6,0,0,0,8.7,23.49c2,.08,3.2-1,4.86-1.81A8.47,8.47,0,0,1,20,21.14c.74.26,1.39.69,2.11,1,.94.42,2.36.1,3.06.94a1.52,1.52,0,0,1-.63,2.37,4.89,4.89,0,0,1-2.92-.28c-1-.33-1.82-1-2.81-1.28a5.58,5.58,0,0,0-3.47.24c-.95.38-1.76,1-2.68,1.5A7.93,7.93,0,0,1,9.05,26.5Z\" fill=\"#dedddd\"\/><\/g><\/svg>        \n			<\/div><div class=\"toolbar-selected-panel-arrow freehandbookmarks\"><div class=\"inner-arrow\"><\/div><\/div><\/div>-->\n			\n			<div id=\"edition-toolbar-packedmenu\" class=\"edition-toolbar-element edition-toolbar-icon\">\n				<svg id=\"edition-toolbar-switch-to-article\" version=\"1.1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\"><path d=\"M4.05,7H24.3V9.26H4.05Zm0,7.87V12.63H24.3v2.25Zm0,5.63V18.26H24.3v2.25Z\" fill=\"#dfdede\"\/><\/svg>\n				<div class=\"toolbar-selected-panel-arrow home\"><div class=\"inner-arrow\"><\/div><\/div>\n			<\/div>\n		\n		<\/div>\n		\n		<!-- Close button on mobile devices: -->\n		<!-- <div id=\"close_panel_bar\"><div class=\"icon-close-cross\" onclick=\"tlbr.hideAllPanels()\"><i><\/i><\/div><\/div> -->\n				\n	<\/div>    \n<\/div>';$('#edition-toolbar').html(editionToolbarHtml);if((window.edgl.eddevp.indexOf('*always_visible_left_right_button*')>-1)||(window.always_visible_left_right_button)){$('.ed-arrow-left').remove();$('.ed-arrow-right').remove();}else{$('.ed-arrow-left-oo').remove();$('.ed-arrow-right-oo').remove();}
window.tlbr.setLangVars();window.tlbr.toolbar.elem=$('#edition-toolbar-main');window.tlbr.panel.about.elem=$('#edition-toolbar-about-panel');window.tlbr.panel.social.elem=$('#edition-toolbar-social-panel');window.tlbr.panel.userbookmarks.elem=$('#edition-toolbar-userbookmarks-panel');window.tlbr.panel.freehandbookmarks.elem=$('#edition-toolbar-freehandbookmarks-panel');window.tlbr.panel.packedmenu.elem=$('#edition-toolbar-packedmenu-panel');window.tlbr.panel.search.elem=$('#edition-toolbar-search-panel');window.tlbr.panel.download.elem=$('#edition-toolbar-download-panel');window.tlbr.panel.top.elem=$('#edition-toolbar-top-panel');window.tlbr.drawAppAditionalItems();if((window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)||(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5))
{try
{var cnt=0;for(var ss in window.eddata.pages_mobile)
{cnt++;}}catch(e){cnt=0;}
$('.ed-switch-to-article').css({display:'none'});$('.ed-switch-to-desktop').css({display:'none'});if(window.eddata.appearance.enable_reader_friendly==1)
{if(!window.initer.isArticle)
{if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{if((!window.initer.isArticle)&&(cnt>0))
{$('.ed-switch-to-article').css({display:'inline-block'});$('.ed-switch-to-article').click(function(){ed_changeview();});}
$('.ed-switch-to-desktop').css({display:'none'});}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)
{if((!window.initer.isArticle)&&(cnt>0))
{$('.ed-switch-to-desktop').css({display:'inline-block'});$('.ed-switch-to-desktop').click(function(){ed_changeview();});}
$('.ed-switch-to-article').css({display:'none'});}}}}
if(parseInt(window.eddata.appearance.enable_panel_about_us)==1)
{$('#edition-toolbar-home').click(window.tlbr.toggleAboutPanel);}
else
{$('#edition-toolbar-about-panel').css({display:'none'});$('#edition-toolbar-home').css({display:'none'});$('#edition-toolbar-search').removeClass('ed-about-us-disabled').addClass('ed-about-us-disabled');$('#edition-toolbar-share').removeClass('ed-about-us-disabled').addClass('ed-about-us-disabled');$('.edition-viewswitch').removeClass('ed-about-us-disabled').addClass('ed-about-us-disabled');}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)
{}
if(parseInt(window.eddata.appearance.enable_panel_share_and_use)==1)
{$('#edition-toolbar-share').click(window.tlbr.toggleSocialPanel);}
else
{$('#edition-toolbar-share').addClass("hide");$('#edition-toolbar-search').removeClass('ed-share-disabled').addClass('ed-share-disabled');$('.edition-viewswitch').removeClass('ed-share-disabled').addClass('ed-share-disabled');}
if(parseInt(window.eddata.appearance.show_user_bookmarks)==1&&(typeof get_local_user_bookmarks=='function'))
{$('#edition-toolbar-userbookmarks').click(window.tlbr.toggleUserbookmarksPanel);}
else
{$('#edition-toolbar-userbookmarks').addClass("hidden");}
if(parseInt(window.eddata.appearance.show_free_annotations)==1&&(typeof get_local_user_bookmarks=='function'))
{$('#edition-toolbar-freehandbookmarks').click(window.tlbr.toggleFreehandbookmarksPanel);}
else
{$('#edition-toolbar-freehandbookmarks').addClass("hidden");}
$('#edition-toolbar-packedmenu').click(tlbr.togglePackedMenuPanel);var ofl_data_src=(window.edgl.full_page_text_offline_js&&window.edgl.full_words_offline_js);if(parseInt(window.eddata.appearance.enable_panel_search)==1&&(window.ed_checkConnectivity()==true||ofl_data_src))
{$('#edition-toolbar-search').click(window.tlbr.toggleSearchPanel);$("#ed-search-form-wrapper").submit(function(e){e.preventDefault();});}
else
{$('#edition-toolbar-search-inner').css({display:'none'});$('#edition-toolbar-search').css({display:'none'});$('.edition-viewswitch').removeClass('ed-search-disabled').addClass('ed-search-disabled');}
if(tlbr.isInApptoolbar())
{$('#edition-toolbar-download').css({'display':'none'});$('#edition-toolbar-download-panel').css({'display':'none'});}
else
{$('#edition-toolbar-download').css({'display':'none'});}
if((parseInt(window.eddata.appearance.enable_panel_toc)==1))
{$('#edition-toolbar-pageoutput-right-side').click(window.tlbr.toggleTopPanel);}
else
{$('#edition-toolbar-pageoutput-right-side').css({display:'none'});}
try
{$('#edition-bg').css({'background-color':window.eddata.appearance.background_color});$('#nav-bar-bg').css({'background':window.eddata.appearance.background_color});if(isApp()){var bg_new=window.eddata.appearance.background_color;bg_new=hexToRgb(bg_new);bg_new="rgba("+bg_new.r+", "+bg_new.g+", "+bg_new.b+", 0.75)";$('#edition-bg').css({'background-color':bg_new});$('#nav-bar-bg').css({'background':bg_new});}}catch(e){}
window.tlbr.checkAndShowHomeLogo();window.tlbr.fillDownloadPanel();window.tlbr.fillAboutUsPanel();window.tlbr.fillSharePanel();window.tlbr.redrawNavigationArrows();if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{window.tlbr.arrOfPgs=new Array();var s_max=1;var s_min=1;var s_current=1;var main_pages_max=0;var subpages_index=1;var pagenumber=1;for(var d in window.eddata.pages)
{var curobj=window.eddata.pages[d];if(typeof(curobj.transition)=='undefined')
{curobj.transition='';}
if((curobj.transition!='fadein')&&(curobj.transition!='parallax'))
{var inx=window.tlbr.arrOfPgs.push(curobj);s_max=window.tlbr.arrOfPgs.length;if(typeof(curobj.subpage)=='undefined')
{curobj.subpage='0';}
if(parseInt(curobj.subpage)==0)
{main_pages_max++;window.tlbr.arrOfPgs[s_max-1].titlemenu=main_pages_max.toString();subpages_index=1;}
else
{window.tlbr.arrOfPgs[s_max-1].titlemenu=main_pages_max.toString()+'.'+subpages_index.toString();subpages_index++;}
window.tlbr.arrOfPgs[s_max-1].pagenumber=pagenumber;pagenumber++;}
else
{pagenumber++;}}
if(window.eddata.appearance.edition_style=='facingpages')
{if((window.tlbr.arrOfPgs.length%2)==0)
{}
else
{}}
if(tlbr.lastChangedValue>0)
{s_current=tlbr.lastChangedValue;}
window.tlbr.main_pages_max=main_pages_max;$("#slider").slider({range:"max",min:s_min,max:s_max,maxMain:main_pages_max,value:s_current,step:0.1,slide:function(event,ui){tlbr.setPageNumber(tlbr.arrOfPgs[Math.round(ui.value)-1].page_num_tb);tlbr.showSliderPageThumbs(Math.round(ui.value));},stop:function(event,ui){tlbr.hideSliderPageThumbs(Math.round(ui.value));$("#slider").slider("value",Math.round($("#slider").slider("value")));ed_atp('gotopage','',tlbr.arrOfPgs[Math.round($("#slider").slider("value"))-1].id);}});try
{}catch(e){}}
if(tlbr.isMobileVersion()){tlbr.setPageNumber(CitadelaPlayer.getMobileCurrentPage());tlbr.setPageCount(CitadelaPlayer.getMobilePagesLength());}
if(typeof window.tlbr.fillUserbookmarksPanel!=='undefined'){window.tlbr.fillUserbookmarksPanel();}
if(typeof window.tlbr.initFreehandPanel!=='undefined'){window.tlbr.initFreehandPanel();}
window.tlbr.initisset=true;window.tlbr.fillTocPanel();$(document).on("edStartingPageSet",function(event,page){window.tlbr.clearstartingpagebit(false);window.tlbr.onpagechange(event,page);window.tlbr.redrawNavigationArrows(false);});$(document).on("edPageDragStarted",function(event,page){window.tlbr.clearstartingpagebit(true);window.tlbr.redrawNavigationArrows(false);});$(document).on("edPageDragReturned",function(event,page){window.tlbr.clearstartingpagebit(true);window.tlbr.redrawNavigationArrows(true);});$(document).on("edPageChangeStarted",function(event,page){window.tlbr.clearstartingpagebit(true);window.tlbr.redrawNavigationArrows(false);});$(document).on("edPageZoomStart",function(event,page){window.tlbr.clearstartingpagebit(true);window.tlbr.checkIfShouldHideNavArrows(page,true);});$(document).on("edPageZoomEnd",function(event,page){tlbr.autocallshouldhidenavarros=page;window.tlbr.checkIfShouldHideNavArrows(page);});$(document).on("edPageChangeEnded",function(event,page){window.tlbr.clearstartingpagebit(true);window.tlbr.onpagechange(event,page);window.tlbr.redrawNavigationArrows();});$(document).on("issueDownloadingChanged",function(event,id,status,progress,total){tlbr.updateAppDownloadStatus(id,status,progress,total);});var button=$('#edition-toolbar-content-hub');button.addClass('hidden');if(typeof edgl.chub_sites=='object'&&edgl.chub_sites.length&&!initer.isPopupEdition())
{var hub=edgl.chub_sites[0];if(hub.additional_data)
{hub.additional_data=JSON.parse(hub.additional_data);}
var backButtonText=hub.additional_data&&hub.additional_data.back_to_badge_text?hub.additional_data.back_to_badge_text:window.initer.getlangword('toolbar_content_hub_btn');if(backButtonText)
{var css_button={rotate:'-90deg',x:'-100%',y:'-100%'};if(hub.additional_data&&hub.additional_data.back_to_badge_bg_color){css_button["background-color"]=hub.additional_data.back_to_badge_bg_color;}
if(hub.additional_data&&hub.additional_data.back_to_badge_text_color){css_button["color"]=hub.additional_data.back_to_badge_text_color;}
var back_to_hub_url=edgl.chub_sites[0].folio_url||'';if(window.edgl.eddevp.indexOf('*back_to_hub_to_referer*')>-1){if(document.referrer){back_to_hub_url=document.referrer;}}
button.removeClass('hidden').css(css_button).delay(500).transition({y:0},600,'easeOutExpo').attr('href',back_to_hub_url).attr('target','_self');button.html(backButtonText);}}
var prm_lng=getTextBetween(window.edgl.argo,'*language-','*').trim();var back_list_link=getTextBetween(window.edgl.eddevp,'*back_list_link=','*');if(back_list_link){backButtonText='Back';button.removeClass('hidden').css({rotate:'-90deg',x:'-100%',y:'-100%'}).delay(500).transition({y:0},600,'easeOutExpo').attr('href',back_list_link).attr('target','_self');var backButtonText=decodeURIComponent(getTextBetween(window.edgl.eddevp,'*back_list_link_title=','*'));if(!backButtonText){backButtonText='Back';}
button.html(backButtonText);}
if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerHTML5)
{window.tlbr.setPageNumber(tlbr.arrOfPgs[Math.round($("#slider").slider("value"))-1].page_num_tb);$("#page-count").html($("#slider").slider("option","maxMain"));}
window.tlbr.setCorrectThemeOrColors();if(typeof window.eddata.appearance.additional_js!="undefined"&&window.eddata.appearance.additional_js!=null&&window.eddata.appearance.additional_js!=""){var tmpScript=document.createElement('script');tmpScript.type='text/javascript';tmpScript.appendChild(document.createTextNode(window.eddata.appearance.additional_js));try{var head=document.getElementsByTagName('head').item(0);head.appendChild(tmpScript);}catch(e){console.log("Editiondigital SYSTEM: Custom additional JS error");console.log(e);}}
if(typeof window.eddata.appearance.additional_css!="undefined"&&window.eddata.appearance.additional_css!=null&&window.eddata.appearance.additional_css!=""){var head=document.head||document.getElementsByTagName('head')[0],style=document.createElement('style');style.type='text/css';if(style.styleSheet){style.styleSheet.cssText=window.eddata.appearance.additional_css;}else{style.appendChild(document.createTextNode(window.eddata.appearance.additional_css));}
head.appendChild(style);}
if((window.edgl.eddevp.indexOf('*powered-by-hidden*')>-1)){$('.powered-by').remove();$('.ed_copyright_branding').remove();}
if(window.edgl.teaser_mode==1){$("#edition-toolbar-download").remove();}
$(document).trigger("edToolbarInit");if(window.edgl.eddevp.indexOf('*xclusivomagazine_lng_switcher*')>-1){var html='<div id="aruba-lng" class="panel" style="box-shadow: none; background: none; right: 2px; top: 20px; z-index: -1; left: unset; height: auto; font-size: 1em; padding: 0; -webkit-transform-origin: bottom right; transform-origin: bottom right; -webkit-transform: rotate(-90deg); transform: rotate(-90deg);">';html+='<a href="http://magazine.xclu'+'sivoma'+'gazine.com/english">English</a>';html+='<a href="http://magazine.xclu'+'sivoma'+'gazine.com/papiamento">Papiamento</a>';html+='<style>#aruba-lng a:hover { background: rgba(0,0,0,0.5); color: rgba(255,255,255,1) } #aruba-lng a { font-size: 0.8em; text-decoration: none; padding: 8px 16px 8px 16px; margin: 0 2px; background: rgba(0,0,0,0.2); color: rgba(255,255,255,0.7); border-radius: 4px; -webkit-transition: all 0.4s; transition: all 0.4s;}</style>';html+='</div>';$('#edition-toolbar').append(html);}
setTimeout(this.layout,200);},showToastNotification:function(text,theme,forlayer){if((typeof(forlayer)=='undefined')||(forlayer==''))
{forlayer='.edition-toolbar';}
if(typeof(theme)=='undefined')
{var theme='';}
else
{theme=' '+theme;}
$('.ed-toolbar-toast-notification').remove();if($('.ed-toolbar-toast-notification').length<=0)
{$(forlayer).append('<div class="ed-toolbar-toast-notification'+theme+'">'+text+'</div>');$('.ed-toolbar-toast-notification').stop().css({'display':'block',opacity:0.001}).transition({opacity:1},250,window.tlbr.tlbrDefaultEasing,function(){$('.ed-toolbar-toast-notification').delay(window.tlbr.toastShowTime).transition({opacity:0},250,window.tlbr.tlbrDefaultEasing,function(){$('.ed-toolbar-toast-notification').remove();});})}},executeSearch:function(value){$('#ed-search-input').trigger('blur');if(window.edgl.preview_mode==1&&window.edgl.argo.indexOf("*forcesearch*")==-1)
{window.tlbr.showToastNotification(window.tlbr.TEXT_searchNotAllowedInPreviewMode)
return;}
if(window.tlbr.allowSearch)
{$('#edition-toolbar-search-panel .loading').removeClass('hidden');window.tlbr.allowSearch=false;window.setTimeout("window.tlbr.allowSearch = true",2000);window.tlbr.statsAdd('Search',value);$('#ed-search-input').parents('form');search_edition(value,'window.tlbr.displaySearchResults()');$('.ed-search-result').stop().transition({'opacity':0.001},250);}},findPageObjByPageId:function(pageId){var returnobj=null;for(var d in window.eddata.pages)
{var tmpobj=window.eddata.pages[d];if(tmpobj.id==pageId)
{returnobj=tmpobj;}}
return returnobj;},showResultsOnPage:function(pageid){for(var d in window.tlbr.lastsearchresultArray)
{var tmpobj=window.tlbr.lastsearchresultArray[d];if(pageid==tmpobj.page_id)
{attach_search_results_to_page(pageid,tmpobj.results);}}
if(pageid==-1)
{attach_search_results_to_page(-1,null);}},markSearchResultsMobile:function(remove_saerch_mark){if(window._ed_mobile_search_mark){window._ed_mobile_search_mark=false;var markInstance=new Mark(document.getElementById("content"));if(remove_saerch_mark){markInstance.unmark();return;}
markInstance.unmark({done:function(){markInstance.mark(window._ed_mobile_search_results_q,{});setTimeout(function(){$(window).scrollTop($('mark:first').offset().top-50);},100);}});}},displaySearchResults:function(results){var current_page_id=-2;var current_page_id_has_resulst=false;setTimeout(function(){$('#edition-toolbar-search-panel .loading').addClass('hidden');},500);try
{for(var d in window.tlbr.arrOfPgs)
{var tmpobj=window.tlbr.arrOfPgs[d];if(tmpobj.arrindex==(tlbr.currentPageIndex-1).toString())
{current_page_id=tmpobj.id;}}}catch(e){}
var appendHTML='';var appendedTable=false;var pagesCount=0;var matchesCount=0;var is_mobile=(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile);for(var pagesCount in results)
{var curobj=results[pagesCount];if(is_mobile){matchesCount+=curobj.cnt;}else{matchesCount+=curobj.results.length;}}
var appendNotification=matchesCount.toString()+' matches on '+(parseInt(pagesCount)+1).toString()+' pages';if(matchesCount==0)
{appendNotification='No results found...';}
appendHTML+='<div class="search-result-notification">'+appendNotification+'</div>';appendHTML+='<hr class="search-result-line topline">';window.tlbr.lastsearchresultArray=results;for(var d in results)
{if(!appendedTable)
{appendHTML+='<table cellpadding="0" cellspacing="0" class="search-result-item">';appendedTable=true;}
var curobj=results[d];var pgobj=window.tlbr.findPageObjByPageId(curobj.page_id);appendHTML+='<tr valign="top">';appendHTML+='<td>';var scrool_for_more='';var linkWithClose='onclick="javascript:window._ed_mobile_search_mark=1;window.tlbr.showResultsOnPage('+curobj.page_id+');setTimeout(function(){window.tlbr.hideSearchPanel();}, 300);setTimeout(function(){window.tlbr.markSearchResultsMobile();}, 2000)"';if(is_mobile){if(curobj.img){appendHTML+='<div style="width:100px;min-height:80px;"  '+linkWithClose+'> <img src=\''+curobj.img+'\' class="search-result-image" style="max-width:100%;max-height:100%;" onload="if(window.tlbr.panel.searchIscrol != null){window.tlbr.panel.searchIscrol.refresh();}" onclick="javascript:window.tlbr.showResultsOnPage('+curobj.page_id+');" /></div>';}else{appendHTML+='<div style="width:100px;height:80px;" class="search-result-image" '+linkWithClose+'> ? </div>';}
if(curobj.cnt>1){scrool_for_more='<br><small style="margin-top:12px"><em>'+curobj.cnt+' matches, click and scrool for more</em></small>';}}else{appendHTML+='<img src=\''+window.tlbr.getThumbToLoad(pgobj,true)+'\' class="search-result-image" style="'+tlbr.getCssForDrawingThumbnail(pgobj,100)+'" onload="if(window.tlbr.panel.searchIscrol != null){window.tlbr.panel.searchIscrol.refresh();}" onclick="javascript:window.tlbr.showResultsOnPage('+curobj.page_id+');" />';}
appendHTML+='</td>';appendHTML+='<td>';appendHTML+='<div class="search-result-page-num"  '+linkWithClose+'>'+((is_mobile&&curobj.page_title)?curobj.page_title:pgobj.title)+'</div>';appendHTML+='<div class="search-result-line"></div>';appendHTML+='<div class="search-result-page-description"  '+linkWithClose+'>'+curobj.results[0].text.replace(/\\r\\n/gi," ").replace(/\\\\r\\\\n/gi," ")+scrool_for_more+'</div>';appendHTML+='</td>';appendHTML+='</tr>';if(curobj.page_id==current_page_id)
{current_page_id_has_resulst=true;}}
if(appendedTable){appendHTML+='</table>';}
appendHTML+='<div class="ed-search-bottommargin"></div>';$('.ed-search-result').html(appendHTML);if(window.eddata.appearance.toolbar_theme=="custom")
{window.tlbr.setCorrectThemeOrColors();}
$('.ed-search-result').stop().transition({'opacity':1},250);if(window.tlbr.panel.searchIscrol==null)
{var search_iscroll=new eIScroll('#edition-toolbar-search-panel',{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:true,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll'});window.tlbr.panel.iscrolls.push(search_iscroll);window.tlbr.panel.searchIscrol=search_iscroll;}
else
{window.tlbr.panel.searchIscrol.refresh();}
window.tlbr.showResultsOnPage(-1);if(current_page_id_has_resulst)
{window.tlbr.showResultsOnPage(current_page_id);}},hideNavigationArrows:function(duration){duration=typeof duration!=='undefined'?duration:100;},showNavigationArrows:function(duration){duration=typeof duration!=='undefined'?duration:100;},showPopup:function(url,type){return false;},hide_popup:function(){},toggleAboutPanel:function(duration){if(window.tlbr.panel.about.canMove){if(window.tlbr.debugMode)console.log('TOGGLE ABOUT PANEL');duration=typeof duration!=='undefined'?duration:400;if(window.tlbr.panel.about.hidden){window.tlbr.statsAdd('About open','Open About us panel');window.tlbr.showAboutPanel(duration);}else{window.tlbr.hideAboutPanel(duration);}}else{if(window.tlbr.debugMode)console.log('CANNOT TOGGLE ABOUT PANEL WHILE IN TRANSITION');}},refreshIscrolls:function(){try
{for(var d in tlbr.panel.iscrolls)
{var curelem=tlbr.panel.iscrolls[d];curelem.refresh();}}catch(e){}},showAboutPanel:function(duration){if(window.tlbr.panel.about.hidden){if(window.tlbr.debugMode)console.log('SHOWING ABOUT PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.about.elem.css({display:'block'});window.tlbr.refreshIscrolls();if(duration){window.tlbr.panel.about.canMove=false;window.tlbr.panel.about.elem.transition({left:'0px',x:0},400,function(){window.tlbr.panel.about.hidden=false;window.tlbr.panel.about.canMove=true;window.tlbr.refreshIscrolls();});}else{window.tlbr.panel.about.elem.css({transform:'translateX(0)'});window.tlbr.panel.about.hidden=false;window.tlbr.panel.about.canMove=true;}
$('.toolbar-selected-panel-arrow.home').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);}else{if(window.tlbr.debugMode)console.log('ABOUT PANEL ALREADY SHOWN');}},hideAboutPanel:function(duration){if(!window.tlbr.panel.about.hidden){if(window.tlbr.debugMode)console.log('HIDING ABOUT PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.about.canMove=false;window.tlbr.panel.about.elem.transition({x:'-100%'},400,function(){window.tlbr.panel.about.elem.css({display:'none'});window.tlbr.panel.about.hidden=true;window.tlbr.panel.about.canMove=true;});$('.toolbar-selected-panel-arrow.home').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.about.elem.css({transform:'translateX(-'+parseInt(window.tlbr.panel.about.width)+'px)',display:'none'});window.tlbr.panel.about.hidden=true;window.tlbr.panel.about.canMove=true;}}else{if(window.tlbr.debugMode)console.log('SOCIAL PANEL ALREADY HIDDEN');}},reapplySocialPanelContent:function(){if(window.eddata.appearance.sharer_email.enabled==1)
{var text_body=window.eddata.appearance.sharer_email.body;var text_subject=window.eddata.appearance.sharer_email.subject;var foundObj=null;var sef_current=window.location.hash.replace('#!','');if(window.location.hash!='')
{for(var d in window.eddata.pages)
{var curobj=window.eddata.pages[d];if(curobj.sef==sef_current)
{foundObj=curobj;break;}}}
if(foundObj!=null)
{var share_publication_url=window.edgl.edition.url+'#!'+sef_current;text_body=text_body.replace(/\[\[PAGE_URL\]\]/gi,share_publication_url);text_body=text_body.replace('[PAGE_URL]',share_publication_url);text_body=text_body.replace(/\[\[PAGE_TITLE\]\]/gi,foundObj.tabtitle);text_body=text_body.replace('[PAGE_TITLE]',foundObj.tabtitle);text_subject=text_subject.replace(/\[\[PAGE_URL\]\]/gi,share_publication_url);text_subject=text_subject.replace('[PAGE_URL]',share_publication_url);text_subject=text_subject.replace(/\[\[PAGE_TITLE\]\]/gi,foundObj.tabtitle);text_subject=text_subject.replace('[PAGE_TITLE]',foundObj.tabtitle);text_body=text_body.replace(/<br \/>/gi,'%0D%0A');$('#edition-send-to-friend-body').val(text_body);$('#edition-subject-email').val(text_subject);}}},toggleSocialPanel:function(duration){if(window.tlbr.debugMode)console.log('TOGGLE SOCIAL');duration=typeof duration!=='undefined'?duration:400;if(window.tlbr.panel.social.canMove){if(window.tlbr.panel.social.hidden){window.allowkeyinteractions=false;window.tlbr.reapplySocialPanelContent('show');window.tlbr.showSocialPanel(duration);window.tlbr.statsAdd('Social open','Open Social panel');}else{window.allowkeyinteractions=true;window.tlbr.hideSocialPanel(duration);}}},showSocialPanel:function(duration){if(window.tlbr.panel.social.hidden){if(window.tlbr.debugMode)console.log('SHOWING SOCIAL PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.social.elem.css({display:'block'});window.tlbr.refreshIscrolls();if(duration){window.tlbr.panel.social.canMove=false;window.tlbr.panel.social.elem.transition({x:'0px',left:'0px'},400,function(){window.tlbr.panel.social.hidden=false;window.tlbr.panel.social.canMove=true;window.tlbr.refreshIscrolls();});$('.toolbar-selected-panel-arrow.social').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.social.elem.css({transform:'translateX(0)'});window.tlbr.panel.social.hidden=false;window.tlbr.panel.social.canMove=true;}}else{if(window.tlbr.debugMode)console.log('SOCIAL PANEL ALREADY SHOWN');}},hideSocialPanel:function(duration){window.allowkeyinteractions=true;if(!window.tlbr.panel.social.hidden){if(window.tlbr.debugMode)console.log('HIDING SOCIAL PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.social.canMove=false;window.tlbr.panel.social.elem.transition({x:'-100%'},400,function(){window.tlbr.panel.social.elem.css({display:'none'});window.tlbr.panel.social.hidden=true;window.tlbr.panel.social.canMove=true;});$('.toolbar-selected-panel-arrow.social').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.social.elem.css({transform:'translateX(-'+parseInt(window.tlbr.panel.social.width)+'px)',display:'none'});window.tlbr.panel.social.hidden=true;window.tlbr.panel.social.canMove=true;}}else{if(window.tlbr.debugMode)console.log('SOCIAL PANEL ALREADY HIDDEN');}},toggleUserbookmarksPanel:function(duration)
{duration=typeof duration!=='undefined'?duration:400;if(window.tlbr.panel.userbookmarks.canMove){if(window.tlbr.panel.userbookmarks.hidden)
{window.allowkeyinteractions=false;window.tlbr.showUserbookmarksPanel(duration);window.tlbr.statsAdd('Userbookmarks open','Open Userbookmarks panel');}else{window.allowkeyinteractions=true;window.tlbr.hideUserbookmarksPanel(duration);}}},showUserbookmarksPanel:function(duration){if(window.tlbr.panel.userbookmarks.hidden){if(window.tlbr.debugMode)console.log('SHOWING USERBOOKMARKS PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.userbookmarks.elem.css({display:'block'});window.tlbr.refreshIscrolls();if(duration){window.tlbr.panel.userbookmarks.canMove=false;window.tlbr.panel.userbookmarks.elem.css({x:'-100%'}).transition({x:0,left:'0px'},400,function(){window.tlbr.panel.userbookmarks.hidden=false;window.tlbr.panel.userbookmarks.canMove=true;window.tlbr.refreshIscrolls();});$('.toolbar-selected-panel-arrow.userbookmarks').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.userbookmarks.elem.css({transform:'translateX(0)'});window.tlbr.panel.userbookmarks.hidden=false;window.tlbr.panel.userbookmarks.canMove=true;}}else{if(window.tlbr.debugMode)console.log('USERBOOKMARKS PANEL ALREADY SHOWN');}},hideUserbookmarksPanel:function(duration){window.allowkeyinteractions=true;if(!window.tlbr.panel.userbookmarks.hidden){if(window.tlbr.debugMode)console.log('HIDING USERBOOKMARKS PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.userbookmarks.canMove=false;window.tlbr.panel.userbookmarks.elem.transition({x:'-100%'},400,function(){window.tlbr.panel.userbookmarks.elem.css({display:'none'});window.tlbr.panel.userbookmarks.hidden=true;window.tlbr.panel.userbookmarks.canMove=true;});$('.toolbar-selected-panel-arrow.userbookmarks').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.userbookmarks.elem.css({transform:'translateX(-'+parseInt(window.tlbr.panel.userbookmarks.width)+'px)',display:'none'});window.tlbr.panel.userbookmarks.hidden=true;window.tlbr.panel.userbookmarks.canMove=true;}}else{if(window.tlbr.debugMode)console.log('USERBOOKMARKS PANEL ALREADY HIDDEN');}},toggleTopPanel:function(duration){if(window.tlbr.panel.top.canMove){if(window.tlbr.debugMode)console.log('TOGGLE TOP PANEL');if(window.tlbr.panel.top.hidden){window.tlbr.statsAdd('TOC open','Open TOC Panel');window.tlbr.showTopPanel();}else{window.tlbr.hideTopPanel();}}else{if(window.tlbr.debugMode)console.log('CANNOT TOGGLE TOP PANEL WHILE IN TRANSITION');}},showTopPanel:function(duration){if(window.tlbr.panel.top.hidden){if(window.tlbr.debugMode)console.log('SHOW TOP PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.top.elem.css({display:'block'});if(duration){window.tlbr.panel.top.canMove=false;var yTrans=280;if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)
{yTrans='100%';window.tlbr.panel.top.elem.css({'margin-top':'80px'});}
window.tlbr.panel.top.elem.transition({y:yTrans},duration,function(){window.tlbr.panel.top.hidden=false;window.tlbr.panel.top.canMove=true;});$('.toolbar-selected-panel-arrow.show_pages_mobile').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);$('.toolbar-selected-panel-arrow.toc').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);try
{window.tlbr.panel.top.iscrollelem.refresh();}catch(e){}}else{window.tlbr.panel.top.elem.css({transform:'translateY(0)'});window.tlbr.panel.top.hidden=false;window.tlbr.panel.top.canMove=true;}
console.log('11 #toggleTopPaneltoggleTopPanel#toggleTopPaneltoggleTopPanel');}else{if(window.tlbr.debugMode)console.log('TOP PANEL ALREADY SHOWN');}},hideTopPanel:function(duration){if(!window.tlbr.panel.top.hidden){if(window.tlbr.debugMode)console.log('HIDING TOP PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.top.canMove=false;window.tlbr.panel.top.elem.transition({y:0},duration,function(){window.tlbr.panel.top.elem.css({display:'none'});window.tlbr.panel.top.hidden=true;window.tlbr.panel.top.canMove=true;});$('.toolbar-selected-panel-arrow.toc').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);$('.toolbar-selected-panel-arrow.show_pages_mobile').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.top.elem.css({transform:'translateY(0px)',display:'none'});window.tlbr.panel.top.hidden=true;window.tlbr.panel.top.canMove=true;}}else{if(window.tlbr.debugMode)console.log('TOP PANEL ALREADY HIDDEN');}},toggleFreehandbookmarksPanel:function(duration){if(window.tlbr.panel.freehandbookmarks.canMove){if(window.tlbr.debugMode)console.log('TOGGLE Freehandbookmarks PANEL');if(window.tlbr.panel.freehandbookmarks.hidden){window.tlbr.statsAdd('Freehandbookmarks open','Open Freehandbookmarks Panel');window.tlbr.showFreehandbookmarksPanel();}else{window.tlbr.hideFreehandbookmarksPanel();}}else{if(window.tlbr.debugMode)console.log('CANNOT TOGGLE FREEHANDBOOKMARKS PANEL WHILE IN TRANSITION');}},togglePackedMenuPanel:function(duration){if(window.tlbr.panel.packedmenu.canMove){if(window.tlbr.debugMode)console.log('TOGGLE packedmenu PANEL');if(window.tlbr.panel.packedmenu.hidden)
{window.tlbr.statsAdd('Packed menu open','Open Packed menu Panel');}
tlbr.tooglePackedMenu();}else{if(window.tlbr.debugMode)console.log('CANNOT TOGGLE PACKED MENU PANEL WHILE IN TRANSITION');}},tooglePackedMenu:function(show,animated)
{var show=show===true||(show===undefined&&tlbr.panel.packedmenu.hidden);if(show){window.tlbr.hideAllPanels();}
if(animated===undefined){animated=true;}
var panel=tlbr.panel.packedmenu.elem;if(show)
{panel.transStop().removeClass('hidden').css({x:'100%'}).delay(100).transition({x:'0'},animated?300:0)
var menu=$('#edition-toolbar-packedmenu-panel');var items=menu.find('.items');items.children().remove();var toolbar=$('#edition-toolbar-main');toolbar.removeClass('packed');var buttons=toolbar.find('[data-packed-label]:not(.unpackable):visible');console.log('buttons is',buttons.length);buttons.each(function()
{$(this).clone(true,true).appendTo(items);});toolbar.addClass('packed');}
else
{panel.transStop().removeClass('hidden').css({x:'0'}).transition({x:'100%'},animated?200:0,function(){panel.addClass('hidden');})}
tlbr.panel.packedmenu.hidden=!show;tlbr.panel.packedmenu.canMove=true;},showFreehandbookmarksPanel:function(duration){if(window.tlbr.panel.freehandbookmarks.hidden){freebm.drawPage(undefined,true,'showFreehandbookmarksPanel');if(window.tlbr.debugMode)console.log('SHOW Freehandbookmarks PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.freehandbookmarks.elem.css({display:'block'});if(duration){window.tlbr.panel.freehandbookmarks.canMove=false;var yTrans=280;if(window.initer.shouldLoadPlayer==window.initer.optionLoadPlayerMobile)
{yTrans='100%';window.tlbr.panel.freehandbookmarks.elem.css({'margin-top':'80px'});}
window.tlbr.panel.freehandbookmarks.elem.transition({y:yTrans},duration,function(){window.tlbr.panel.freehandbookmarks.hidden=false;window.tlbr.panel.freehandbookmarks.canMove=true;});try
{window.tlbr.panel.freehandbookmarks.iscrollelem.refresh();}catch(e){}}else{window.tlbr.panel.freehandbookmarks.elem.css({transform:'translateY(0)'});window.tlbr.panel.freehandbookmarks.hidden=false;window.tlbr.panel.freehandbookmarks.canMove=true;}}else{if(window.tlbr.debugMode)console.log('FREEHANDBOOKMARKS PANEL ALREADY SHOWN');}
var pen=$('#edition-toolbar-freehandbookmarks-panel').find('.pencil.last_selected');pen.addClass('active');freebm.startDraw(pen.data());},hideFreehandbookmarksPanel:function(duration){if(!window.tlbr.panel.freehandbookmarks.hidden){if(window.tlbr.debugMode)console.log('HIDING TOP PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.freehandbookmarks.canMove=false;window.tlbr.panel.freehandbookmarks.elem.transition({y:0},duration,function(){window.tlbr.panel.freehandbookmarks.elem.css({display:'none'});window.tlbr.panel.freehandbookmarks.hidden=true;window.tlbr.panel.freehandbookmarks.canMove=true;});$('.toolbar-selected-panel-arrow.toc').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);$('.toolbar-selected-panel-arrow.show_pages_mobile').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.freehandbookmarks.elem.css({transform:'translateY(0px)',display:'none'});window.tlbr.panel.freehandbookmarks.hidden=true;window.tlbr.panel.freehandbookmarks.canMove=true;}}else{if(window.tlbr.debugMode)console.log('TOP PANEL ALREADY HIDDEN');}
freebm.finishDraw();$('#edition-toolbar-freehandbookmarks-panel .pencil.active').removeClass('active');},toggleSearchPanel:function(duration){if(window.tlbr.debugMode)console.log('TOGGLE SEARCH');if(window.tlbr.panel.search.canMove){if(window.tlbr.panel.search.hidden){window.tlbr.statsAdd('Search open','Open search Panel');window.tlbr.showSearchPanel();}else{window.tlbr.hideSearchPanel();}}},toggleDownloadPanel:function(duration){if(window.tlbr.debugMode)console.log('TOGGLE DOWNLOAD');if(window.tlbr.panel.download.canMove){if(window.tlbr.panel.download.hidden){window.tlbr.statsAdd('Download open','Open download Panel');window.tlbr.showDownloadPanel();}else{window.tlbr.hideDownloadPanel();}}},onfocusinput:function(focused){if(focused)
{window.allowkeyinteractions=false;}
else
{window.allowkeyinteractions=true;}},showSearchPanel:function(duration){if(window.tlbr.panel.search.hidden){if(window.tlbr.debugMode)console.log('SHOW SEARCH PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.search.elem.css({display:'block'});if(duration){window.tlbr.panel.search.canMove=false;window.tlbr.panel.search.elem.transition({right:'0px',x:0},duration,function(){window.tlbr.panel.search.hidden=false;window.tlbr.panel.search.canMove=true;});$('.toolbar-selected-panel-arrow.search').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing,function(){$('#ed-search-input').focus();});}else{window.tlbr.panel.search.elem.css({transform:'translateX(0)'});window.tlbr.panel.search.hidden=false;window.tlbr.panel.search.canMove=true;$('.toolbar-selected-panel-arrow.search').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);}}else{if(window.tlbr.debugMode)console.log('SEARCH PANEL ALREADY SHOWN');}},showDownloadPanel:function(duration){if(window.tlbr.panel.download.hidden){if(window.tlbr.debugMode)console.log('SHOW DOWNLOAD PANEL');window.tlbr.hideAllPanels();duration=typeof duration!=='undefined'?duration:400;window.tlbr.panel.download.elem.css({display:'block'});if(duration){window.tlbr.panel.download.canMove=false;window.tlbr.panel.download.elem.transition({right:'0px',x:0},duration,function(){window.tlbr.panel.download.hidden=false;window.tlbr.panel.download.canMove=true;});$('.toolbar-selected-panel-arrow.download').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing,function(){});}else{window.tlbr.panel.download.elem.css({transform:'translateX(0)'});window.tlbr.panel.download.hidden=false;window.tlbr.panel.download.canMove=true;$('.toolbar-selected-panel-arrow.download').stop().css({'height':'0px','display':'block'}).delay(20).transition({height:'40px'},300,window.tlbr.tlbrDefaultEasing);}}else{if(window.tlbr.debugMode)console.log('DOWNLOAD PANEL ALREADY SHOWN');}},hideDownloadPanel:function(duration){if(!window.tlbr.panel.download.hidden){window.allowkeyinteractions=true;try
{$('#slideContainer').focus();}catch(e){}
if(window.tlbr.debugMode)console.log('HIDING DOWNLOAD PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.download.canMove=false;window.tlbr.panel.download.elem.transition({x:parseInt($(window.tlbr.panel.download.elem).width())+100},duration,function(){window.tlbr.panel.download.elem.css({display:'none'});window.tlbr.panel.download.hidden=true;window.tlbr.panel.download.canMove=true;});$('.toolbar-selected-panel-arrow.download').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.download.elem.css({transform:'translateX('+parseInt(window.tlbr.panel.download.width)+'px)',display:'none'});window.tlbr.panel.download.hidden=true;window.tlbr.panel.download.canMove=true;$('.toolbar-selected-panel-arrow.download').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}}else{if(window.tlbr.debugMode)console.log('DOWNLOAD PANEL ALREADY HIDDEN');}},hideSearchPanel:function(duration){if(!window.tlbr.panel.search.hidden){window.allowkeyinteractions=true;try
{$('#slideContainer').focus();}catch(e){}
if(window.tlbr.debugMode)console.log('HIDING SEARCH PANEL');duration=typeof duration!=='undefined'?duration:400;if(duration){window.tlbr.panel.search.canMove=false;window.tlbr.panel.search.elem.transition({x:parseInt($(window.tlbr.panel.search.elem).width())+100},duration,function(){window.tlbr.panel.search.elem.css({display:'none'});window.tlbr.panel.search.hidden=true;window.tlbr.panel.search.canMove=true;});$('.toolbar-selected-panel-arrow.search').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}else{window.tlbr.panel.search.elem.css({transform:'translateX('+parseInt(window.tlbr.panel.search.width)+'px)',display:'none'});window.tlbr.panel.search.hidden=true;window.tlbr.panel.search.canMove=true;$('.toolbar-selected-panel-arrow.search').stop().transition({height:'0px'},200,window.tlbr.tlbrDefaultEasing);}}else{if(window.tlbr.debugMode)console.log('SEARCH PANEL ALREADY HIDDEN');}},setPlayerSize:function(x,y,w,h,duration){$('.edition-player').css({left:x,top:y,width:w,height:h});try
{window.initer.events.edResize();}catch(e){}},resizeToolbarContentsEvent:function(){this.layout();window.tlbr.redrawNavigationArrows(false,false);window.tlbr.resizinx++;window.setTimeout("if(window.tlbr.resizinx == "+window.tlbr.resizinx.toString()+"){window.tlbr.redrawNavigationArrows(window.tlbr.lastStateArrows);}",200);},layout:function()
{console.log('Layout toolbar');if($('html').hasClass('player-article')){return}
var toolbar=$('#edition-toolbar-main');var left=$('#ed-toolbar-left');var center=$('#edition-toolbar-pagerange');var right=$('#edition-toolbar-right');var slider=$('#edition-toolbar-slider');center.removeClass('hide_slider');toolbar.removeClass('packed ultrapacked');toolbar.css({'min-width':''});var PADDING=10;var leftWidth=left.outerWidth()+$('.toolbarbackbtn').outerWidth();var rightWidth=right.outerWidth();var width=center.parent().width()-(leftWidth+rightWidth)-2*PADDING;center.width(width);var packed=width<300;var ultrapacked;if(packed)
{toolbar.addClass('packed');leftWidth=left.outerWidth()+$('.toolbarbackbtn').outerWidth();;rightWidth=right.outerWidth();leftover=center.parent().width()-(leftWidth+rightWidth)-2*PADDING;var ultrapacked=leftover<80;if(ultrapacked){toolbar.addClass('ultrapacked');console.log('leftWidth',leftWidth);console.log('rightWidth',rightWidth);console.log('center.parent().width()',center.outerWidth());toolbar.css({'min-width':(leftWidth+rightWidth+center.outerWidth()+2*PADDING+5)});}}
else
{var menu=$('#edition-toolbar-packedmenu-panel');if(menu.is(':visible')){this.tooglePackedMenu(false,false)}}
if(slider.width()<50||packed||((toolbar.width()<1000)&&(window.slider_hide_mode))){center.addClass('hide_slider').css({width:'auto'});}
var dx=ultrapacked?0:(leftWidth-rightWidth)/ 2;center.css({'margin-left':dx?dx:''});},maximizePlayerSize:function(duration){duration=typeof duration!=='undefined'?duration:0;window.tlbr.setPlayerSize('0px','0px','100%','100%',duration);},fitPlayerSize:function(duration){duration=typeof duration!=='undefined'?duration:0;window.tlbr.setPlayerSize('0px','40px','100%','calc(100% - 40px)',duration);},slider_thumbparent:'.edition-slider-thumbs',slider_showhidetransitiontime:250,slider_shown:false,showSliderPageThumbs:function(value){var nextobj=tlbr.arrOfPgs[value];var currobj=tlbr.arrOfPgs[value-1];var prevobj=tlbr.arrOfPgs[value-2];var prevobjspreadsr=null;var currobjspreadsr=null;var nextobjspreadsr=null;var isspreads=false;if(window.eddata.appearance.edition_style=='facingpages')
{isspreads=true;if((value%2)==0)
{var nextobj=tlbr.arrOfPgs[value+1];var nextobjspreadsr=tlbr.arrOfPgs[value+2];var currobj=tlbr.arrOfPgs[value-1];var currobjspreadsr=tlbr.arrOfPgs[value];var prevobjspreadsr=tlbr.arrOfPgs[value-2];var prevobj=tlbr.arrOfPgs[value-3];}
else
{var nextobj=tlbr.arrOfPgs[value];var nextobjspreadsr=tlbr.arrOfPgs[value+1];var currobj=tlbr.arrOfPgs[value-2];var currobjspreadsr=tlbr.arrOfPgs[value-1];var prevobjspreadsr=tlbr.arrOfPgs[value-3];var prevobj=tlbr.arrOfPgs[value-4];}
if(typeof(currobjspreadsr)=="undefined")
{currobjspreadsr=null;}
if(typeof(currobj)=="undefined")
{currobj=null;}
if(typeof(nextobjspreadsr)=="undefined")
{nextobjspreadsr=null;}
if(typeof(prevobjspreadsr)=="undefined")
{prevobjspreadsr=null;}
if(typeof(prevobj)=="undefined")
{prevobj=null;}
if(typeof(nextobj)=="undefined")
{nextobj=null;}}
var transition=window.tlbr.tlbrDefaultEasingEaseOut;if(!tlbr.slider_shown)
{$(tlbr.slider_thumbparent).stop().css({display:'inline-block',opacity:0.001}).delay(40).transition({y:'0px',top:'32px',opacity:1},tlbr.slider_showhidetransitiontime,transition,function(){});tlbr.slider_shown=true;}
var hasimgelem=tlbr.arrOfPgs[0];if(prevobj!=null)
{$('.edition-slider-thumb-1-parent').css({visibility:'visible'});$('.edition-slider-thumb-1')[0].src=window.tlbr.getThumbToLoad(prevobj,true);$('.edition-slider-thumb-1')[0].style=tlbr.getCssForDrawingThumbnail(prevobj,90);}
else
{$('.edition-slider-thumb-1-parent').css({visibility:'hidden'});$('.edition-slider-thumb-1')[0].src=window.tlbr.getThumbToLoad(hasimgelem,true);$('.edition-slider-thumb-1')[0].style=tlbr.getCssForDrawingThumbnail(hasimgelem,90);}
var emptyimage=window.tlbr.getThumbToLoad(hasimgelem,true);var emptystyle=tlbr.getCssForDrawingThumbnail(hasimgelem);if(currobj!=null)
{$('.edition-slider-thumb-2')[0].src=window.tlbr.getThumbToLoad(currobj,true);$('.edition-slider-thumb-2')[0].style=tlbr.getCssForDrawingThumbnail(currobj,120);}
else
{$('.edition-slider-thumb-2')[0].src=window.tlbr.getThumbToLoad(hasimgelem,true);$('.edition-slider-thumb-2')[0].style=tlbr.getCssForDrawingThumbnail(hasimgelem,120);}
if(nextobj!=null)
{$('.edition-slider-thumb-3-parent').css({visibility:'visible'});$('.edition-slider-thumb-3')[0].src=window.tlbr.getThumbToLoad(nextobj,true);$('.edition-slider-thumb-3')[0].style=tlbr.getCssForDrawingThumbnail(nextobj,90);}
else
{$('.edition-slider-thumb-3-parent').css({visibility:'hidden'});$('.edition-slider-thumb-3')[0].src=window.tlbr.getThumbToLoad(hasimgelem,true);$('.edition-slider-thumb-3')[0].style=tlbr.getCssForDrawingThumbnail(hasimgelem,90);}
if(isspreads)
{var preponecssforeachthumb='display:inline-block;';if(!$('.edition-slider-thumbs').hasClass('spreadsmode'))
{$('.edition-slider-thumbs').addClass('spreadsmode');}
if(prevobjspreadsr!=null)
{$('.edition-slider-thumb-1-parent').css({visibility:'visible'});if(prevobj==null)
{if($('.edition-slider-thumb-1').css('visibility')=='visible')
{$('.edition-slider-thumb-1').css({'visibility':'hidden'});}}
else
{if($('.edition-slider-thumb-1').css('visibility')!='visible')
{$('.edition-slider-thumb-1').css({'visibility':'visible'});}}
if($('.edition-slider-thumb-1-right').css('visibility')!='visible')
{$('.edition-slider-thumb-1-right').css({'visibility':'visible'});}
$('.edition-slider-thumb-1-right')[0].src=window.tlbr.getThumbToLoad(prevobjspreadsr,true);$('.edition-slider-thumb-1-right')[0].style=preponecssforeachthumb+tlbr.getCssForDrawingThumbnail(prevobjspreadsr,90);}
else
{if($('.edition-slider-thumb-1-right').css('visibility')=='visible')
{$('.edition-slider-thumb-1-right').css({'visibility':'hidden'});}
$('.edition-slider-thumb-1-right')[0].src=emptyimage;$('.edition-slider-thumb-1-right')[0].style=preponecssforeachthumb+emptystyle;}
if(nextobjspreadsr!=null)
{$('.edition-slider-thumb-3-parent').css({visibility:'visible'});if(nextobj==null)
{if($('.edition-slider-thumb-3').css('visibility')=='visible')
{$('.edition-slider-thumb-3').css({'visibility':'hidden'});}}
else
{if($('.edition-slider-thumb-3').css('visibility')!='visible')
{$('.edition-slider-thumb-3').css({'visibility':'visible'});}}
if($('.edition-slider-thumb-3-right').css('visibility')!='visible')
{$('.edition-slider-thumb-3-right').css({'visibility':'visible'});}
$('.edition-slider-thumb-3-right')[0].src=window.tlbr.getThumbToLoad(nextobjspreadsr,true);$('.edition-slider-thumb-3-right')[0].style=preponecssforeachthumb+tlbr.getCssForDrawingThumbnail(nextobjspreadsr,90);}
else
{$('.edition-slider-thumb-3-right')[0].src=emptyimage;$('.edition-slider-thumb-3-right')[0].style=preponecssforeachthumb+emptystyle;if($('.edition-slider-thumb-3-right').css('visibility')=='visible')
{$('.edition-slider-thumb-3-right').css({'visibility':'hidden'});}}
if(currobjspreadsr!=null)
{if(currobj==null)
{if($('.edition-slider-thumb-2').css('visibility')=='visible')
{$('.edition-slider-thumb-2').css({'visibility':'hidden'});}}
else
{if($('.edition-slider-thumb-2').css('visibility')!='visible')
{$('.edition-slider-thumb-2').css({'visibility':'visible'});}}
if($('.edition-slider-thumb-2-right').css('visibility')!='visible')
{$('.edition-slider-thumb-2-right').css({'visibility':'visible'});}
$('.edition-slider-thumb-2-right')[0].src=window.tlbr.getThumbToLoad(currobjspreadsr,true);$('.edition-slider-thumb-2-right')[0].style=preponecssforeachthumb+tlbr.getCssForDrawingThumbnail(currobjspreadsr);}
else
{$('.edition-slider-thumb-2-right')[0].src=emptyimage;$('.edition-slider-thumb-2-right')[0].style=preponecssforeachthumb+emptystyle;if($('.edition-slider-thumb-2-right').css('visibility')=='visible')
{$('.edition-slider-thumb-2-right').css({'visibility':'hidden'});}}}},hideSliderPageThumbs:function(value){if(tlbr.slider_shown)
{var transition=window.tlbr.tlbrDefaultEasingEaseIn;$(tlbr.slider_thumbparent).stop().transition({y:'-20px',opacity:0},tlbr.slider_showhidetransitiontime,transition,function(){$(tlbr.slider_thumbparent).css({'display':'none'});});tlbr.slider_shown=false;}},hideAllPanels:function(duration,exception){if(typeof(exception)=='undefined')
{var exception=-9999;}
if(window.tlbr.debugMode)console.log('HIDING ALL (OTHER) PANELS');duration=typeof duration!=='undefined'?duration:400;if(!window.tlbr.panel.top.hidden){window.tlbr.hideTopPanel(duration);}
if(!window.tlbr.panel.freehandbookmarks.hidden&&!freebm.drawing){window.tlbr.hideFreehandbookmarksPanel(duration);}
if(!tlbr.panel.packedmenu.hidden){tlbr.tooglePackedMenu(false);}
if(!window.tlbr.panel.about.hidden){var lock_active=$("#edition-toolbar-about-panel .panel-lock span").hasClass('active');if(!lock_active||exception=='close_clicked'){window.tlbr.hideAboutPanel(duration);}}
if(!window.tlbr.panel.social.hidden){window.tlbr.hideSocialPanel(duration);}
if(!window.tlbr.panel.userbookmarks.hidden&&!$('#ub_lock_panel').find('.ub_lock_on:visible').length){window.tlbr.hideUserbookmarksPanel(duration);}
if(!window.tlbr.panel.download.hidden){window.tlbr.hideDownloadPanel(duration);}
if(window.tlbr.exceptesearch==exception){if($('.seo-main').width()<740){var exception=-9999;}}
if(window.tlbr.exceptesearch!=exception)
{if(!window.tlbr.panel.search.hidden){window.tlbr.hideSearchPanel(duration);}}},setPageNumber:function(num){if(tlbr.isMobileVersion()){$('#page-number').html(num);}
else if(window.eddata.appearance.edition_style=='facingpages')
{num=parseInt(num)
if(num%2==0){if((num+1)<=window.tlbr.main_pages_max)
{var titlepage=num.toString()+'-'+(num+1).toString();}
else
{var titlepage=num.toString();}
$('#page-number').html(titlepage);}
else{if(num>1)
{var titlepage=(num-1).toString()+'-'+(num).toString();}
else
{var titlepage=num.toString();}
$('#page-number').html(titlepage);}}
else{$('#page-number').html(num);}},setPageCount:function(count){$("#page-count").html(count);},debugFunctions:{newButton:function(side)
{side=side||'left';var parent=$('#edition-toolbar-main').find('.ed-toolbar-'+side);var lastBtn=parent.find('.edition-toolbar-element:visible').last();lastBtn.clone(true,true).insertAfter(lastBtn).removeClass('unpackable');},},base64thumbsLoaded:function(){if(window.tlbr.isThumbBase64Loaded){return false;}
setTimeout(function(){window.tlbr.isThumbBase64Loaded=true;if(window.eddata.appearance.enable_panel_toc==1)
{if(window.eddata.appearance.enable_toc_toc==1)
{window.tlbr.drawTocContents(false,true);}
else if(window.eddata.appearance.enable_toc_pages==1)
{window.tlbr.drawTocPages(false,true);}
tlbr.setupImageDownloading();}},1000);}}
window.tlbr=tlbr;})();
;
window.tlbr.fillUserbookmarksPanel=function(){var self=this;$('.bookmarks_title').html(window.initer.getlangword('toolbar_my_bookmarks'));$('.bookmark_add_btn_title').html(window.initer.getlangword('toolbar_user_bookmarks_add'));$('.bookmark_this').html(window.initer.getlangword('bookmark_this'));$('#ub_title').attr('placeholder',window.initer.getlangword('user_bookmark_name')).val("");$('#ub_comment').attr('placeholder',window.initer.getlangword('user_bookmark_comment')).val("");$('#ub_save_btn').html(window.initer.getlangword('user_bookmark_save'));$('#ub_cancel_save_btn').html(window.initer.getlangword('user_bookmark_Cancel'));var userBookmarksEnabled=(window.eddata.appearance.show_user_bookmarks==1&&(typeof get_local_user_bookmarks=='function'));var anyUserBookmarksEnabled=(userBookmarksEnabled||window.eddata.appearance.show_free_annotations==1);if(!userBookmarksEnabled){$('#edition-toolbar-userbookmarks').addClass("hidden");}
if(!anyUserBookmarksEnabled){return}
if(userBookmarksEnabled){function openForm(open)
{if(window.ubAnimating){return}
window.ubAnimating=true;var list=$('#ub_list_holder');var y=list.offset().top;$('#ub_form').removeClass('hidden');$('#ub_save_btns').removeClass('hidden');var
yFrom=y-list.offset().top,scale=$('#ub_save_btn').outerWidth()/ $('#addbookmarks_btn').outerWidth()
if(open)
{$('#addbookmarks_btn').transition({scaleX:scale},350);list.css({y:yFrom}).transition({y:0},350,function(){window.ubAnimating=false});$('#ub_save_btns').css({opacity:0.01}).transition({opacity:1},350);window.tlbr.refreshIscrolls();}
else
{$('#addbookmarks_btn').transition({scaleX:1},350);list.transition({y:-$('#ub_form').height()},350,function(){window.ubAnimating=false});$('#ub_save_btns').transition({opacity:0},350,function(){$(this).addClass('hidden');$('#ub_form').addClass('hidden');list.css({y:0});resetForm();window.tlbr.refreshIscrolls();});}}
resetForm=function()
{$('#ub_form input').val('');$('#ub_form textarea').val('');}
$('#addbookmarks_btn').click(function(e)
{openForm(true);e.stopImmediatePropagation();return false;});$('#ub_cancel_save_btn').click(function(e)
{openForm(false);e.stopImmediatePropagation();return false;});$('#ub_lock_panel').click(function(e){var isOn=Boolean($('#ub_lock_panel').find('.ub_lock_on:visible').length);$('#ub_lock_panel').find('.ub_lock_on').toggleClass('hidden',isOn);$('#ub_lock_panel').find('.ub_lock_off').toggleClass('hidden',!isOn);})
$('#ub_save_btns').click(function()
{var title=$('#ub_title').val();if(!title){title=window.eddata.pages[tlbr.currentPageIndex-1].page_title_calc;}
var obj={};var bident=bident_randomString();obj[bident]={page_id:window.eddata.pages[tlbr.currentPageIndex-1].id,bookmark_title:title,bookmark_comment:$('#ub_comment').val()}
user_bookmarks_add_edit_delete(obj);obj[bident].bident=bident;EDO.bookmarks.push(obj[bident]);bookmarksChanged();openForm(false);window.tlbr.refreshIscrolls();});var bookmarks_scroll=new eIScroll('#ub_list_holder',{zoom:false,click:window.initer.isTouchDevice,HWCompositing:true,startX:0,startY:0,interactiveScrollbars:true,freeScroll:true,scrollX:true,scrollY:true,scrollbars:true,mouseWheel:true,wheelAction:'scroll'});window.tlbr.panel.iscrolls.push(bookmarks_scroll);if(window.CitadelaPlayer)
{CitadelaPlayer.drawFooter();}}
bookmarksChanged=function()
{for(var i=0;i<=EDO.bookmarks.length-1;i++)
{var id=EDO.bookmarks[i].page_id;for(var j=0;j<=window.eddata.pages.length-1;j++)
{if(EDO.bookmarks[i].sef){continue}
if(window.eddata.pages[j].id==id)
{EDO.bookmarks[i].num=window.eddata.pages[j].titlemenu;EDO.bookmarks[i].sef=window.eddata.pages[j].sef;break;}}}
for(var i=EDO.bookmarks.length-1;i>=0;i--)
{if(!EDO.bookmarks[i].sef||EDO.bookmarks[i].del==1)
{EDO.bookmarks.splice(i,1)}}
EDO.bookmarks.sort(function(obj1,obj2){return obj1.num-obj2.num});var s='';var color6;var color='';if(window.eddata.appearance.toolbar_theme=="custom")
{var color6=window.eddata.appearance.toolbar_theme_color_6;color='color:'+color6+';';}
var lastNum='';for(var i=0;i<=EDO.bookmarks.length-1;i++)
{if(EDO.bookmarks[i].tip==ED_BOOKMARK_TYPE_FREEHAND)
{continue}
var b=EDO.bookmarks[i];s+='<li class="" ';s+='data-bident="'+b.bident+'">';s+=' <a href="#!'+b.sef+'">';s+='  <p style="'+color+'" class="ub_num">'+(lastNum==b.num?'':b.num)+'</p>';s+='  <p style="'+color+'" class="ub_title">'+b.bookmark_title+'</p>';s+='  <p style="'+color+'" class="ub_description">'+b.bookmark_comment+'</p>';s+='  <p style="'+color+'" class="ub_remove"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="28" viewBox="0 0 28.35 28"><path d="M21.08,7.49v2h-14v-2h3.51l1-1h5l1,1Zm-13,15v-12h12v12a2,2,0,0,1-2,2h-8a2,2,0,0,1-2-2Z" fill="'+(color6?color6:'#555')+'"/></svg></p>';s+=' </a>';s+='</li>';lastNum=b.num;}
$('#userbookmarks_list').html('').append(s);$('#userbookmarks_list').find('.ub_remove').click(function(e)
{var bident=$(this).parents('li').data('bident');for(var i=EDO.bookmarks.length-1;i>=0;i--)
{if(EDO.bookmarks[i].bident==bident)
{EDO.bookmarks.splice(i,1);}}
bookmarksChanged();var obj={};obj[bident]={del:"1"};user_bookmarks_add_edit_delete(obj);e.stopImmediatePropagation();return false;})}
if(typeof get_local_user_bookmarks=='function')
{user_bookmarks_list(function(bookmarksObj)
{console.log('Got bookmarks:');self.userBookmarks=bookmarksObj;EDO.bookmarks=[];for(var key in bookmarksObj){if(!bookmarksObj.hasOwnProperty(key)){continue}
bookmarksObj[key].bident=key;EDO.bookmarks.push(bookmarksObj[key]);}
bookmarksChanged();freebm.drawPage(undefined,undefined,'user_bookmarks_list toolbar');})}}
window.tlbr.initFreehandPanel=function(){var self=this;$('#fb_finish').html(window.initer.getlangword('freehand_close'));if(window.eddata.appearance.show_free_annotations!=1||(typeof freebm=='undefined'))
{$('#edition-toolbar-freehandbookmarks').addClass("hidden");return}
var panel=$('#edition-toolbar-freehandbookmarks-panel');panel.find('.pencil,.pencile_btn').click(function()
{$(this).parent().find('.last_selected').removeClass('last_selected');$(this).parent().find('.active').removeClass('active');$(this).addClass('active last_selected');freebm.startDraw($(this).data());});panel.find('#fb_finish').click(function()
{self.hideFreehandbookmarksPanel();});freebm.init();}
;
(function(window,document,Math){var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000 / 60);};var utils=(function(){var me={};var _elementStyle=document.createElement('div').style;var _vendor=(function(){var vendors=['t','webkitT','MozT','msT','OT'],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+'ransform';if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);}
return false;})();function _prefixStyle(style){if(_vendor===false)return false;if(_vendor==='')return style;return _vendor+style.charAt(0).toUpperCase()+style.substr(1);}
me.getTime=Date.now||function getTime(){return new Date().getTime();};me.extend=function(target,obj){for(var i in obj){target[i]=obj[i];}};me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture);};me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture);};me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?'MSPointer'+pointerEvent.charAt(9).toUpperCase()+pointerEvent.substr(10):pointerEvent;};me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/ time,destination,duration;deceleration=deceleration===undefined?0.0006:deceleration;destination=current+(speed*speed)/(2*deceleration)*(distance<0?-1:1);duration=speed / deceleration;if(destination<lowerMargin){destination=wrapperSize?lowerMargin-(wrapperSize / 2.5*(speed / 8)):lowerMargin;distance=Math.abs(destination-current);duration=distance / speed;}else if(destination>0){destination=wrapperSize?wrapperSize / 2.5*(speed / 8):0;distance=Math.abs(current)+destination;duration=distance / speed;}
return{destination:Math.round(destination),duration:duration};};var _transform=_prefixStyle('transform');me.extend(me,{hasTransform:_transform!==false,hasPerspective:_prefixStyle('perspective')in _elementStyle,hasTouch:'ontouchstart'in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:_prefixStyle('transition')in _elementStyle});me.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!(/Chrome\/\d/.test(window.navigator.appVersion));me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle('transitionTimingFunction'),transitionDuration:_prefixStyle('transitionDuration'),transitionDelay:_prefixStyle('transitionDelay'),transformOrigin:_prefixStyle('transformOrigin')});me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className);};me.addClass=function(e,c){if(me.hasClass(e,c)){return;}
var newclass=e.className.split(' ');newclass.push(c);e.className=newclass.join(' ');};me.removeClass=function(e,c){if(!me.hasClass(e,c)){return;}
var re=new RegExp("(^|\\s)"+c+"(\\s|$)",'g');e.className=e.className.replace(re,' ');};me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){left-=el.offsetLeft;top-=el.offsetTop;}
return{left:left,top:top};};me.preventDefaultException=function(el,exceptions){for(var i in exceptions){if(exceptions[i].test(el[i])){return true;}}
return false;};me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});me.extend(me.ease={},{quadratic:{style:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fn:function(k){return k*(2-k);}},circular:{style:'cubic-bezier(0.1, 0.57, 0.1, 1)',fn:function(k){return Math.sqrt(1-(--k*k));}},back:{style:'cubic-bezier(0.175, 0.885, 0.32, 1.275)',fn:function(k){var b=4;return(k=k-1)*k*((b+1)*k+b)+1;}},bounce:{style:'',fn:function(k){if((k /=1)<(1 / 2.75)){return 7.5625*k*k;}else if(k<(2 / 2.75)){return 7.5625*(k-=(1.5 / 2.75))*k+0.75;}else if(k<(2.5 / 2.75)){return 7.5625*(k-=(2.25 / 2.75))*k+0.9375;}else{return 7.5625*(k-=(2.625 / 2.75))*k+0.984375;}}},elastic:{style:'',fn:function(k){var f=0.22,e=0.4;if(k===0){return 0;}
if(k==1){return 1;}
return(e*Math.pow(2,-10*k)*Math.sin((k-f / 4)*(2*Math.PI)/ f)+1);}}});me.tap=function(e,eventName){var ev=document.createEvent('Event');ev.initEvent(eventName,true,true);ev.pageX=e.pageX;ev.pageY=e.pageY;e.target.dispatchEvent(ev);};me.click=function(e){var target=e.target,ev;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName)){ev=document.createEvent('MouseEvents');ev.initMouseEvent('click',true,true,e.view,1,target.screenX,target.screenY,target.clientX,target.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._constructed=true;target.dispatchEvent(ev);}};return me;})();function eIScroll(el,options){this.wrapper=typeof el=='string'?document.querySelector(el):el;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={zoomMin:1,zoomMax:4,startZoom:1,resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:'',preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var i in options){this.options[i]=options[i];}
this.translateZ=this.options.HWCompositing&&utils.hasPerspective?' translateZ(0)':'';this.options.useTransition=utils.hasTransition&&this.options.useTransition;this.options.useTransform=utils.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?'vertical':this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=='vertical'?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=='horizontal'?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=='string'?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap='tap';}
if(this.options.shrinkScrollbars=='scale'){this.options.useTransition=false;}
this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this.scale=Math.min(Math.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax);this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();}
eIScroll.prototype={version:'5.1.3',_init:function(){this._initEvents();if(this.options.zoom){this._initZoom();}
if(this.options.scrollbars||this.options.indicators){this._initIndicators();}
if(this.options.mouseWheel){this._initWheel();}
if(this.options.snap){this._initSnap();}
if(this.options.keyBindings){this._initKeys();}},destroy:function(){this._initEvents(true);this._execEvent('destroy');},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition){return;}
this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent('scrollEnd');}},_start:function(e){if(utils.eventType[e.type]!=1){if(e.button!==0){return;}}
if(!this.enabled||(this.initiated&&utils.eventType[e.type]!==this.initiated)){return;}
if(this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}
var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=utils.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this._execEvent('scrollEnd');}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent('scrollEnd');}
this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=point.pageX;this.pointY=point.pageY;this._execEvent('beforeScrollStart');},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault){e.preventDefault();}
var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX;this.pointY=point.pageY;this.distX+=deltaX;this.distY+=deltaY;absDistX=Math.abs(this.distX);absDistY=Math.abs(this.distY);if(timestamp-this.endTime>300&&(absDistX<10&&absDistY<10)){return;}
if(!this.directionLocked&&!this.options.freeScroll){if(absDistX>absDistY+this.options.directionLockThreshold){this.directionLocked='h';}else if(absDistY>=absDistX+this.options.directionLockThreshold){this.directionLocked='v';}else{this.directionLocked='n';}}
if(this.directionLocked=='h'){if(this.options.eventPassthrough=='vertical'){e.preventDefault();}else if(this.options.eventPassthrough=='horizontal'){this.initiated=false;return;}
deltaY=0;}else if(this.directionLocked=='v'){if(this.options.eventPassthrough=='horizontal'){e.preventDefault();}else if(this.options.eventPassthrough=='vertical'){this.initiated=false;return;}
deltaX=0;}
deltaX=this.hasHorizontalScroll?deltaX:0;deltaY=this.hasVerticalScroll?deltaY:0;newX=this.x+deltaX;newY=this.y+deltaY;if(newX>0||newX<this.maxScrollX){newX=this.options.bounce?this.x+deltaX / 3:newX>0?0:this.maxScrollX;}
if(newY>0||newY<this.maxScrollY){newY=this.options.bounce?this.y+deltaY / 3:newY>0?0:this.maxScrollY;}
this.directionX=deltaX>0?-1:deltaX<0?1:0;this.directionY=deltaY>0?-1:deltaY<0?1:0;if(!this.moved){this._execEvent('scrollStart');}
this.moved=true;this._translate(newX,newY);if(timestamp-this.startTime>300){this.startTime=timestamp;this.startX=this.x;this.startY=this.y;}},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}
var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing='';this.isInTransition=0;this.initiated=0;this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime)){return;}
this.scrollTo(newX,newY);if(!this.moved){if(this.options.tap){utils.tap(e,this.options.tap);}
if(this.options.click){utils.click(e);}
this._execEvent('scrollCancel');return;}
if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent('flick');return;}
if(this.options.momentum&&duration<300){momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0};momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0};newX=momentumX.destination;newY=momentumY.destination;time=Math.max(momentumX.duration,momentumY.duration);this.isInTransition=1;}
if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap;time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1000),Math.min(Math.abs(newY-snap.y),1000)),300);newX=snap.x;newY=snap.y;this.directionX=0;this.directionY=0;easing=this.options.bounceEasing;}
if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY){easing=utils.ease.quadratic;}
this.scrollTo(newX,newY,time,easing);return;}
this._execEvent('scrollEnd');},_resize:function(){var that=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){that.refresh();},this.options.resizePolling);},resetPosition:function(time){var x=this.x,y=this.y;time=time||0;if(!this.hasHorizontalScroll||this.x>0){x=0;}else if(this.x<this.maxScrollX){x=this.maxScrollX;}
if(!this.hasVerticalScroll||this.y>0){y=0;}else if(this.y<this.maxScrollY){y=this.maxScrollY;}
if(x==this.x&&y==this.y){return false;}
this.scrollTo(x,y,time,this.options.bounceEasing);return true;},disable:function(){this.enabled=false;},enable:function(){this.enabled=true;},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=Math.round(this.scroller.offsetWidth*this.scale);this.scrollerHeight=Math.round(this.scroller.offsetHeight*this.scale);this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth;}
if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight;}
this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=utils.offset(this.wrapper);this._execEvent('refresh');this.resetPosition();},on:function(type,fn){if(!this._events[type]){this._events[type]=[];}
this._events[type].push(fn);},off:function(type,fn){if(!this._events[type]){return;}
var index=this._events[type].indexOf(fn);if(index>-1){this._events[type].splice(index,1);}},_execEvent:function(type){if(!this._events[type]){return;}
var i=0,l=this._events[type].length;if(!l){return;}
for(;i<l;i++){this._events[type][i].apply(this,[].slice.call(arguments,1));}},scrollBy:function(x,y,time,easing){x=this.x+x;y=this.y+y;time=time||0;this.scrollTo(x,y,time,easing);},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular;this.isInTransition=this.options.useTransition&&time>0;if(!time||(this.options.useTransition&&easing.style)){this._transitionTimingFunction(easing.style);this._transitionTime(time);this._translate(x,y);}else{this._animate(x,y,time,easing.fn);}},scrollToElement:function(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el){return;}
var pos=utils.offset(el);pos.left-=this.wrapperOffset.left;pos.top-=this.wrapperOffset.top;if(offsetX===true){offsetX=Math.round(el.offsetWidth / 2-this.wrapper.offsetWidth / 2);}
if(offsetY===true){offsetY=Math.round(el.offsetHeight / 2-this.wrapper.offsetHeight / 2);}
pos.left-=offsetX||0;pos.top-=offsetY||0;pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left;pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top;time=time===undefined||time===null||time==='auto'?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time;this.scrollTo(pos.left,pos.top,time,easing);},_transitionTime:function(time){time=time||0;this.scrollerStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.scrollerStyle[utils.style.transitionDuration]='0.001s';}
if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTime(time);}}},_transitionTimingFunction:function(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTimingFunction(easing);}}},_translate:function(x,y){if(this.options.useTransform){this.scrollerStyle[utils.style.transform]='translate('+x+'px,'+y+'px) scale('+this.scale+') '+this.translateZ;}else{x=Math.round(x);y=Math.round(y);this.scrollerStyle.left=x+'px';this.scrollerStyle.top=y+'px';}
this.x=x;this.y=y;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].updatePosition();}}},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,'orientationchange',this);eventType(window,'resize',this);if(this.options.click){eventType(this.wrapper,'click',this,true);}
if(!this.options.disableMouse){eventType(this.wrapper,'mousedown',this);eventType(target,'mousemove',this);eventType(target,'mousecancel',this);eventType(target,'mouseup',this);}
if(utils.hasPointer&&!this.options.disablePointer){eventType(this.wrapper,utils.prefixPointerEvent('pointerdown'),this);eventType(target,utils.prefixPointerEvent('pointermove'),this);eventType(target,utils.prefixPointerEvent('pointercancel'),this);eventType(target,utils.prefixPointerEvent('pointerup'),this);}
if(utils.hasTouch&&!this.options.disableTouch){eventType(this.wrapper,'touchstart',this);eventType(target,'touchmove',this);eventType(target,'touchcancel',this);eventType(target,'touchend',this);}
eventType(this.scroller,'transitionend',this);eventType(this.scroller,'webkitTransitionEnd',this);eventType(this.scroller,'oTransitionEnd',this);eventType(this.scroller,'MSTransitionEnd',this);},getComputedPosition:function(){var matrix=window.getComputedStyle(this.scroller,null),x,y;if(this.options.useTransform){matrix=matrix[utils.style.transform].split(')')[0].split(', ');x=+(matrix[12]||matrix[4]);y=+(matrix[13]||matrix[5]);}else{x=+matrix.left.replace(/[^-\d.]/g,'');y=+matrix.top.replace(/[^-\d.]/g,'');}
return{x:x,y:y};},_initIndicators:function(){var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!='string',indicators=[],indicator;var that=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){indicator={el:createDefaultScrollbar('v',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}
if(this.options.scrollX){indicator={el:createDefaultScrollbar('h',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}}
if(this.options.indicators){indicators=indicators.concat(this.options.indicators);}
for(var i=indicators.length;i--;){this.indicators.push(new Indicator(this,indicators[i]));}
function _indicatorsMap(fn){for(var i=that.indicators.length;i--;){fn.call(that.indicators[i]);}}
if(this.options.fadeScrollbars){this.on('scrollEnd',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollCancel',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollStart',function(){_indicatorsMap(function(){this.fade(1);});});this.on('beforeScrollStart',function(){_indicatorsMap(function(){this.fade(1,true);});});}
this.on('refresh',function(){_indicatorsMap(function(){this.refresh();});});this.on('destroy',function(){_indicatorsMap(function(){this.destroy();});delete this.indicators;});},_initZoom:function(){this.scrollerStyle[utils.style.transformOrigin]='0 0';},_zoomStart:function(e){var c1=Math.abs(e.touches[0].pageX-e.touches[1].pageX),c2=Math.abs(e.touches[0].pageY-e.touches[1].pageY);this.touchesDistanceStart=Math.sqrt(c1*c1+c2*c2);this.startScale=this.scale;this.originX=Math.abs(e.touches[0].pageX+e.touches[1].pageX)/ 2+this.wrapperOffset.left-this.x;this.originY=Math.abs(e.touches[0].pageY+e.touches[1].pageY)/ 2+this.wrapperOffset.top-this.y;this._execEvent('zoomStart');},_zoom:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault){e.preventDefault();}
var c1=Math.abs(e.touches[0].pageX-e.touches[1].pageX),c2=Math.abs(e.touches[0].pageY-e.touches[1].pageY),distance=Math.sqrt(c1*c1+c2*c2),scale=1 / this.touchesDistanceStart*distance*this.startScale,lastScale,x,y;this.scaled=true;if(scale<this.options.zoomMin){scale=0.5*this.options.zoomMin*Math.pow(2.0,scale / this.options.zoomMin);}else if(scale>this.options.zoomMax){scale=2.0*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax / scale);}
lastScale=scale / this.startScale;x=this.originX-this.originX*lastScale+this.startX;y=this.originY-this.originY*lastScale+this.startY;this.scale=scale;this.scrollTo(x,y,0);},_zoomEnd:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault){e.preventDefault();}
var newX,newY,lastScale;this.isInTransition=0;this.initiated=0;if(this.scale>this.options.zoomMax){this.scale=this.options.zoomMax;}else if(this.scale<this.options.zoomMin){this.scale=this.options.zoomMin;}
this.refresh();lastScale=this.scale / this.startScale;newX=this.originX-this.originX*lastScale+this.startX;newY=this.originY-this.originY*lastScale+this.startY;if(newX>0){newX=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;}
if(newY>0){newY=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;}
if(this.x!=newX||this.y!=newY){this.scrollTo(newX,newY,this.options.bounceTime);}
this.scaled=false;this._execEvent('zoomEnd');},zoom:function(scale,x,y,time){if(scale<this.options.zoomMin){scale=this.options.zoomMin;}else if(scale>this.options.zoomMax){scale=this.options.zoomMax;}
if(scale==this.scale){return;}
var relScale=scale / this.scale;x=x===undefined?this.wrapperWidth / 2:x;y=y===undefined?this.wrapperHeight / 2:y;time=time===undefined?300:time;x=x+this.wrapperOffset.left-this.x;y=y+this.wrapperOffset.top-this.y;x=x-x*relScale+this.x;y=y-y*relScale+this.y;this.scale=scale;this.refresh();if(x>0){x=0;}else if(x<this.maxScrollX){x=this.maxScrollX;}
if(y>0){y=0;}else if(y<this.maxScrollY){y=this.maxScrollY;}
this.scrollTo(x,y,time);},_wheelZoom:function(e){var wheelDeltaY,deltaScale,that=this;clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){that._execEvent('zoomEnd');},400);if('deltaX'in e){wheelDeltaY=-e.deltaY / Math.abs(e.deltaY);}else if('wheelDeltaX'in e){wheelDeltaY=e.wheelDeltaY / Math.abs(e.wheelDeltaY);}else if('wheelDelta'in e){wheelDeltaY=e.wheelDelta / Math.abs(e.wheelDelta);}else if('detail'in e){wheelDeltaY=-e.detail / Math.abs(e.wheelDelta);}else{return;}
deltaScale=this.scale+wheelDeltaY / 5;this.zoom(deltaScale,e.pageX,e.pageY,0);},_initWheel:function(){utils.addEvent(this.wrapper,'wheel',this);utils.addEvent(this.wrapper,'mousewheel',this);utils.addEvent(this.wrapper,'DOMMouseScroll',this);this.on('destroy',function(){utils.removeEvent(this.wrapper,'wheel',this);utils.removeEvent(this.wrapper,'mousewheel',this);utils.removeEvent(this.wrapper,'DOMMouseScroll',this);});},_wheel:function(e){if(!this.enabled){return;}
e.preventDefault();e.stopPropagation();var wheelDeltaX,wheelDeltaY,newX,newY,that=this;if(this.wheelTimeout===undefined){that._execEvent('scrollStart');}
clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){that._execEvent('scrollEnd');that.wheelTimeout=undefined;},400);if('deltaX'in e){if(e.deltaMode===1){wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed;wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed;}else{wheelDeltaX=-e.deltaX;wheelDeltaY=-e.deltaY;}}else if('wheelDeltaX'in e){wheelDeltaX=e.wheelDeltaX / 120*this.options.mouseWheelSpeed;wheelDeltaY=e.wheelDeltaY / 120*this.options.mouseWheelSpeed;}else if('wheelDelta'in e){wheelDeltaX=wheelDeltaY=e.wheelDelta / 120*this.options.mouseWheelSpeed;}else if('detail'in e){wheelDeltaX=wheelDeltaY=-e.detail / 3*this.options.mouseWheelSpeed;}else{return;}
wheelDeltaX*=this.options.invertWheelDirection;wheelDeltaY*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){wheelDeltaX=wheelDeltaY;wheelDeltaY=0;}
if(this.options.snap){newX=this.currentPage.pageX;newY=this.currentPage.pageY;if(wheelDeltaX>0){newX--;}else if(wheelDeltaX<0){newX++;}
if(wheelDeltaY>0){newY--;}else if(wheelDeltaY<0){newY++;}
this.goToPage(newX,newY);return;}
newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0);newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0);if(newX>0){newX=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;}
if(newY>0){newY=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;}
this.scrollTo(newX,newY,0);},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=='string'){this.options.snap=this.scroller.querySelectorAll(this.options.snap);}
this.on('refresh',function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return;}
if(this.options.snap===true){cx=Math.round(stepX / 2);cy=Math.round(stepY / 2);while(x>-this.scrollerWidth){this.pages[i]=[];l=0;y=0;while(y>-this.scrollerHeight){this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy};y-=stepY;l++;}
x-=stepX;i++;}}else{el=this.options.snap;l=el.length;n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft){m=0;n++;}
if(!this.pages[m]){this.pages[m]=[];}
x=Math.max(-el[i].offsetLeft,this.maxScrollX);y=Math.max(-el[i].offsetTop,this.maxScrollY);cx=x-Math.round(el[i].offsetWidth / 2);cy=y-Math.round(el[i].offsetHeight / 2);this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy};if(x>this.maxScrollX){m++;}}}
this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold;}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold);}});this.on('flick',function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time);});},_nearestSnap:function(x,y){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0};}
var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY){return this.currentPage;}
if(x>0){x=0;}else if(x<this.maxScrollX){x=this.maxScrollX;}
if(y>0){y=0;}else if(y<this.maxScrollY){y=this.maxScrollY;}
for(;i<l;i++){if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break;}}
l=this.pages[i].length;for(;m<l;m++){if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break;}}
if(i==this.currentPage.pageX){i+=this.directionX;if(i<0){i=0;}else if(i>=this.pages.length){i=this.pages.length-1;}
x=this.pages[i][0].x;}
if(m==this.currentPage.pageY){m+=this.directionY;if(m<0){m=0;}else if(m>=this.pages[0].length){m=this.pages[0].length-1;}
y=this.pages[0][m].y;}
return{x:x,y:y,pageX:i,pageY:m};},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing;if(x>=this.pages.length){x=this.pages.length-1;}else if(x<0){x=0;}
if(y>=this.pages[x].length){y=this.pages[x].length-1;}else if(y<0){y=0;}
var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1000),Math.min(Math.abs(posY-this.y),1000)),300):time;this.currentPage={x:posX,y:posY,pageX:x,pageY:y};this.scrollTo(posX,posY,time,easing);},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++;if(x>=this.pages.length&&this.hasVerticalScroll){x=0;y++;}
this.goToPage(x,y,time,easing);},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--;if(x<0&&this.hasVerticalScroll){x=0;y--;}
this.goToPage(x,y,time,easing);},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i;if(typeof this.options.keyBindings=='object'){for(i in this.options.keyBindings){if(typeof this.options.keyBindings[i]=='string'){this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0);}}}else{this.options.keyBindings={};}
for(i in keys){this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];}
utils.addEvent(window,'keydown',this);this.on('destroy',function(){utils.removeEvent(window,'keydown',this);});},_key:function(e){if(!this.enabled){return;}
var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=0.250,pos;if(this.options.useTransition&&this.isInTransition){pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this.isInTransition=false;}
this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX+=snap?1:this.wrapperWidth;}else{newY+=snap?1:this.wrapperHeight;}
break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX-=snap?1:this.wrapperWidth;}else{newY-=snap?1:this.wrapperHeight;}
break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX;newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0;newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return;}
if(snap){this.goToPage(newX,newY);return;}
if(newX>0){newX=0;this.keyAcceleration=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;this.keyAcceleration=0;}
if(newY>0){newY=0;this.keyAcceleration=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;this.keyAcceleration=0;}
this.scrollTo(newX,newY,0);this.keyTime=now;},_animate:function(destX,destY,duration,easingFn){var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=false;that._translate(destX,destY);if(!that.resetPosition(that.options.bounceTime)){that._execEvent('scrollEnd');}
return;}
now=(now-startTime)/ duration;easing=easingFn(now);newX=(destX-startX)*easing+startX;newY=(destY-startY)*easing+startY;that._translate(newX,newY);if(that.isAnimating){rAF(step);}}
this.isAnimating=true;step();},handleEvent:function(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);if(this.options.zoom&&e.touches&&e.touches.length>1){this._zoomStart(e);}
break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':if(this.options.zoom&&e.touches&&e.touches[1]){this._zoom(e);return;}
this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':if(this.scaled){this._zoomEnd(e);return;}
this._end(e);break;case'orientationchange':case'resize':this._resize();break;case'transitionend':case'webkitTransitionEnd':case'oTransitionEnd':case'MSTransitionEnd':this._transitionEnd(e);break;case'wheel':case'DOMMouseScroll':case'mousewheel':if(this.options.wheelAction=='zoom'){this._wheelZoom(e);return;}
this._wheel(e);break;case'keydown':this._key(e);break;}}};function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement('div'),indicator=document.createElement('div');if(type===true){scrollbar.style.cssText='position:absolute;z-index:9999';indicator.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';}
indicator.className='eIScrollIndicator';if(direction=='h'){if(type===true){scrollbar.style.cssText+=';height:7px;left:2px;right:2px;bottom:0';indicator.style.height='100%';}
scrollbar.className='eIScrollHorizontalScrollbar';}else{if(type===true){scrollbar.style.cssText+=';width:7px;bottom:2px;top:2px;right:1px';indicator.style.width='100%';}
scrollbar.className='eIScrollVerticalScrollbar';}
scrollbar.style.cssText+=';overflow:hidden';if(!interactive){scrollbar.style.pointerEvents='none';}
scrollbar.appendChild(indicator);return scrollbar;}
function Indicator(scroller,options){this.wrapper=typeof options.el=='string'?document.querySelector(options.el):options.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=scroller;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var i in options){this.options[i]=options[i];}
this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,'touchstart',this);utils.addEvent(window,'touchend',this);}
if(!this.options.disablePointer){utils.addEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.addEvent(window,utils.prefixPointerEvent('pointerup'),this);}
if(!this.options.disableMouse){utils.addEvent(this.indicator,'mousedown',this);utils.addEvent(window,'mouseup',this);}}
if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;this.wrapperStyle[utils.style.transitionDuration]=utils.isBadAndroid?'0.001s':'0ms';this.wrapperStyle.opacity='0';}}
Indicator.prototype={handleEvent:function(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;}},destroy:function(){if(this.options.interactive){utils.removeEvent(this.indicator,'touchstart',this);utils.removeEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.removeEvent(this.indicator,'mousedown',this);utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);utils.removeEvent(window,'touchend',this);utils.removeEvent(window,utils.prefixPointerEvent('pointerup'),this);utils.removeEvent(window,'mouseup',this);}
if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper);}},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=point.pageX;this.lastPointY=point.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(window,'touchmove',this);}
if(!this.options.disablePointer){utils.addEvent(window,utils.prefixPointerEvent('pointermove'),this);}
if(!this.options.disableMouse){utils.addEvent(window,'mousemove',this);}
this.scroller._execEvent('beforeScrollStart');},_move:function(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();if(!this.moved){this.scroller._execEvent('scrollStart');}
this.moved=true;deltaX=point.pageX-this.lastPointX;this.lastPointX=point.pageX;deltaY=point.pageY-this.lastPointY;this.lastPointY=point.pageY;newX=this.x+deltaX;newY=this.y+deltaY;this._pos(newX,newY);e.preventDefault();e.stopPropagation();},_end:function(e){if(!this.initiated){return;}
this.initiated=false;e.preventDefault();e.stopPropagation();utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1000),Math.min(Math.abs(this.scroller.y-snap.y),1000)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=snap;this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing);}}
if(this.moved){this.scroller._execEvent('scrollEnd');}},transitionTime:function(time){time=time||0;this.indicatorStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.indicatorStyle[utils.style.transitionDuration]='0.001s';}},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing;},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?'block':'none';}else if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?'block':'none';}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?'block':'none';}
if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,'eIScrollBothScrollbars');utils.removeClass(this.wrapper,'eIScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='8px';}else{this.wrapper.style.bottom='8px';}}}else{utils.removeClass(this.wrapper,'eIScrollBothScrollbars');utils.addClass(this.wrapper,'eIScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='2px';}else{this.wrapper.style.bottom='2px';}}}
var r=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth /(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+'px';}else{this.indicatorWidth=this.indicator.clientWidth;}
this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=='clip'){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8;}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;}
this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX / this.scroller.maxScrollX));}
if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight /(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+'px';}else{this.indicatorHeight=this.indicator.clientHeight;}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=='clip'){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8;}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY / this.scroller.maxScrollY));}
this.updatePosition();},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(x<this.minBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth+x,8);this.indicatorStyle.width=this.width+'px';}
x=this.minBoundaryX;}else if(x>this.maxBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8);this.indicatorStyle.width=this.width+'px';x=this.maxPosX+this.indicatorWidth-this.width;}else{x=this.maxBoundaryX;}}else if(this.options.shrink=='scale'&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+'px';}
if(y<this.minBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight+y*3,8);this.indicatorStyle.height=this.height+'px';}
y=this.minBoundaryY;}else if(y>this.maxBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+'px';y=this.maxPosY+this.indicatorHeight-this.height;}else{y=this.maxBoundaryY;}}else if(this.options.shrink=='scale'&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+'px';}}
this.x=x;this.y=y;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.scroller.translateZ;}else{this.indicatorStyle.left=x+'px';this.indicatorStyle.top=y+'px';}},_pos:function(x,y){if(x<0){x=0;}else if(x>this.maxPosX){x=this.maxPosX;}
if(y<0){y=0;}else if(y>this.maxPosY){y=this.maxPosY;}
x=this.options.listenX?Math.round(x / this.sizeRatioX):this.scroller.x;y=this.options.listenY?Math.round(y / this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(x,y);},fade:function(val,hold){if(hold&&!this.visible){return;}
clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?'1':'0';this.wrapperStyle[utils.style.transitionDuration]=time+'ms';this.fadeTimeout=setTimeout((function(val){this.wrapperStyle.opacity=val;this.visible=+val;}).bind(this,val),delay);}};eIScroll.utils=utils;if(typeof module!='undefined'&&module.exports){module.exports=eIScroll;}else{window.eIScroll=eIScroll;}})(window,document,Math);
;
var ed_form_builder={submit_callback:'survey_form_submitted',form_element:$(),iscroll:{},json_data:{},thank_you_element:$(),_is_target_email:false,createForm:function(element,form_holder,additional_data){ed_form_builder._is_target_email=window.location.href.indexOf('target_email')!=-1;if(element===undefined||form_holder===undefined||additional_data===undefined){return;}
var self=this;var additional_params=additional_data.is_mobile_element?element:element.additional_params;var json=additional_params;this.json_data=additional_params;var form=this._createHTMLElement('form');var title_el=$();var message=$();var defaultThanks=window.initer.getlangword('survey_success_submit')+'.<br>'+window.initer.getlangword('survey_thank_you')+'!';var thanksMessage=json.thank_you_message?json.thank_you_message:defaultThanks;var defaultClose=this._isMobilePlayer()?'':'<div class="clearsubmit_row"><div class="submit">'+window.initer.getlangword('survey_close')+'</div></div>';var thank_you_div='<div class="thank_you_wrapper">'
+'<div class="content">'
+'<div class="message">'+thanksMessage+'</div>'
+defaultClose
+'<div class=""></div>'
+'</div>'
+'</div>';if(this._isMobilePlayer()){thank_you_div='';}
this.thank_you_element=$(thank_you_div);var submit=this._createHTMLElement('submit');submit.data('element_id',element.id);var add_txt='';if(window.edgl.eddevp.indexOf('*survey-close-button*')>-1){var cancel_survey=this._createHTMLElement('cancel_button');form.append(cancel_survey);}
submit.text(json.submit!==undefined&&json.submit!==''?json.submit:window.initer.getlangword('survey_send_form'));submit=$('<div class="submit_row"></div>').append(submit);if(json.title!==undefined){title_el=this._createHTMLElement('title').text(json.title);}
if(json.message!==undefined){message=this._createHTMLElement('message').html(json.message);}
var elements=[];if(window.edgl.eddevp.indexOf('*hide_gdpr*')==-1){if(!json.elements.findByProp('id','ED-EU-GDPR'))
{json.elements.push({default_value:"",deleted:0,group:"Group 1001",help_text:"",id:"ED-EU-GDPR",label:window.initer.getlangword('gdpr_checkbox'),private_id:"checkbox_1001",required:1,type:"checkbox"})}}
$.each(json.elements,function(i,el){self._createFormElement(el,elements);});form.append(title_el).append(message);$.each(elements,function(i,el){form.append($(el));});form.append(submit);var clear_div=$('<div class="clear"></div>');submit.append(clear_div);clear_div.append('&nbsp;');this.form_element=form;var iscroll_element=$('<div class="ed_popup_survey_iscroll"></div>');$(document).off('edSurveyPopupRender',ed_form_builder._onPopupRender).on('edSurveyPopupRender',ed_form_builder._onPopupRender);$(document).off('edSurveyPopupShow',ed_form_builder._onPopupShow).on('edSurveyPopupShow',ed_form_builder._onPopupShow);iscroll_element.append(form);var iscroll_wrapper=$('<div></div>').append(iscroll_element);iscroll_wrapper.append(this.thank_you_element);this._setGeneralProperties(element,json,form,title_el,submit);this._setSubmitButtonClick(submit.find('.submit'),additional_data);var htmlcss=$('html').hasClass('popup_edition');var articlecss=$('article').hasClass('article_fullscreen');if(htmlcss&&articlecss){try{var bgcolor=(/^rgb/gi.test(additional_params.background_color)?'':'#')+additional_params.background_color;$('body').css({'background-color':bgcolor});}catch(e){}}
return iscroll_wrapper;},_createFormElement:function(el,elements){if(el.deleted!=1){var form_el_wrapper=this._createHTMLElement('row');form_el_wrapper.addClass('form_element_'+el.type);if(el.label!==undefined&&el.type!=='label'&&el.type!=='separator'){var el_label=this._createHTMLElement('label').text(el.label);}
var form_el=this._createHTMLElement(el.type);this._setFormElementProperties(form_el,el,el_label);var invalid_error=$('<div class="invalid_error">'
+'<div class="email_error">'+window.initer.getlangword('survey_valid_email')
+'.</div>'
+'<div class="phone_error">'+window.initer.getlangword('survey_valid_phone')
+'.</div><div class="number_error">'+window.initer.getlangword('survey_valid_number')
+'.</div></div>');var required_error=$('<div class="required_error">'
+window.initer.getlangword('survey_valid_required')+'.</div>');if(el.type=='checkbox'||el.type=='radio'){form_el_wrapper.append(form_el).append(el_label).append(invalid_error).append(required_error);}else{form_el_wrapper.append(el_label).append(form_el).append(invalid_error).append(required_error);}
form_el_wrapper.attr('data-error',false);elements.push(form_el_wrapper);}},_createHTMLElement:function(type){var result=$();switch(type){case'textarea':{result=$('<textarea rows="4"></textarea>');break}
case'text':{result=$('<input type="text">');break};case'number':{result=$('<input type="text" data-type="number">');break};case'email':{result=$('<input type="text" data-type="email">');break};case'checkbox':{result=$('<input type="checkbox">');break};case'radio':{result=$('<input type="radio">');break;}
case'tel':{result=$('<input type="text" data-type="tel">');break};case'label':{result=$('<label></label>');break};case'separator':{result=$();break};case'row':{result=$('<div class="form_row"></div>');break;}
case'message':{result=$('<div class="message"></div>');break;}
case'title':{result=$('<div class="title"></div>');break;}
case'form':{result=$('<form class="survey_form"></form>');break;}
case'submit':{result=$('<div class="submit"></div>');break;}
case'cancel_button':{result=$('<div class="ed_popupclose_button" style="right: 0px;" onclick="window.parent.introPopup.driveAwayPopup();" title="Close"></div>');break;}};return result;},_setGeneralProperties:function(element_data,json,div,title_el,submit_el){if(json.font_color!==undefined){div.css({'color':(/^rgb/gi.test(json.font_color)?'':'#')+json.font_color});}
var background_color='#'+json.submit_color;var title_color='#'+json.title_color;title_el.css('color',title_color);submit_el.find('.submit').css({'background-color':background_color});this.thank_you_element.find('.message').css({'color':title_color});this.thank_you_element.find('.submit').css({'background-color':background_color});if(this._isMobilePlayer()){var root=this._getRootFormElement(submit_el);root.css('background-color','#'+json.background_color);}
if(element_data.template!==undefined){div.addClass(element_data.template);}},_setFormElementProperties:function(el,props,label){if(props.type=='separator'){return;}
if(props.type=='label'){this._setLabelElement(el,props);return;}
if(props.type=='checkbox'){label.attr('for',props.private_id);}
if(props.default_value!==undefined&&props.default_value!==''){if(props.type=='checkbox'){el.prop('checked',props.default_value==1||props.default_value=='true'||props.default_value=='yes'?true:false||props.default_value=='checked');}else{el.val(props.default_value);}}
if(props.help_text!==undefined&&props.help_text!==''){el.attr('placeholder',props.help_text);}
if(props.private_id!==undefined&&props.private_id!==''){el.attr('name',props.private_id);el.attr('id',props.private_id);}
if(props.required){el.prop('required',true);label.html('* '+label.text());}
if(props.type=='radio'){this._setRadioElement(el,props,label);}
if(props.type=="number"){if(props.check_min){if(props.min==0||!isNaN(props.min)){el.attr('data-min',props.min);}}
if(props.check_max){if(props.max==0||!isNaN(props.max)){el.attr('data-max',props.max);}}}},_setRadioElement:function(el,props,label){el.attr('name',props.group);label.attr('for',props.private_id);label.html(props.default_value);if(props.checked){el.prop('checked',true);}},_setLabelElement:function(el,props){el.html(props.label);},_setSubmitButtonClick:function(button,additional_data){var self=this;var is_mobile_element=additional_data.is_mobile_element;button.on('click',{button:button,is_mobile_element:is_mobile_element},this._onSubmitForm);button.on('mousedown',function(e){e.preventDefault();});button.parents('form').on('submit',{button:button,is_mobile_element:is_mobile_element},this._onSubmitForm);this.thank_you_element.find('.submit').on('click',this._onCloseBtnClick);},_onSubmitForm:function(e)
{var curTime=ef.getTickCount();if(curTime-ed_form_builder.lastClicked<500){return}
ed_form_builder.lastClicked=curTime;e.preventDefault();var self=ed_form_builder;var button=e.data.button;var type=e.data.is_mobile_element?'mobile':'normal';var form_data=button.parents('form').serialize();if(form_data.length==0){return;}
if(self._anyFormErrors(button.parents('form'))){if(window.tlbr){window.tlbr.showToastNotification(window.initer.getlangword('survey_submit_err'),'red');}
return;}
form_data=self._convertToJson(form_data,button.parents('form'));var post_data={data:form_data,element_id:button.data('element_id'),type:type,dc_type:1}
if(window.eddata){var url=window.eddata.appearance.data_collection_rq_url;}else{var url=self.json_data.data_collection_rq_url;}
if(url===undefined){window.tlbr.showToastNotification(window.initer.getlangword('survey_submit_err'),'red');if(!self._isMobilePlayer()){ed_hide_popup();}
return false;}
var root_element=self._getRootFormElement(button);$.ajax({type:'POST',url:url,data:post_data,success:function(data){self._handleSuccessfulSubmit(root_element);},dataType:'json'});},_getTargetEmail:function(){var email,email_index;if(!ed_form_builder._is_target_email){return;}
email_index=window.location.href.indexOf('target_email=');email=window.location.href.substring(email_index+13);return email;},_handleSuccessfulSubmit:function(root_element)
{var self=this;var form_element=root_element.find('form');var thank_you_element=root_element.find('.thank_you_wrapper');if(window.edgl.eddevp.indexOf('*fb_pixel_natureta*')>-1){try{fbq('track','CompleteRegistration');}catch(e){}}
handlePopupEditionSubmit();function handlePopupEditionSubmit()
{if(!initer.isPopupEdition())
{{form_element.transition({opacity:0},300,'easeOutQuad',function()
{root_element.addClass('survey_submitted');self._hideThankYou();thank_you_element.css('display','block');thank_you_element.transition({opacity:1},300,'easeOutQuad');});}
return}
if(window.parent&&typeof window.parent.hub=='object'&&typeof window.parent.hub.onSurveyClosed=='function')
{window.parent.hub.onSurveyClosed();return}
introPopup.writeCookie();window.parent.introPopup.driveAwayAndShowThankYou();}},_hideThankYou:function(){$.each($('.ed-popup-survey.ed-mobile-survey '),function(){if($(this).find('.survey_submitted').length){$(this).find('.thank_you_wrapper').css('display','none');}});},_getRootFormElement:function(element){if(element.hasClass('ed_popup_survey_iscroll')){return element.parent();}
return element.parents('.ed_popup_survey_iscroll').parent();},_onCloseBtnClick:function(){if(!ed_form_builder._isMobilePlayer()){ed_hide_popup();}
else{var btn=$(this);var thank_you_wrapper=btn.parents('.thank_you_wrapper');thank_you_wrapper.transition({opacity:0},300,'easeOutQuad',function(){thank_you_wrapper.css('display','none');});}},_anyFormErrors:function(form){var form_elements=form.find('input, textarea');var errors=false;var self=this;$.each(form_elements,function(i,el){el=$(el);el.parent().attr('data-error','false');if(el.attr('required')&&!self._testRequired(el)){errors=true;el.parent().attr('data-error','required');}
if(el.attr('data-type')=='number'&&!self._testNumberField(el)){errors=true;el.parent().attr('data-error','invalid');}
if(el.attr('data-type')=='email'&&!self._testEmailField(el)){errors=true;el.parent().attr('data-error','invalid');}
if(el.attr('data-type')=='tel'&&!self._testPhoneField(el)){errors=true;el.parent().attr('data-error','invalid');}
if(el.attr('type')=='checkbox'&&el.attr('required')&&!el.is(':checked'))
{errors=true;el.parent().attr('data-error','invalid');}});return errors;},_testPhoneField:function(input){if(input.val()==''){return true;}
var regex=/^[ 0-9()+/-]{6,}$/g;return input.val().match(regex)!=null;},_testNumberField:function(input){if(input.val()==''){return true;}
if(input.attr('data-min')!==undefined){if(parseInt(input.val())<input.attr('data-min')){return false;}}
if(input.attr('data-max')!==undefined){if(parseInt(input.val())>input.attr('data-max')){return false;}}
return input.val().match(/^[0-9]{1,}$/g)!=null;},_testEmailField:function(input){var v=input.val();if(v==''){return true;}
if(v.length<4){return false;}
if(v.indexOf('.')==-1||v.indexOf('@')==-1){return false;}
if(v.lastIndexOf('.')<v.lastIndexOf('@')){return false;}
if(v.lastIndexOf('.')==v.length-1){return false;}
if(v.indexOf(' ')>-1){return false;}
return true;},_testRequired:function(el){return el.val()!='';},_convertToJson:function(form_data,form){if(form_data==''||form_data===undefined){return JSON.stringify([]);}
var result=[];var inputs=form.find('input, textarea');var values={};$.each(inputs,function(i,input){var val=$(input).val();if($(input).attr('type')=='checkbox'){if($(input).prop('checked')){val='Yes';}else{val='No';}}else if($(input).attr('type')=='radio'){if(form.find('[name="'+$(input).attr('name')+'"]').is(':checked')){val=form.find('[name="'+$(input).attr('name')+'"]:checked').val();}else{val='n/a';}}
if(val==''){val='n/a';}
values[$(input).attr('name')]=val;});if(ed_form_builder._is_target_email){values['xxxx_EMAIL_xxxx']=ed_form_builder._getTargetEmail();}
$.each(values,function(i,obj){var new_obj={};new_obj[i]=obj;result.push(new_obj);});var result=JSON.stringify(result);return result;},_onPopupRender:function(){var color='#'+ed_form_builder.json_data.background_color;$('.ed_popup_frame_holder.ed-popup-survey').css({'background-color':color});},_isMobilePlayer:function(){return(initer.shouldLoadPlayer==initer.optionLoadPlayerMobile);},_destroyIscroll:function(){if(!ed_form_builder._isMobilePlayer()){this.iscroll.destroy();}},_onPopupShow:function(){if(ed_form_builder._isMobilePlayer()){return;}
if(!$('.ed_popup_survey_iscroll').length){return;}
ed_form_builder.iscroll=new eIScroll('.ed_popup_survey_iscroll',{mouseWheel:true,scrollbars:true,click:true,tap:true,disableMouse:true,interactiveScrollbars:true,wheelDuration:200});ed_form_builder.iscroll.refresh();},};
;
LOADED_SOUNDCLOUD_STREAMS={};var ed_soundcloud={_soundscript_sdk_location:'https://connect.soundcloud.com/sdk/sdk-3.1.2.js',_soundscript_client_id:'0b9dd28a02f8d9f268563984e3af1208',_soundscript_loaded:false,_soundscript_interval:false,_elements_to_initialize:[],clearIntervalAndElementQueue:function(e){var self=e.data;self._elements_to_initialize=[];self._clearScriptCheckingInterval();},_getSoundCloudScript:function(){var self=this;$.getScript(this._soundscript_sdk_location).done(function(script,textStatus){}).fail(function(jqxhr,settings,exception){edexcept('soundCloud','sound cloud SDK script failed to load.');self._clearScriptCheckingInterval();});this._setScriptCheckingInterval();},_setScriptCheckingInterval:function(){this._soundscript_interval=setInterval($.proxy(this._scriptCheckingInterval,this),100);},_scriptCheckingInterval:function(){var self=this;if(window.SC!==undefined){this._clearScriptCheckingInterval();this._soundscript_loaded=true;$.each(this._elements_to_initialize,function(){self._intializeSoundCloud(this);});}},_clearScriptCheckingInterval:function(){clearInterval(this._soundscript_interval);this._soundscript_interval=false;},_embedSoundCloud:function(currobj){if(!this._soundscript_loaded&&this._soundscript_interval==false){this._getSoundCloudScript();}
this._intializeSoundCloud(currobj);},_intializeSoundCloud:function(currobj){var el,id;var self=this;if(this._soundscript_loaded){(function(currobj)
{SC.initialize({client_id:self._soundscript_client_id});SC.resolve(currobj.soundcloud_track_id).then(function(track)
{var holder=self._getSoundCloudElement(currobj);player=self._createPlayerDiv(track.id,track.title,track.artwork_url,track.permalink_url,track.user.username);player.appendTo(holder);var stream=LOADED_SOUNDCLOUD_STREAMS[track.id];if(!stream)
{(function(player,holder,stream,track){SC.stream('/tracks/'+track.id,{useHTML5Audio:true,preferFlash:false}).then(function(stream)
{LOADED_SOUNDCLOUD_STREAMS[track.id]=stream;player.data('stream',stream);self._prepareStreams();stream.on('time',ed_soundcloud._onStreamTimeChange);stream.on('state-change',ed_soundcloud._onStreamStateChange);}).catch(function(reason){player.addClass('error');player.find('.title').text('ERROR: '+reason.message)});})(player,holder,stream,track);}
else
{jtrace('reuse track.id',track.id);player.data('stream',stream);}});})(currobj);}
else{this._elements_to_initialize.push($.extend({},currobj));}},_createPlayerDiv:function(trackId,title,artworkUrl,permalink_url,author)
{function eventPreventer(e){event.preventDefault();event.returnValue=false;return false;}
var result=$('<div class="ed_soundcloud_player" data-play-state="stopped">'+'   <div class="title">'+'       <div class="soundcloud_logo"></div>'+'       <div class="soundcloud_author">'+author+'</div>'+'       <div class="song_title"><strong>'+title+'</strong></div>'+'   </div>'+'   <a class="song_link" target="_blank" href="'+permalink_url+'">Get on soundcloud.com</a>'+'   <div class="timeline">'+'       <div class="hemisphere_holder left">'+'           <div class="hemisphere"></div>'+'       </div>'+'       <div class="hemisphere_holder right">'+'           <div class="hemisphere"></div>'+'       </div>'+'   </div>'+'</div>');result.css({'background-image':'url('+artworkUrl+')'});result.data('track_id',trackId);var button=$('<div class="play_button">'+'   <i class="play"></i>'+'   <i class="pause"></i>'+'</div>');button.find('.pause').css({rotate:0});var song_toggler=result.find('.title');var song_link=result.find('.song_link');if(window.initer.isTouchDevice){song_toggler.on('touchstart',eventPreventer);song_toggler.on('touchmove',eventPreventer);song_toggler.on('touchend',{song_link:song_link},this._toggleSongLink);}
else{song_toggler.on('mousedown',eventPreventer);song_toggler.on('mousemove',eventPreventer);song_toggler.on('mouseup',{song_link:song_link},this._toggleSongLink);}
if(window.initer.isTouchDevice){button.on('touchstart',eventPreventer);button.on('touchmove',eventPreventer);button.on('touchend',this,this._btnPlayClicked);}
else{button.on('mousedown',eventPreventer);button.on('mousemove',eventPreventer);button.on('mouseup',this,this._btnPlayClicked);}
result.append(button);return result;},_toggleSongLink:function(e){e.preventDefault();e.returnValue=false;var song_link=e.data.song_link;if(song_link.attr('data-visible')=='true'){song_link.transit({opacity:0},200,'easeOutQuad',function(){song_link.attr('data-visible',false);});}
else{song_link.css('opacity',0);song_link.attr('data-visible','true');song_link.transit({opacity:1},200,'easeOutQuad');}
return false;},_btnPlayClicked:function(e)
{e.preventDefault();e.returnValue=false;var player=$(this).parents('.ed_soundcloud_player');var stream=player.data('stream');if(!stream){return false}
if(!stream.isPlaying())
{if(stream.controller&&stream.controller._state=='ended')
{stream.seek(0);}
stream.play();}
else
{stream.pause();}
return false;},getPlayerDiv:function(trackId)
{return $('.ed_soundcloud_player').dataFilter('track_id',trackId);},_onStreamTimeChange:function()
{var stream=this;if(!stream.edInit){return}
var progress=stream.controller._currentPosition/stream.controller._duration;var div=ed_soundcloud.getPlayerDiv(stream.options.soundId);if(!div.length){stream.pause()}
var hemiL=div.find('.left .hemisphere');var hemiR=div.find('.right .hemisphere');hemiR.css({rotate:Math.max(0.02,Math.min(progress,0.5))/0.5*180+'deg'});hemiL.css({rotate:Math.max(0,progress-0.5)/0.5*180+'deg'});},_onStreamStateChange:function()
{var stream=this;var div=ed_soundcloud.getPlayerDiv(stream.options.soundId);var btnPlay=div.find('.play_button .play');var btnPause=div.find('.play_button .pause');var timeline=div.find('.timeline');var curState=div.attr('data-play-state');if(stream.controller._state=='error')
{div.addClass('error');var msg=(stream.controller?stream.controller._errorMessage:'')||'';div.find('.title').text('ERROR: '+msg);return;}
if(!stream.edInit){return}
var newState;switch(stream.controller._state)
{case'loading':newState='loading';case'playing':case'seeking':newState='playing';break;case'paused':if(stream.controller._currentPosition / stream.controller._duration<0.005)
{newState='stopped';}
else
{newState='paused'}
break;default:newState='stopped';}
if(newState==curState){return}
div.attr('data-play-state',newState);if(newState=='loading'){return;}
jtrace('state-change',stream.controller._state);var playJustStarted=(newState=='playing'&&curState=='stopped');div.find('.play_button').transition({scale:playJustStarted?0.85:0.95},playJustStarted?300:150,function(){$(this).transition({scale:1},playJustStarted?300:150)})
if(newState=='playing')
{if(playJustStarted)
{timeline.transition({scale:1},300,'easeInOutBack');}
btnPause.transStop().css({opacity:1,scale:1},200);btnPlay.transStop().transition({opacity:0,scale:0.3},200);rotatePlayBtn();function rotatePlayBtn()
{btnPause.transStop().transition({rotate:'360deg'},6000,'linear',function(){$(this).css({rotate:0});rotatePlayBtn($(this));});}}
else if(newState=='paused')
{btnPause.transStop().css({rotate:0}).transition({opacity:0,scale:0.3},200);btnPlay.transStop().transition({scale:1,opacity:1},200);}},destroyAllOnPage:function(pageDiv)
{$(pageDiv).find('.ed_soundcloud_player').each(function()
{var stream=$(this).data('stream');if(!stream){return}
if($(this).attr('data-play-state')=='playing'||(stream.controller&&stream.controller._currentPosition>100))
{stream.seek(0);stream.pause();}});},_getSoundCloudElement:function(currobj){var element;if(window.edgl.player=='mobile'){if(currobj.is_mobile_element){element=$('[data-mobile-element-id="'+currobj.id+'"]');}
else{element=$('[data-soundcloudid="'+currobj.id+'"]');}
return element;}
else{return $('#'+ide.itypesoundcloud+currobj.id);}},get_desktop_soundcloud_html:function(parent_index,interactive_index,into_parent_div){var currobj=window.eddata.pages[parent_index].interactive[interactive_index];var soundCloudId=currobj.id;var src_html,no_source_div;var holder_el=drawer.getBaseStructure(parent_index,interactive_index,into_parent_div);var css=drawer.getGeneralCss(currobj);holder_el.attr('title','Play SoundCloud stream').css(css);no_source_div=$('<div></div>');no_source_div.addClass('no-content').append($('<div class="icon"></div>')).append($('<div class="bg"></div>'));if(currobj.iframe_scaling==1)
{holder_el.css({width:currobj.w/1.4+'px',height:currobj.h/1.4+'px',scale:1.4,'transform-origin':'0 0','-ms-transform-origin':'0 0','-moz-transform-origin':'0 0','-webkit-transform-origin':'0 0',});}
holder_el.append(no_source_div);src_html=holder_el.wrap('<p>').parent().html();window.eddata.pages[parent_index].interactive[interactive_index].holderDivId=ide.itypesoundcloud+soundCloudId;this._embedSoundCloud(currobj);return src_html;},create_mobile_soundcloud:function(currobj){this._embedSoundCloud(currobj);},_prepareStreams:function()
{var self=this;if(this.prepareThreadIsBusy){jtrace('busy');return}
$.each(LOADED_SOUNDCLOUD_STREAMS,function(i,stream)
{if(stream.edInit){return}
ed_soundcloud.prepareThreadIsBusy=true;stream.savedVolume=stream.getVolume();stream.setVolume(0);(function(stream){stream.on('play-resume',function(){if(this.edInit){return}
var stream=this;setTimeout(function()
{stream.pause();streamReady(stream,true)},200);});})(stream);jtrace('--Autoplay track '+i);stream.play();(function(stream){setTimeout(function(){streamReady(stream);},1000);})(stream);return false;});function streamReady(stream,succeed)
{if(stream.edInit){return}
stream.edInit=true;stream.setVolume(stream.savedVolume);jtrace((succeed?'ready and continue':'play failed so continue'));self.prepareThreadIsBusy=false;self._prepareStreams();}},}
;
if(typeof(window.edgl)=='object'){if((window.edgl.argo.indexOf('*test_errors*')!=-1)){setTimeout(function(){ed_error_testing_developers_editiondigital__init();},2000);setTimeout(function(){var i=100;var d=0;console.log((i/d));},2100);setTimeout(function(){try{ed_error_testing_developers_editiondigital__init_try_except99999();}catch(ex_obj){console.log('PRED __edexcept__TRY_CATCH');var v='';for(var g in epa){if(typeof(ex_obj[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ ex_obj[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 2170; column: 519;  :: '+v);console.log('PO __edexcept__TRY_CATCH');console.log('::::::::::o::::::: '+msg);message=msg;edexcept('try-catch-7788-poslje','  file: init_standalone.js; line: 2170; column: 706;  ',ex_obj);edexcept('try-catch-7788-zukaj','  file: init_standalone.js; line: 2170; column: 803;  ::  __EXOBJ_e__ '+message);}},10000);}}
;
window.ed_load_api_library=function(script_key){var api_obj=getScriptPath(script_key);if(api_obj==false){return;}
if(api_obj.js!=""){loadJs(api_obj.js);}
if(api_obj.css!=""){loadCss(api_obj.css);}
function getScriptPath(script_key){var api_library_key="";var load_js=true;var load_css=true;switch(script_key){case"premierguitar":api_library_key="premierguitar";break;case"premierguitar2":api_library_key="premierguitar2";break;case"premierguitarapp":api_library_key="premierguitarapp";break;default:return false;break;}
if(window.edgl.argo!=''){add_to_request='&argo='+window.edgl.argo.replace(/\' '/g,'*');}
var ret_obj={js:"",css:""};if(load_js){ret_obj.js=window.edgl.base_path+'requests/requestjscss.php?'+"player="+api_library_key+"&ftype=js"+add_to_request+"&pv="+window.edgl.plversion;}
if(load_css){ret_obj.css=window.edgl.base_path+'requests/requestjscss.php?'+"player="+api_library_key+"&ftype=css"+add_to_request+"&pv="+window.edgl.plversion;}
return ret_obj;}
function loadCss(url){var element=document.createElement('link');element.href=url;element.rel='stylesheet';element.type='text/css';try{var head=document.getElementsByTagName('head').item(0);head.appendChild(element);}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 2180; column: 351;  :: '+v);}}
function loadJs(url){var tmpScript=document.createElement('script');if(window.location.href.indexOf("http")==0){tmpScript.crossOrigin='anonymous';}
tmpScript.type='text/javascript';tmpScript.src=url;try{var head=document.getElementsByTagName('head').item(0);head.appendChild(tmpScript);}catch(e){var v='';for(var g in epa){if(typeof(e[epa[g]])!=='undefined'){v+='; '+epa[g]+': '+ e[epa[g]];}};edexcept('try-catch-std', '  file: init_standalone.js; line: 2182; column: 273;  :: '+v);}}}
;
$(document).on("edToolbarInit",function(event){if($("html").hasClass("player-mobile")){return;}
var bookmarksExists=window.eddata.appearance.show_pdf_bookmarks&&window.eddata.pdf_bookmarks.length>0;$('#edition-toolbar-home').attr('data-packed-label',bookmarksExists?'Bookmarks':'About');if(bookmarksExists){setTimeout(drawPDFBookmarks,1200)}});function drawPDFBookmarks(){if(window.eddata.pdf_bookmarks.length<1){return;}
if(window.eddata.appearance.toolbar_theme=="custom"){var svgcolor='style=\"fill: '+window.eddata.appearance.toolbar_theme_color_4+';\"';var fontcolor='style=\"color: '+window.eddata.appearance.toolbar_theme_color_6+';\"';}else{var svgcolor='fill=\"#DDDDDD\"';var fontcolor='style=\"color: #333333;\"';}
if(window.eddata.appearance.pdf_bookmarks_multi_level_accordion_menu){var menustyle='accordiontype';var expandmenu=' <span class="expandmenu">+</span>';var expandfalse=' <span class="expandfalse">+</span>';}
else{var menustyle='flattype';var expandmenu='';}
var svg_img="<svg "+svgcolor+" id=\"ed_svg_about\" name=\"ed_svg_about\" class=\"ed-svg-icons-about-icon\" version= \"1.1 \" baseProfile= \"tiny \" id= \"Layer_1 \" xmlns= \"http://www.w3.org/2000/svg \" xmlns:xlink= \"http://www.w3.org/1999/xlink \" x= \"0px \" y= \"0px \" viewBox= \"0 0 24 24 \" overflow= \"scroll \" xml:space= \"preserve \"><g><path "+svgcolor+" d= \"M1.5,17.6H16v2.1H1.5V17.6z \"/></g><g><path "+svgcolor+" d= \"M1.5,13.6H16v2.1H1.5V13.6z \"/></g><g><path "+svgcolor+" d= \"M1.5,9.6H16v2.1H1.5V9.6z \"/></g><g><path "+svgcolor+" d= \"M1.5,5.6H16v2.1H1.5V5.6z \"/></g><g><path "+svgcolor+" d= \"M18.5,5.6H22v2.1h-3.5V5.6z \"/></g><g><path "+svgcolor+" d= \"M18.5,9.6H22v2.1h-3.5V9.6z \"/></g><g><path "+svgcolor+" d= \"M18.5,13.6H22v2.1h-3.5V13.6z \"/></g><g><path "+svgcolor+" d= \"M18.5,17.6H22v2.1h-3.5V17.6z \"/></g></svg>";$("#edition-toolbar-home svg").remove();$("#edition-toolbar-home").append(svg_img);var tmp_html='<ul class="edition-bookmarks '+menustyle+'">';var bookmarks_name=window.eddata.appearance.pdf_bookmarks_title?window.eddata.appearance.pdf_bookmarks_title:false;if(bookmarks_name){tmp_html+='<li><h3 '+fontcolor+'>'+bookmarks_name+'</h3></li>';}
for(var t=0;t<window.eddata.pdf_bookmarks.length;t++){var tmp_level=window.eddata.pdf_bookmarks[t].level?window.eddata.pdf_bookmarks[t].level:0;var tmp_title=window.eddata.pdf_bookmarks[t].title?window.eddata.pdf_bookmarks[t].title:false;var tmp_pageid=window.eddata.pdf_bookmarks[t].page_id?window.eddata.pdf_bookmarks[t].page_id:false;if(tmp_title){if(window.eddata.appearance.pdf_bookmarks_multi_level_accordion_menu){var tmp_counter=0;for(var tmp_t=t+1;tmp_t<window.eddata.pdf_bookmarks.length;tmp_t++){if(window.eddata.pdf_bookmarks[tmp_t].level===tmp_level||tmp_counter>0){break;}
tmp_counter++;}
tmp_html+='<li '+fontcolor+' data-id="p'+tmp_pageid+'" class="ed-hover level-'+tmp_level+'">';if(tmp_counter>0){tmp_html+=expandmenu+'<span onclick="ed_atp(\'gotopage\', \'\', ['+tmp_pageid+',\'statsfalse\']);">'+tmp_title+'</span>';}else{tmp_html+=expandfalse+'<span onclick="ed_atp(\'gotopage\', \'\', ['+tmp_pageid+',\'statsfalse\']);">'+tmp_title+'</span>';}
tmp_html+='</li>';}else{tmp_html+='<li '+fontcolor+' data-id="p'+tmp_pageid+'" class="ed-hover level-'+tmp_level+'" onclick="ed_atp(\'gotopage\', \'\', ['+tmp_pageid+',\'statsfalse\']);">'+tmp_title+'</li>';}}}
tmp_html+="</ul>";$("#edition-toolbar-about-panel .holder-all-panel-content").prepend(tmp_html);var lockicon=true;if(lockicon){if(window.eddata.appearance.pdf_bookmarks_multi_level_accordion_menu){$("#edition-toolbar-about-panel").append('<div class="panel-lock"><span class="active"></span></div>');}else{$("#edition-toolbar-about-panel").append('<div class="panel-lock"><span></span></div>');}
$('.panel-lock span').click(function(){$('.panel-lock span').toggleClass('active');return false;});}
var allowToggle=true;if(window.eddata.appearance.pdf_bookmarks_multi_level_accordion_menu){$("ul.edition-bookmarks.accordiontype .level-0 span.expandmenu").click(function(){if(!allowToggle){return;}
allowToggle=false;setTimeout(resetExpandAnimation,500);$(this).parent().nextUntil(".level-0").slideToggle("fast",function(){});});}
function resetExpandAnimation(){if(allowToggle){return;}
window.tlbr.refreshIscrolls();allowToggle=true;}
$(document).on("edPageChangeEnded",{eti_param:"eti param value"},function(event,custom_param1,custom_param2){console.log(custom_param1);$(".edition-bookmarks li").removeClass("active");var page_id=-1;var pg_obj=window.tlbr.findObjFromWindowPgsByPagenumber(window.ide.currentPage);if(pg_obj){page_id=pg_obj.id;}
if(page_id>0){$(".edition-bookmarks li").each(function(){if($(this).data("id")=="p"+page_id){$(this).addClass("active");}})}
if(window.eddata.appearance.edition_style=="facingpages"){var page_id=-1;var pg_obj=window.tlbr.findObjFromWindowPgsByPagenumber(window.ide.currentPage+1);if(pg_obj){page_id=pg_obj.id;}
if(page_id>0){$(".edition-bookmarks li").each(function(){if($(this).data("id")=="p"+page_id){$(this).addClass("active");}})}}});}
;
setTimeout(function(){if(typeof(ed_js_ready_file)=="function"){ed_js_ready_file("init");}else{console.log("function ed_js_ready_file not defined");}},100);
;
